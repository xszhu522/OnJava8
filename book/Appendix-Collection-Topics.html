<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.67" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://xszhu522.github.io/OnJava8/book/Appendix-Collection-Topics.html"><meta property="og:site_name" content="On Java 8"><meta property="og:title" content="é™„å½•:é›†åˆä¸»é¢˜"><meta property="og:description" content="[TOC] æœ¬é™„å½•æ˜¯ä¸€äº›æ¯”ç¬¬åäºŒç«  é›†åˆ ()ä¸­ä»‹ç»çš„æ›´é«˜çº§çš„å†…å®¹ã€‚ ç¤ºä¾‹æ•°æ® è¿™é‡Œåˆ›å»ºä¸€äº›æ ·æœ¬æ•°æ®ç”¨äºé›†åˆç¤ºä¾‹ã€‚ ä»¥ä¸‹æ•°æ®å°†é¢œè‰²åç§°ä¸HTMLé¢œè‰²çš„RGBå€¼ç›¸å…³è”ã€‚è¯·æ³¨æ„ï¼Œæ¯ä¸ªé”®å’Œå€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼š MAP æ˜¯ä½¿ç”¨Streamsï¼ˆç¬¬åå››ç«  æµå¼ç¼–ç¨‹ ()ï¼‰åˆ›å»ºçš„ã€‚ äºŒç»´æ•°ç»„ ARRAY ä½œä¸ºæµä¼ è¾“åˆ° Map ä¸­ï¼Œä½†è¯·æ³¨æ„æˆ‘ä»¬ä¸ä»…ä»…æ˜¯ä½¿ç”¨ç®€å•ç‰ˆæœ¬çš„ Col..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2020-11-04T04:08:43.000Z"><meta property="article:author" content="xszhu522"><meta property="article:modified_time" content="2020-11-04T04:08:43.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"é™„å½•:é›†åˆä¸»é¢˜","image":[""],"dateModified":"2020-11-04T04:08:43.000Z","author":[{"@type":"Person","name":"xszhu522","url":"https://xszhu522.github.io"}]}</script><title>é™„å½•:é›†åˆä¸»é¢˜ | On Java 8</title><meta name="description" content="[TOC] æœ¬é™„å½•æ˜¯ä¸€äº›æ¯”ç¬¬åäºŒç«  é›†åˆ ()ä¸­ä»‹ç»çš„æ›´é«˜çº§çš„å†…å®¹ã€‚ ç¤ºä¾‹æ•°æ® è¿™é‡Œåˆ›å»ºä¸€äº›æ ·æœ¬æ•°æ®ç”¨äºé›†åˆç¤ºä¾‹ã€‚ ä»¥ä¸‹æ•°æ®å°†é¢œè‰²åç§°ä¸HTMLé¢œè‰²çš„RGBå€¼ç›¸å…³è”ã€‚è¯·æ³¨æ„ï¼Œæ¯ä¸ªé”®å’Œå€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼š MAP æ˜¯ä½¿ç”¨Streamsï¼ˆç¬¬åå››ç«  æµå¼ç¼–ç¨‹ ()ï¼‰åˆ›å»ºçš„ã€‚ äºŒç»´æ•°ç»„ ARRAY ä½œä¸ºæµä¼ è¾“åˆ° Map ä¸­ï¼Œä½†è¯·æ³¨æ„æˆ‘ä»¬ä¸ä»…ä»…æ˜¯ä½¿ç”¨ç®€å•ç‰ˆæœ¬çš„ Col...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/OnJava8/assets/style-10c1da5f.css" as="style"><link rel="stylesheet" href="/OnJava8/assets/style-10c1da5f.css">
    <link rel="modulepreload" href="/OnJava8/assets/app-8cd7c144.js"><link rel="modulepreload" href="/OnJava8/assets/Appendix-Collection-Topics.html-52d49969.js"><link rel="modulepreload" href="/OnJava8/assets/Appendix-Collection-Topics.html-e4464bec.js"><link rel="modulepreload" href="/OnJava8/assets/plugin-vue_export-helper-c27b6911.js"><link rel="prefetch" href="/OnJava8/assets/index.html-ae9de093.js" as="script"><link rel="prefetch" href="/OnJava8/assets/coverpage.html-2d7c242d.js" as="script"><link rel="prefetch" href="/OnJava8/assets/00-Introduction.html-eaf49a2e.js" as="script"><link rel="prefetch" href="/OnJava8/assets/00-On-Java-8.html-a8fe88ea.js" as="script"><link rel="prefetch" href="/OnJava8/assets/00-Preface.html-33e8e601.js" as="script"><link rel="prefetch" href="/OnJava8/assets/01-What-is-an-Object.html-f37b3b40.js" as="script"><link rel="prefetch" href="/OnJava8/assets/02-Installing-Java-and-the-Book-Examples.html-c84afff7.js" as="script"><link rel="prefetch" href="/OnJava8/assets/03-Objects-Everywhere.html-beea03fa.js" as="script"><link rel="prefetch" href="/OnJava8/assets/04-Operators.html-323f3057.js" as="script"><link rel="prefetch" href="/OnJava8/assets/05-Control-Flow.html-bf18cc56.js" as="script"><link rel="prefetch" href="/OnJava8/assets/06-Housekeeping.html-e508181e.js" as="script"><link rel="prefetch" href="/OnJava8/assets/07-Implementation-Hiding.html-9af46ea9.js" as="script"><link rel="prefetch" href="/OnJava8/assets/08-Reuse.html-f97f523b.js" as="script"><link rel="prefetch" href="/OnJava8/assets/09-Polymorphism.html-41b7d772.js" as="script"><link rel="prefetch" href="/OnJava8/assets/10-Interfaces.html-afcf9254.js" as="script"><link rel="prefetch" href="/OnJava8/assets/11-Inner-Classes.html-adbf7418.js" as="script"><link rel="prefetch" href="/OnJava8/assets/12-Collections.html-dc2016be.js" as="script"><link rel="prefetch" href="/OnJava8/assets/13-Functional-Programming.html-368d74ac.js" as="script"><link rel="prefetch" href="/OnJava8/assets/14-Streams.html-edb0d6ae.js" as="script"><link rel="prefetch" href="/OnJava8/assets/15-Exceptions.html-162f70de.js" as="script"><link rel="prefetch" href="/OnJava8/assets/16-Validating-Your-Code.html-dff757e2.js" as="script"><link rel="prefetch" href="/OnJava8/assets/17-Files.html-838bdaa3.js" as="script"><link rel="prefetch" href="/OnJava8/assets/18-Strings.html-b6d7176a.js" as="script"><link rel="prefetch" href="/OnJava8/assets/19-Type-Information.html-1d0b2d38.js" as="script"><link rel="prefetch" href="/OnJava8/assets/20-Generics.html-e5bc5ce5.js" as="script"><link rel="prefetch" href="/OnJava8/assets/21-Arrays.html-dfd4b9c2.js" as="script"><link rel="prefetch" href="/OnJava8/assets/22-Enumerations.html-86f0e001.js" as="script"><link rel="prefetch" href="/OnJava8/assets/23-Annotations.html-0c47a09d.js" as="script"><link rel="prefetch" href="/OnJava8/assets/24-Concurrent-Programming.html-294153f0.js" as="script"><link rel="prefetch" href="/OnJava8/assets/25-Patterns.html-3d56a821.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Becoming-a-Programmer.html-cc89cd30.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Benefits-and-Costs-of-Static-Type-Checking.html-24edb6d7.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Data-Compression.html-228c62f5.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-IO-Streams.html-5d583abd.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Javadoc.html-c66f92ca.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Low-Level-Concurrency.html-7339dbfe.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-New-IO.html-c5368fa3.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Object-Serialization.html-17708ac0.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Passing-and-Returning-Objects.html-c7f2017f.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Programming-Guidelines.html-7da455c2.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Standard-IO.html-84dd3a9b.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Supplements.html-ad0c06dd.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-The-Positive-Legacy-of-C-plus-plus-and-Java.html-7a78a5af.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Understanding-equals-and-hashCode.html-f96f89b9.js" as="script"><link rel="prefetch" href="/OnJava8/assets/GLOSSARY.html-601bb92d.js" as="script"><link rel="prefetch" href="/OnJava8/assets/MYWORD.html-46d53d67.js" as="script"><link rel="prefetch" href="/OnJava8/assets/index.html-63c1d859.js" as="script"><link rel="prefetch" href="/OnJava8/assets/404.html-04cd5334.js" as="script"><link rel="prefetch" href="/OnJava8/assets/index.html-321d0b1f.js" as="script"><link rel="prefetch" href="/OnJava8/assets/coverpage.html-435d4ebd.js" as="script"><link rel="prefetch" href="/OnJava8/assets/00-Introduction.html-d925f003.js" as="script"><link rel="prefetch" href="/OnJava8/assets/00-On-Java-8.html-95d60ecc.js" as="script"><link rel="prefetch" href="/OnJava8/assets/00-Preface.html-7182d6a4.js" as="script"><link rel="prefetch" href="/OnJava8/assets/01-What-is-an-Object.html-c1826a07.js" as="script"><link rel="prefetch" href="/OnJava8/assets/02-Installing-Java-and-the-Book-Examples.html-6b876213.js" as="script"><link rel="prefetch" href="/OnJava8/assets/03-Objects-Everywhere.html-14a23e72.js" as="script"><link rel="prefetch" href="/OnJava8/assets/04-Operators.html-3b91364f.js" as="script"><link rel="prefetch" href="/OnJava8/assets/05-Control-Flow.html-10b2eaf0.js" as="script"><link rel="prefetch" href="/OnJava8/assets/06-Housekeeping.html-61cdd2de.js" as="script"><link rel="prefetch" href="/OnJava8/assets/07-Implementation-Hiding.html-a519aeca.js" as="script"><link rel="prefetch" href="/OnJava8/assets/08-Reuse.html-97eab663.js" as="script"><link rel="prefetch" href="/OnJava8/assets/09-Polymorphism.html-1b638750.js" as="script"><link rel="prefetch" href="/OnJava8/assets/10-Interfaces.html-6945583a.js" as="script"><link rel="prefetch" href="/OnJava8/assets/11-Inner-Classes.html-3e7b1ec7.js" as="script"><link rel="prefetch" href="/OnJava8/assets/12-Collections.html-0b043de4.js" as="script"><link rel="prefetch" href="/OnJava8/assets/13-Functional-Programming.html-558feefe.js" as="script"><link rel="prefetch" href="/OnJava8/assets/14-Streams.html-a97677b8.js" as="script"><link rel="prefetch" href="/OnJava8/assets/15-Exceptions.html-dbd0bb1a.js" as="script"><link rel="prefetch" href="/OnJava8/assets/16-Validating-Your-Code.html-e202705c.js" as="script"><link rel="prefetch" href="/OnJava8/assets/17-Files.html-a47cd99a.js" as="script"><link rel="prefetch" href="/OnJava8/assets/18-Strings.html-2db300d0.js" as="script"><link rel="prefetch" href="/OnJava8/assets/19-Type-Information.html-9008f166.js" as="script"><link rel="prefetch" href="/OnJava8/assets/20-Generics.html-874e332a.js" as="script"><link rel="prefetch" href="/OnJava8/assets/21-Arrays.html-6d3a91e1.js" as="script"><link rel="prefetch" href="/OnJava8/assets/22-Enumerations.html-d2c494c2.js" as="script"><link rel="prefetch" href="/OnJava8/assets/23-Annotations.html-4c76bf3d.js" as="script"><link rel="prefetch" href="/OnJava8/assets/24-Concurrent-Programming.html-58fd059e.js" as="script"><link rel="prefetch" href="/OnJava8/assets/25-Patterns.html-7f6a1f47.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Becoming-a-Programmer.html-869dc10a.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Benefits-and-Costs-of-Static-Type-Checking.html-aa3838cb.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Data-Compression.html-b4a2451f.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-IO-Streams.html-764e8eb8.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Javadoc.html-bec5e07f.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Low-Level-Concurrency.html-c9019577.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-New-IO.html-b07312db.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Object-Serialization.html-948f9568.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Passing-and-Returning-Objects.html-3e28aa17.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Programming-Guidelines.html-44e7cccc.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Standard-IO.html-96d4c6c4.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Supplements.html-0661a2ba.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-The-Positive-Legacy-of-C-plus-plus-and-Java.html-d35da45a.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Understanding-equals-and-hashCode.html-cd0a1308.js" as="script"><link rel="prefetch" href="/OnJava8/assets/GLOSSARY.html-f5dbe861.js" as="script"><link rel="prefetch" href="/OnJava8/assets/MYWORD.html-72904be3.js" as="script"><link rel="prefetch" href="/OnJava8/assets/index.html-709a325e.js" as="script"><link rel="prefetch" href="/OnJava8/assets/404.html-6ea8e219.js" as="script"><link rel="prefetch" href="/OnJava8/assets/giscus-0b7adcf8.js" as="script"><link rel="prefetch" href="/OnJava8/assets/photoswipe.esm-1464cdb9.js" as="script"><link rel="prefetch" href="/OnJava8/assets/SearchResult-42650c29.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand vp-brand" href="/OnJava8/"><img class="vp-nav-logo" src="/OnJava8/LogoMark.png" alt="On Java 8"><!----><span class="vp-site-name hide-in-pad">On Java 8</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a aria-label="é¡¹ç›®ä¸»é¡µ" class="vp-link nav-link nav-link" href="/OnJava8/"><span class="font-icon icon fa-home fas" style=""></span>é¡¹ç›®ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="OnJava8" class="vp-link nav-link active nav-link active" href="/OnJava8/book/"><span class="font-icon icon fa-book fas" style=""></span>OnJava8<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/xszhu522/OnJava8" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" class="outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><!--[--><button type="button" class="search-pro-button" role="search" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">æœç´¢</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><!--[--><a aria-label="ç›®å½•" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/"><!---->ç›®å½•<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="è¯‘è€…çš„è¯" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/MYWORD.html"><!---->è¯‘è€…çš„è¯<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="å°é¢" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/00-On-Java-8.html"><!---->å°é¢<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="å‰è¨€" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/00-Preface.html"><!---->å‰è¨€<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç®€ä»‹" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/00-Introduction.html"><!---->ç®€ä»‹<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬ä¸€ç«  å¯¹è±¡çš„æ¦‚å¿µ" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/01-What-is-an-Object.html"><!---->ç¬¬ä¸€ç«  å¯¹è±¡çš„æ¦‚å¿µ<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬äºŒç«  å®‰è£…Javaå’Œæœ¬ä¹¦ç”¨ä¾‹" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/02-Installing-Java-and-the-Book-Examples.html"><!---->ç¬¬äºŒç«  å®‰è£…Javaå’Œæœ¬ä¹¦ç”¨ä¾‹<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬ä¸‰ç«  ä¸‡ç‰©çš†å¯¹è±¡" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/03-Objects-Everywhere.html"><!---->ç¬¬ä¸‰ç«  ä¸‡ç‰©çš†å¯¹è±¡<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬å››ç«  è¿ç®—ç¬¦" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/04-Operators.html"><!---->ç¬¬å››ç«  è¿ç®—ç¬¦<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬äº”ç«  æ§åˆ¶æµ" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/05-Control-Flow.html"><!---->ç¬¬äº”ç«  æ§åˆ¶æµ<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬å…­ç«  åˆå§‹åŒ–å’Œæ¸…ç†" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/06-Housekeeping.html"><!---->ç¬¬å…­ç«  åˆå§‹åŒ–å’Œæ¸…ç†<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬ä¸ƒç«  å°è£…" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/07-Implementation-Hiding.html"><!---->ç¬¬ä¸ƒç«  å°è£…<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬å…«ç«  å¤ç”¨" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/08-Reuse.html"><!---->ç¬¬å…«ç«  å¤ç”¨<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬ä¹ç«  å¤šæ€" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/09-Polymorphism.html"><!---->ç¬¬ä¹ç«  å¤šæ€<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬åç«  æ¥å£" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/10-Interfaces.html"><!---->ç¬¬åç«  æ¥å£<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬åä¸€ç«  å†…éƒ¨ç±»" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/11-Inner-Classes.html"><!---->ç¬¬åä¸€ç«  å†…éƒ¨ç±»<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬åäºŒç«  é›†åˆ" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/12-Collections.html"><!---->ç¬¬åäºŒç«  é›†åˆ<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬åä¸‰ç«  å‡½æ•°å¼ç¼–ç¨‹" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/13-Functional-Programming.html"><!---->ç¬¬åä¸‰ç«  å‡½æ•°å¼ç¼–ç¨‹<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬åå››ç«  æµå¼ç¼–ç¨‹" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/14-Streams.html"><!---->ç¬¬åå››ç«  æµå¼ç¼–ç¨‹<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬åäº”ç«  å¼‚å¸¸" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/15-Exceptions.html"><!---->ç¬¬åäº”ç«  å¼‚å¸¸<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬åå…­ç«  ä»£ç æ ¡éªŒ" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/16-Validating-Your-Code.html"><!---->ç¬¬åå…­ç«  ä»£ç æ ¡éªŒ<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬åä¸ƒç«  æ–‡ä»¶" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/17-Files.html"><!---->ç¬¬åä¸ƒç«  æ–‡ä»¶<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬åå…«ç«  å­—ç¬¦ä¸²" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/18-Strings.html"><!---->ç¬¬åå…«ç«  å­—ç¬¦ä¸²<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬åä¹ç«  ç±»å‹ä¿¡æ¯" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/19-Type-Information.html"><!---->ç¬¬åä¹ç«  ç±»å‹ä¿¡æ¯<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬äºŒåç«  æ³›å‹" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/20-Generics.html"><!---->ç¬¬äºŒåç«  æ³›å‹<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬äºŒåä¸€ç«  æ•°ç»„" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/21-Arrays.html"><!---->ç¬¬äºŒåä¸€ç«  æ•°ç»„<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬äºŒåäºŒç«  æšä¸¾" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/22-Enumerations.html"><!---->ç¬¬äºŒåäºŒç«  æšä¸¾<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬äºŒåä¸‰ç«  æ³¨è§£" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/23-Annotations.html"><!---->ç¬¬äºŒåä¸‰ç«  æ³¨è§£<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬äºŒåå››ç«  å¹¶å‘ç¼–ç¨‹" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/24-Concurrent-Programming.html"><!---->ç¬¬äºŒåå››ç«  å¹¶å‘ç¼–ç¨‹<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬äºŒåäº”ç«  è®¾è®¡æ¨¡å¼" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/25-Patterns.html"><!---->ç¬¬äºŒåäº”ç«  è®¾è®¡æ¨¡å¼<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:æˆä¸ºä¸€åç¨‹åºå‘˜" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-Becoming-a-Programmer.html"><!---->é™„å½•:æˆä¸ºä¸€åç¨‹åºå‘˜<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:é™æ€è¯­è¨€ç±»å‹æ£€æŸ¥" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-Benefits-and-Costs-of-Static-Type-Checking.html"><!---->é™„å½•:é™æ€è¯­è¨€ç±»å‹æ£€æŸ¥<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:é›†åˆä¸»é¢˜" class="vp-link nav-link active vp-sidebar-link vp-sidebar-page active nav-link active vp-sidebar-link vp-sidebar-page active" href="/OnJava8/book/Appendix-Collection-Topics.html"><!---->é™„å½•:é›†åˆä¸»é¢˜<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="ç¤ºä¾‹æ•°æ®" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#ç¤ºä¾‹æ•°æ®"><!---->ç¤ºä¾‹æ•°æ®<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Listè¡Œä¸º" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#listè¡Œä¸º"><!---->Listè¡Œä¸º<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Setè¡Œä¸º" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#setè¡Œä¸º"><!---->Setè¡Œä¸º<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="åœ¨Mapä¸­ä½¿ç”¨å‡½æ•°å¼æ“ä½œ" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#åœ¨mapä¸­ä½¿ç”¨å‡½æ•°å¼æ“ä½œ"><!---->åœ¨Mapä¸­ä½¿ç”¨å‡½æ•°å¼æ“ä½œ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="é€‰æ‹©Mapç‰‡æ®µ" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#é€‰æ‹©mapç‰‡æ®µ"><!---->é€‰æ‹©Mapç‰‡æ®µ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="å¡«å……é›†åˆ" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#å¡«å……é›†åˆ"><!---->å¡«å……é›†åˆ<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="ä½¿ç”¨ Suppliers å¡«å……é›†åˆ" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#ä½¿ç”¨-suppliers-å¡«å……é›†åˆ"><!---->ä½¿ç”¨ Suppliers å¡«å……é›†åˆ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Map Suppliers" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#map-suppliers"><!---->Map Suppliers<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ä½¿ç”¨äº«å…ƒï¼ˆFlyweightï¼‰è‡ªå®šä¹‰Collectionå’ŒMap" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#ä½¿ç”¨äº«å…ƒ-flyweight-è‡ªå®šä¹‰collectionå’Œmap"><!---->ä½¿ç”¨äº«å…ƒï¼ˆFlyweightï¼‰è‡ªå®šä¹‰Collectionå’ŒMap<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="é›†åˆåŠŸèƒ½" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#é›†åˆåŠŸèƒ½"><!---->é›†åˆåŠŸèƒ½<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="å¯é€‰æ“ä½œ" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#å¯é€‰æ“ä½œ"><!---->å¯é€‰æ“ä½œ<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="ä¸æ”¯æŒçš„æ“ä½œ" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#ä¸æ”¯æŒçš„æ“ä½œ"><!---->ä¸æ”¯æŒçš„æ“ä½œ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Setå’Œå­˜å‚¨é¡ºåº" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#setå’Œå­˜å‚¨é¡ºåº"><!---->Setå’Œå­˜å‚¨é¡ºåº<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="SortedSet" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#sortedset"><!---->SortedSet<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="é˜Ÿåˆ—" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#é˜Ÿåˆ—"><!---->é˜Ÿåˆ—<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="ä¼˜å…ˆçº§é˜Ÿåˆ—" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#ä¼˜å…ˆçº§é˜Ÿåˆ—"><!---->ä¼˜å…ˆçº§é˜Ÿåˆ—<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="åŒç«¯é˜Ÿåˆ—" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#åŒç«¯é˜Ÿåˆ—"><!---->åŒç«¯é˜Ÿåˆ—<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ç†è§£Map" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#ç†è§£map"><!---->ç†è§£Map<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="æ€§èƒ½" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#æ€§èƒ½"><!---->æ€§èƒ½<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="SortedMap" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#sortedmap"><!---->SortedMap<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="LinkedHashMap" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#linkedhashmap"><!---->LinkedHashMap<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="é›†åˆå·¥å…·ç±»" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#é›†åˆå·¥å…·ç±»"><!---->é›†åˆå·¥å…·ç±»<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="æ’åºå’Œæœç´¢åˆ—è¡¨" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#æ’åºå’Œæœç´¢åˆ—è¡¨"><!---->æ’åºå’Œæœç´¢åˆ—è¡¨<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="åˆ›å»ºä¸å¯ä¿®æ”¹çš„ Collection æˆ– Map" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#åˆ›å»ºä¸å¯ä¿®æ”¹çš„-collection-æˆ–-map"><!---->åˆ›å»ºä¸å¯ä¿®æ”¹çš„ Collection æˆ– Map<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="åŒæ­¥ Collection æˆ– Map" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#åŒæ­¥-collection-æˆ–-map"><!---->åŒæ­¥ Collection æˆ– Map<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æŒæœ‰å¼•ç”¨" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#æŒæœ‰å¼•ç”¨"><!---->æŒæœ‰å¼•ç”¨<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="WeakHashMap" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#weakhashmap"><!---->WeakHashMap<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Java 1.0 / 1.1 çš„é›†åˆç±»" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#java-1-0-1-1-çš„é›†åˆç±»"><!---->Java 1.0 / 1.1 çš„é›†åˆç±»<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="Vector å’Œ Enumeration" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#vector-å’Œ-enumeration"><!---->Vector å’Œ Enumeration<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Hashtable" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#hashtable"><!---->Hashtable<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Stack" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#stack"><!---->Stack<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="BitSet" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#bitset"><!---->BitSet<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æœ¬ç« å°ç»“" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/Appendix-Collection-Topics.html#æœ¬ç« å°ç»“"><!---->æœ¬ç« å°ç»“<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:æ•°æ®å‹ç¼©" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-Data-Compression.html"><!---->é™„å½•:æ•°æ®å‹ç¼©<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:æµå¼IO" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-IO-Streams.html"><!---->é™„å½•:æµå¼IO<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:æ–‡æ¡£æ³¨é‡Š" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-Javadoc.html"><!---->é™„å½•:æ–‡æ¡£æ³¨é‡Š<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:å¹¶å‘åº•å±‚åŸç†" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-Low-Level-Concurrency.html"><!---->é™„å½•:å¹¶å‘åº•å±‚åŸç†<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:æ–°IO" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-New-IO.html"><!---->é™„å½•:æ–°IO<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:å¯¹è±¡åºåˆ—åŒ–" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-Object-Serialization.html"><!---->é™„å½•:å¯¹è±¡åºåˆ—åŒ–<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:å¯¹è±¡ä¼ é€’å’Œè¿”å›" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-Passing-and-Returning-Objects.html"><!---->é™„å½•:å¯¹è±¡ä¼ é€’å’Œè¿”å›<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:ç¼–ç¨‹æŒ‡å—" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-Programming-Guidelines.html"><!---->é™„å½•:ç¼–ç¨‹æŒ‡å—<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:æ ‡å‡†IO" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-Standard-IO.html"><!---->é™„å½•:æ ‡å‡†IO<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:è¡¥å……" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-Supplements.html"><!---->é™„å½•:è¡¥å……<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:C++å’ŒJavaçš„ä¼˜è‰¯ä¼ ç»Ÿ" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-The-Positive-Legacy-of-C-plus-plus-and-Java.html"><!---->é™„å½•:C++å’ŒJavaçš„ä¼˜è‰¯ä¼ ç»Ÿ<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:ç†è§£equalså’ŒhashCodeæ–¹æ³•" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-Understanding-equals-and-hashCode.html"><!---->é™„å½•:ç†è§£equalså’ŒhashCodeæ–¹æ³•<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="è¯æ±‡è¡¨" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/GLOSSARY.html"><!---->è¯æ±‡è¡¨<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->é™„å½•:é›†åˆä¸»é¢˜</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://xszhu522.github.io" target="_blank" rel="noopener noreferrer">xszhu522</a></span><span property="author" content="xszhu522"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2019-03-30T12:31:44.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 74 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT74M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/OnJava8/#ç¤ºä¾‹æ•°æ®">ç¤ºä¾‹æ•°æ®</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/OnJava8/#listè¡Œä¸º">Listè¡Œä¸º</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/OnJava8/#setè¡Œä¸º">Setè¡Œä¸º</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/OnJava8/#åœ¨mapä¸­ä½¿ç”¨å‡½æ•°å¼æ“ä½œ">åœ¨Mapä¸­ä½¿ç”¨å‡½æ•°å¼æ“ä½œ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/OnJava8/#é€‰æ‹©mapç‰‡æ®µ">é€‰æ‹©Mapç‰‡æ®µ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/OnJava8/#å¡«å……é›†åˆ">å¡«å……é›†åˆ</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#ä½¿ç”¨-suppliers-å¡«å……é›†åˆ">ä½¿ç”¨ Suppliers å¡«å……é›†åˆ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#map-suppliers">Map Suppliers</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/OnJava8/#ä½¿ç”¨äº«å…ƒ-flyweight-è‡ªå®šä¹‰collectionå’Œmap">ä½¿ç”¨äº«å…ƒï¼ˆFlyweightï¼‰è‡ªå®šä¹‰Collectionå’ŒMap</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/OnJava8/#é›†åˆåŠŸèƒ½">é›†åˆåŠŸèƒ½</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/OnJava8/#å¯é€‰æ“ä½œ">å¯é€‰æ“ä½œ</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#ä¸æ”¯æŒçš„æ“ä½œ">ä¸æ”¯æŒçš„æ“ä½œ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/OnJava8/#setå’Œå­˜å‚¨é¡ºåº">Setå’Œå­˜å‚¨é¡ºåº</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#sortedset">SortedSet</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/OnJava8/#é˜Ÿåˆ—">é˜Ÿåˆ—</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#ä¼˜å…ˆçº§é˜Ÿåˆ—">ä¼˜å…ˆçº§é˜Ÿåˆ—</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#åŒç«¯é˜Ÿåˆ—">åŒç«¯é˜Ÿåˆ—</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/OnJava8/#ç†è§£map">ç†è§£Map</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#æ€§èƒ½">æ€§èƒ½</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#sortedmap">SortedMap</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#linkedhashmap">LinkedHashMap</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/OnJava8/#é›†åˆå·¥å…·ç±»">é›†åˆå·¥å…·ç±»</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#æ’åºå’Œæœç´¢åˆ—è¡¨">æ’åºå’Œæœç´¢åˆ—è¡¨</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#åˆ›å»ºä¸å¯ä¿®æ”¹çš„-collection-æˆ–-map">åˆ›å»ºä¸å¯ä¿®æ”¹çš„ Collection æˆ– Map</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#åŒæ­¥-collection-æˆ–-map">åŒæ­¥ Collection æˆ– Map</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/OnJava8/#æŒæœ‰å¼•ç”¨">æŒæœ‰å¼•ç”¨</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#weakhashmap">WeakHashMap</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/OnJava8/#java-1-0-1-1-çš„é›†åˆç±»">Java 1.0 / 1.1 çš„é›†åˆç±»</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#vector-å’Œ-enumeration">Vector å’Œ Enumeration</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#hashtable">Hashtable</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#stack">Stack</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#bitset">BitSet</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/OnJava8/#æœ¬ç« å°ç»“">æœ¬ç« å°ç»“</a></li><!----><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><p>[TOC]</p><!-- Appendix: Collection Topics --><h1 id="é™„å½•-é›†åˆä¸»é¢˜" tabindex="-1"><a class="header-anchor" href="#é™„å½•-é›†åˆä¸»é¢˜" aria-hidden="true">#</a> é™„å½•:é›†åˆä¸»é¢˜</h1><blockquote><p>æœ¬é™„å½•æ˜¯ä¸€äº›æ¯”<a href="">ç¬¬åäºŒç«  é›†åˆ</a>ä¸­ä»‹ç»çš„æ›´é«˜çº§çš„å†…å®¹ã€‚</p></blockquote><!-- Sample Data --><h2 id="ç¤ºä¾‹æ•°æ®" tabindex="-1"><a class="header-anchor" href="#ç¤ºä¾‹æ•°æ®" aria-hidden="true">#</a> ç¤ºä¾‹æ•°æ®</h2><p>è¿™é‡Œåˆ›å»ºä¸€äº›æ ·æœ¬æ•°æ®ç”¨äºé›†åˆç¤ºä¾‹ã€‚ ä»¥ä¸‹æ•°æ®å°†é¢œè‰²åç§°ä¸HTMLé¢œè‰²çš„RGBå€¼ç›¸å…³è”ã€‚è¯·æ³¨æ„ï¼Œæ¯ä¸ªé”®å’Œå€¼éƒ½æ˜¯å”¯ä¸€çš„ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// onjava/HTMLColors.java</span>
<span class="token comment">// Sample data for collection examples</span>
<span class="token keyword">package</span> <span class="token namespace">onjava</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HTMLColors</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token constant">ARRAY</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">{</span> <span class="token number">0xF0F8FF</span><span class="token punctuation">,</span> <span class="token string">&quot;AliceBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFAEBD7</span><span class="token punctuation">,</span> <span class="token string">&quot;AntiqueWhite&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x7FFFD4</span><span class="token punctuation">,</span> <span class="token string">&quot;Aquamarine&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xF0FFFF</span><span class="token punctuation">,</span> <span class="token string">&quot;Azure&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xF5F5DC</span><span class="token punctuation">,</span> <span class="token string">&quot;Beige&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFE4C4</span><span class="token punctuation">,</span> <span class="token string">&quot;Bisque&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x000000</span><span class="token punctuation">,</span> <span class="token string">&quot;Black&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFEBCD</span><span class="token punctuation">,</span> <span class="token string">&quot;BlanchedAlmond&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x0000FF</span><span class="token punctuation">,</span> <span class="token string">&quot;Blue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x8A2BE2</span><span class="token punctuation">,</span> <span class="token string">&quot;BlueViolet&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xA52A2A</span><span class="token punctuation">,</span> <span class="token string">&quot;Brown&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xDEB887</span><span class="token punctuation">,</span> <span class="token string">&quot;BurlyWood&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x5F9EA0</span><span class="token punctuation">,</span> <span class="token string">&quot;CadetBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x7FFF00</span><span class="token punctuation">,</span> <span class="token string">&quot;Chartreuse&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xD2691E</span><span class="token punctuation">,</span> <span class="token string">&quot;Chocolate&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFF7F50</span><span class="token punctuation">,</span> <span class="token string">&quot;Coral&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x6495ED</span><span class="token punctuation">,</span> <span class="token string">&quot;CornflowerBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFF8DC</span><span class="token punctuation">,</span> <span class="token string">&quot;Cornsilk&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xDC143C</span><span class="token punctuation">,</span> <span class="token string">&quot;Crimson&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x00FFFF</span><span class="token punctuation">,</span> <span class="token string">&quot;Cyan&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x00008B</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x008B8B</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkCyan&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xB8860B</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkGoldenRod&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xA9A9A9</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkGray&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x006400</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xBDB76B</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkKhaki&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x8B008B</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkMagenta&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x556B2F</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkOliveGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFF8C00</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkOrange&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x9932CC</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkOrchid&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x8B0000</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkRed&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xE9967A</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkSalmon&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x8FBC8F</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkSeaGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x483D8B</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkSlateBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x2F4F4F</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkSlateGray&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x00CED1</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkTurquoise&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x9400D3</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkViolet&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFF1493</span><span class="token punctuation">,</span> <span class="token string">&quot;DeepPink&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x00BFFF</span><span class="token punctuation">,</span> <span class="token string">&quot;DeepSkyBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x696969</span><span class="token punctuation">,</span> <span class="token string">&quot;DimGray&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x1E90FF</span><span class="token punctuation">,</span> <span class="token string">&quot;DodgerBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xB22222</span><span class="token punctuation">,</span> <span class="token string">&quot;FireBrick&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFFAF0</span><span class="token punctuation">,</span> <span class="token string">&quot;FloralWhite&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x228B22</span><span class="token punctuation">,</span> <span class="token string">&quot;ForestGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xDCDCDC</span><span class="token punctuation">,</span> <span class="token string">&quot;Gainsboro&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xF8F8FF</span><span class="token punctuation">,</span> <span class="token string">&quot;GhostWhite&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFD700</span><span class="token punctuation">,</span> <span class="token string">&quot;Gold&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xDAA520</span><span class="token punctuation">,</span> <span class="token string">&quot;GoldenRod&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x808080</span><span class="token punctuation">,</span> <span class="token string">&quot;Gray&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x008000</span><span class="token punctuation">,</span> <span class="token string">&quot;Green&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xADFF2F</span><span class="token punctuation">,</span> <span class="token string">&quot;GreenYellow&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xF0FFF0</span><span class="token punctuation">,</span> <span class="token string">&quot;HoneyDew&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFF69B4</span><span class="token punctuation">,</span> <span class="token string">&quot;HotPink&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xCD5C5C</span><span class="token punctuation">,</span> <span class="token string">&quot;IndianRed&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x4B0082</span><span class="token punctuation">,</span> <span class="token string">&quot;Indigo&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFFFF0</span><span class="token punctuation">,</span> <span class="token string">&quot;Ivory&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xF0E68C</span><span class="token punctuation">,</span> <span class="token string">&quot;Khaki&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xE6E6FA</span><span class="token punctuation">,</span> <span class="token string">&quot;Lavender&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFF0F5</span><span class="token punctuation">,</span> <span class="token string">&quot;LavenderBlush&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x7CFC00</span><span class="token punctuation">,</span> <span class="token string">&quot;LawnGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFFACD</span><span class="token punctuation">,</span> <span class="token string">&quot;LemonChiffon&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xADD8E6</span><span class="token punctuation">,</span> <span class="token string">&quot;LightBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xF08080</span><span class="token punctuation">,</span> <span class="token string">&quot;LightCoral&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xE0FFFF</span><span class="token punctuation">,</span> <span class="token string">&quot;LightCyan&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFAFAD2</span><span class="token punctuation">,</span> <span class="token string">&quot;LightGoldenRodYellow&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xD3D3D3</span><span class="token punctuation">,</span> <span class="token string">&quot;LightGray&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x90EE90</span><span class="token punctuation">,</span> <span class="token string">&quot;LightGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFB6C1</span><span class="token punctuation">,</span> <span class="token string">&quot;LightPink&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFA07A</span><span class="token punctuation">,</span> <span class="token string">&quot;LightSalmon&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x20B2AA</span><span class="token punctuation">,</span> <span class="token string">&quot;LightSeaGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x87CEFA</span><span class="token punctuation">,</span> <span class="token string">&quot;LightSkyBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x778899</span><span class="token punctuation">,</span> <span class="token string">&quot;LightSlateGray&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xB0C4DE</span><span class="token punctuation">,</span> <span class="token string">&quot;LightSteelBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFFFE0</span><span class="token punctuation">,</span> <span class="token string">&quot;LightYellow&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x00FF00</span><span class="token punctuation">,</span> <span class="token string">&quot;Lime&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x32CD32</span><span class="token punctuation">,</span> <span class="token string">&quot;LimeGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFAF0E6</span><span class="token punctuation">,</span> <span class="token string">&quot;Linen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFF00FF</span><span class="token punctuation">,</span> <span class="token string">&quot;Magenta&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x800000</span><span class="token punctuation">,</span> <span class="token string">&quot;Maroon&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x66CDAA</span><span class="token punctuation">,</span> <span class="token string">&quot;MediumAquaMarine&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x0000CD</span><span class="token punctuation">,</span> <span class="token string">&quot;MediumBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xBA55D3</span><span class="token punctuation">,</span> <span class="token string">&quot;MediumOrchid&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x9370DB</span><span class="token punctuation">,</span> <span class="token string">&quot;MediumPurple&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x3CB371</span><span class="token punctuation">,</span> <span class="token string">&quot;MediumSeaGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x7B68EE</span><span class="token punctuation">,</span> <span class="token string">&quot;MediumSlateBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x00FA9A</span><span class="token punctuation">,</span> <span class="token string">&quot;MediumSpringGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x48D1CC</span><span class="token punctuation">,</span> <span class="token string">&quot;MediumTurquoise&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xC71585</span><span class="token punctuation">,</span> <span class="token string">&quot;MediumVioletRed&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x191970</span><span class="token punctuation">,</span> <span class="token string">&quot;MidnightBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xF5FFFA</span><span class="token punctuation">,</span> <span class="token string">&quot;MintCream&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFE4E1</span><span class="token punctuation">,</span> <span class="token string">&quot;MistyRose&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFE4B5</span><span class="token punctuation">,</span> <span class="token string">&quot;Moccasin&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFDEAD</span><span class="token punctuation">,</span> <span class="token string">&quot;NavajoWhite&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x000080</span><span class="token punctuation">,</span> <span class="token string">&quot;Navy&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFDF5E6</span><span class="token punctuation">,</span> <span class="token string">&quot;OldLace&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x808000</span><span class="token punctuation">,</span> <span class="token string">&quot;Olive&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x6B8E23</span><span class="token punctuation">,</span> <span class="token string">&quot;OliveDrab&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFA500</span><span class="token punctuation">,</span> <span class="token string">&quot;Orange&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFF4500</span><span class="token punctuation">,</span> <span class="token string">&quot;OrangeRed&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xDA70D6</span><span class="token punctuation">,</span> <span class="token string">&quot;Orchid&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xEEE8AA</span><span class="token punctuation">,</span> <span class="token string">&quot;PaleGoldenRod&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x98FB98</span><span class="token punctuation">,</span> <span class="token string">&quot;PaleGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xAFEEEE</span><span class="token punctuation">,</span> <span class="token string">&quot;PaleTurquoise&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xDB7093</span><span class="token punctuation">,</span> <span class="token string">&quot;PaleVioletRed&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFEFD5</span><span class="token punctuation">,</span> <span class="token string">&quot;PapayaWhip&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFDAB9</span><span class="token punctuation">,</span> <span class="token string">&quot;PeachPuff&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xCD853F</span><span class="token punctuation">,</span> <span class="token string">&quot;Peru&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFC0CB</span><span class="token punctuation">,</span> <span class="token string">&quot;Pink&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xDDA0DD</span><span class="token punctuation">,</span> <span class="token string">&quot;Plum&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xB0E0E6</span><span class="token punctuation">,</span> <span class="token string">&quot;PowderBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x800080</span><span class="token punctuation">,</span> <span class="token string">&quot;Purple&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFF0000</span><span class="token punctuation">,</span> <span class="token string">&quot;Red&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xBC8F8F</span><span class="token punctuation">,</span> <span class="token string">&quot;RosyBrown&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x4169E1</span><span class="token punctuation">,</span> <span class="token string">&quot;RoyalBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x8B4513</span><span class="token punctuation">,</span> <span class="token string">&quot;SaddleBrown&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFA8072</span><span class="token punctuation">,</span> <span class="token string">&quot;Salmon&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xF4A460</span><span class="token punctuation">,</span> <span class="token string">&quot;SandyBrown&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x2E8B57</span><span class="token punctuation">,</span> <span class="token string">&quot;SeaGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFF5EE</span><span class="token punctuation">,</span> <span class="token string">&quot;SeaShell&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xA0522D</span><span class="token punctuation">,</span> <span class="token string">&quot;Sienna&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xC0C0C0</span><span class="token punctuation">,</span> <span class="token string">&quot;Silver&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x87CEEB</span><span class="token punctuation">,</span> <span class="token string">&quot;SkyBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x6A5ACD</span><span class="token punctuation">,</span> <span class="token string">&quot;SlateBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x708090</span><span class="token punctuation">,</span> <span class="token string">&quot;SlateGray&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFFAFA</span><span class="token punctuation">,</span> <span class="token string">&quot;Snow&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x00FF7F</span><span class="token punctuation">,</span> <span class="token string">&quot;SpringGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x4682B4</span><span class="token punctuation">,</span> <span class="token string">&quot;SteelBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xD2B48C</span><span class="token punctuation">,</span> <span class="token string">&quot;Tan&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x008080</span><span class="token punctuation">,</span> <span class="token string">&quot;Teal&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xD8BFD8</span><span class="token punctuation">,</span> <span class="token string">&quot;Thistle&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFF6347</span><span class="token punctuation">,</span> <span class="token string">&quot;Tomato&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x40E0D0</span><span class="token punctuation">,</span> <span class="token string">&quot;Turquoise&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xEE82EE</span><span class="token punctuation">,</span> <span class="token string">&quot;Violet&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xF5DEB3</span><span class="token punctuation">,</span> <span class="token string">&quot;Wheat&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFFFFF</span><span class="token punctuation">,</span> <span class="token string">&quot;White&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xF5F5F5</span><span class="token punctuation">,</span> <span class="token string">&quot;WhiteSmoke&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFFF00</span><span class="token punctuation">,</span> <span class="token string">&quot;Yellow&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x9ACD32</span><span class="token punctuation">,</span> <span class="token string">&quot;YellowGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token constant">MAP</span> <span class="token operator">=</span>
    <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token constant">ARRAY</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span>
        element <span class="token operator">-&gt;</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span>element<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        element <span class="token operator">-&gt;</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>element<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span>v1<span class="token punctuation">,</span> v2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// Merge function</span>
          <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token class-name">LinkedHashMap</span><span class="token operator">::</span><span class="token keyword">new</span>
      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Inversion only works if values are unique:</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">,</span> <span class="token class-name">K</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">,</span> <span class="token class-name">K</span><span class="token punctuation">&gt;</span></span>
  <span class="token function">invert</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span>
        <span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token operator">::</span><span class="token function">getValue</span><span class="token punctuation">,</span>
        <span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token operator">::</span><span class="token function">getKey</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span>v1<span class="token punctuation">,</span> v2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token class-name">LinkedHashMap</span><span class="token operator">::</span><span class="token keyword">new</span>
      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span>
    <span class="token constant">INVMAP</span> <span class="token operator">=</span> <span class="token function">invert</span><span class="token punctuation">(</span><span class="token constant">MAP</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Look up RGB value given a name:</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Integer</span> <span class="token function">rgb</span><span class="token punctuation">(</span><span class="token class-name">String</span> colorName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token constant">INVMAP</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>colorName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token constant">LIST</span> <span class="token operator">=</span>
    <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token constant">ARRAY</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">-&gt;</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>item<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token constant">RGBLIST</span> <span class="token operator">=</span>
    <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token constant">ARRAY</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">-&gt;</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span>item<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span>
  <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>
      <span class="token string">&quot;0x%06X: %s%n&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> m<span class="token punctuation">,</span> <span class="token keyword">int</span> count<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    m<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>e <span class="token operator">-&gt;</span> <span class="token function">show</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> m<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">show</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> m<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span>
  <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> lst<span class="token punctuation">,</span> <span class="token keyword">int</span> count<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    lst<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> lst<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">show</span><span class="token punctuation">(</span>lst<span class="token punctuation">,</span> lst<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span>
  <span class="token keyword">void</span> <span class="token function">showrgb</span><span class="token punctuation">(</span><span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> lst<span class="token punctuation">,</span> <span class="token keyword">int</span> count<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    lst<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>n <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;0x%06X%n&quot;</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">showrgb</span><span class="token punctuation">(</span><span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> lst<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">showrgb</span><span class="token punctuation">(</span>lst<span class="token punctuation">,</span> lst<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span>
  <span class="token keyword">void</span> <span class="token function">showInv</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> m<span class="token punctuation">,</span> <span class="token keyword">int</span> count<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    m<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>e <span class="token operator">-&gt;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>
          <span class="token string">&quot;%-20s  0x%06X%n&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">showInv</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> m<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">showInv</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> m<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;******************************&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>MAP</strong> æ˜¯ä½¿ç”¨Streamsï¼ˆ<a href="">ç¬¬åå››ç«  æµå¼ç¼–ç¨‹</a>ï¼‰åˆ›å»ºçš„ã€‚ äºŒç»´æ•°ç»„ <strong>ARRAY</strong> ä½œä¸ºæµä¼ è¾“åˆ° <strong>Map</strong> ä¸­ï¼Œä½†è¯·æ³¨æ„æˆ‘ä»¬ä¸ä»…ä»…æ˜¯ä½¿ç”¨ç®€å•ç‰ˆæœ¬çš„ <code>Collectors.toMap()</code> ã€‚ é‚£ä¸ªç‰ˆæœ¬ç”Ÿæˆä¸€ä¸ª <strong>HashMap</strong> ï¼Œå®ƒä½¿ç”¨æ•£åˆ—å‡½æ•°æ¥æ§åˆ¶å¯¹é”®çš„æ’åºã€‚ ä¸ºäº†ä¿ç•™åŸæ¥çš„é¡ºåºï¼Œæˆ‘ä»¬å¿…é¡»å°†é”®å€¼å¯¹ç›´æ¥æ”¾å…¥ <strong>TreeMap</strong> ä¸­ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬éœ€è¦ä½¿ç”¨æ›´å¤æ‚çš„ <code>Collectors.toMap()</code> ç‰ˆæœ¬ã€‚è¿™éœ€è¦ä¸¤ä¸ªå‡½æ•°ä»æ¯ä¸ªæµå…ƒç´ ä¸­æå–é”®å’Œå€¼ï¼Œå°±åƒç®€å•ç‰ˆæœ¬çš„<code>Collectors.toMap()</code> ä¸€æ ·ã€‚ ç„¶åå®ƒéœ€è¦ä¸€ä¸ª<em>åˆå¹¶å‡½æ•°</em>ï¼ˆmerge functionï¼‰ï¼Œå®ƒè§£å†³äº†ä¸åŒä¸€ä¸ªé”®ç›¸å…³çš„ä¸¤ä¸ªå€¼ä¹‹é—´çš„å†²çªã€‚è¿™é‡Œçš„æ•°æ®å·²ç»é¢„å…ˆå®¡æŸ¥è¿‡ï¼Œå› æ­¤ç»ä¸ä¼šå‘ç”Ÿè¿™ç§æƒ…å†µï¼Œå¦‚æœæœ‰çš„è¯ï¼Œè¿™é‡Œä¼šæŠ›å‡ºå¼‚å¸¸ã€‚æœ€åï¼Œä¼ é€’ç”Ÿæˆæ‰€éœ€ç±»å‹çš„ç©ºmapçš„å‡½æ•°ï¼Œç„¶åç”¨æµæ¥å¡«å……å®ƒã€‚</p><p><code>rgb()</code> æ–¹æ³•æ˜¯ä¸€ä¸ªä¾¿æ·å‡½æ•°ï¼ˆconvenience functionï¼‰ï¼Œå®ƒæ¥å—é¢œè‰²åç§° <strong>String</strong> å‚æ•°å¹¶ç”Ÿæˆå…¶æ•°å­—RGBå€¼ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªåè½¬ç‰ˆæœ¬çš„ <strong>COLORS</strong> ï¼Œå®ƒæ¥å—ä¸€ä¸ª <strong>String</strong>é”®å¹¶æŸ¥æ‰¾RGBçš„ <strong>Integer</strong> å€¼ã€‚ è¿™æ˜¯é€šè¿‡ <code>invert()</code> æ–¹æ³•å®ç°çš„ï¼Œå¦‚æœä»»ä½• <strong>COLORS</strong> å€¼ä¸å”¯ä¸€ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚</p><p>æˆ‘ä»¬è¿˜åˆ›å»ºåŒ…å«æ‰€æœ‰åç§°çš„ <strong>LIST</strong> ï¼Œä»¥åŠåŒ…å«åå…­è¿›åˆ¶è¡¨ç¤ºæ³•çš„RGBå€¼çš„ <strong>RGBLIST</strong> ã€‚</p><p>ç¬¬ä¸€ä¸ª <code>show()</code> æ–¹æ³•æ¥å—ä¸€ä¸ª <strong>Map.Entry</strong> å¹¶æ˜¾ç¤ºä»¥åå…­è¿›åˆ¶è¡¨ç¤ºçš„é”®ï¼Œä»¥ä¾¿è½»æ¾åœ°å¯¹åŸå§‹ <strong>ARRAY</strong> è¿›è¡ŒåŒé‡æ£€æŸ¥ã€‚ åç§°ä»¥ <strong>show</strong> å¼€å¤´çš„æ¯ä¸ªæ–¹æ³•éƒ½ä¼šé‡è½½ä¸¤ä¸ªç‰ˆæœ¬ï¼Œå…¶ä¸­ä¸€ä¸ªç‰ˆæœ¬é‡‡ç”¨ <strong>count</strong> å‚æ•°æ¥æŒ‡ç¤ºè¦æ˜¾ç¤ºçš„å…ƒç´ æ•°é‡ï¼Œç¬¬äºŒä¸ªç‰ˆæœ¬æ˜¾ç¤ºåºåˆ—ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚</p><p>è¿™é‡Œæ˜¯ä¸€ä¸ªåŸºæœ¬çš„æµ‹è¯•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/HTMLColorTest.java</span>
<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token class-name">HTMLColors</span><span class="token punctuation">.</span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HTMLColorTest</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">DISPLAY_SIZE</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">show</span><span class="token punctuation">(</span><span class="token constant">MAP</span><span class="token punctuation">,</span> <span class="token constant">DISPLAY_SIZE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">showInv</span><span class="token punctuation">(</span><span class="token constant">INVMAP</span><span class="token punctuation">,</span> <span class="token constant">DISPLAY_SIZE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span><span class="token constant">LIST</span><span class="token punctuation">,</span> <span class="token constant">DISPLAY_SIZE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">showrgb</span><span class="token punctuation">(</span><span class="token constant">RGBLIST</span><span class="token punctuation">,</span> <span class="token constant">DISPLAY_SIZE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
0xF0F8FF: AliceBlue
0xFAEBD7: AntiqueWhite
0x7FFFD4: Aquamarine
0xF0FFFF: Azure
0xF5F5DC: Beige
0xFFE4C4: Bisque
0x000000: Black
0xFFEBCD: BlanchedAlmond
0x0000FF: Blue
0x8A2BE2: BlueViolet
0xA52A2A: Brown
0xDEB887: BurlyWood
0x5F9EA0: CadetBlue
0x7FFF00: Chartreuse
0xD2691E: Chocolate
0xFF7F50: Coral
0x6495ED: CornflowerBlue
0xFFF8DC: Cornsilk
0xDC143C: Crimson
0x00FFFF: Cyan
******************************
AliceBlue             0xF0F8FF
AntiqueWhite          0xFAEBD7
Aquamarine            0x7FFFD4
Azure                 0xF0FFFF
Beige                 0xF5F5DC
Bisque                0xFFE4C4
Black                 0x000000
BlanchedAlmond        0xFFEBCD
Blue                  0x0000FF
BlueViolet            0x8A2BE2
Brown                 0xA52A2A
BurlyWood             0xDEB887
CadetBlue             0x5F9EA0
Chartreuse            0x7FFF00
Chocolate             0xD2691E
Coral                 0xFF7F50
CornflowerBlue        0x6495ED
Cornsilk              0xFFF8DC
Crimson               0xDC143C
Cyan                  0x00FFFF
******************************
AliceBlue
AntiqueWhite
Aquamarine
Azure
Beige
Bisque
Black
BlanchedAlmond
Blue
BlueViolet
Brown
BurlyWood
CadetBlue
Chartreuse
Chocolate
Coral
CornflowerBlue
Cornsilk
Crimson
Cyan
******************************
0xF0F8FF
0xFAEBD7
0x7FFFD4
0xF0FFFF
0xF5F5DC
0xFFE4C4
0x000000
0xFFEBCD
0x0000FF
0x8A2BE2
0xA52A2A
0xDEB887
0x5F9EA0
0x7FFF00
0xD2691E
0xFF7F50
0x6495ED
0xFFF8DC
0xDC143C
0x00FFFF
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨ <strong>LinkedHashMap</strong> ç¡®å®èƒ½å¤Ÿä¿ç•™ <strong>HTMLColors.ARRAY</strong> çš„é¡ºåºã€‚</p><!-- List Behavior --><h2 id="listè¡Œä¸º" tabindex="-1"><a class="header-anchor" href="#listè¡Œä¸º" aria-hidden="true">#</a> Listè¡Œä¸º</h2><p><strong>Lists</strong> æ˜¯å­˜å‚¨å’Œæ£€ç´¢å¯¹è±¡ï¼ˆæ¬¡äºæ•°ç»„ï¼‰çš„æœ€åŸºæœ¬æ–¹æ³•ã€‚åŸºæœ¬åˆ—è¡¨æ“ä½œåŒ…æ‹¬ï¼š</p><ul><li><code>add()</code> ç”¨äºæ’å…¥å…ƒç´ </li><li><code>get()</code> ç”¨äºéšæœºè®¿é—®å…ƒç´ </li><li><code>iterator()</code> è·å–åºåˆ—ä¸Šçš„ä¸€ä¸ª <strong>Iterator</strong></li><li><code>stream()</code> ç”Ÿæˆå…ƒç´ çš„ä¸€ä¸ª <strong>Stream</strong></li></ul><p>åˆ—è¡¨æ„é€ æ–¹æ³•å§‹ç»ˆä¿ç•™å…ƒç´ çš„æ·»åŠ é¡ºåºã€‚</p><p>ä»¥ä¸‹ç¤ºä¾‹ä¸­çš„æ–¹æ³•å„è‡ªæ¶µç›–äº†ä¸€ç»„ä¸åŒçš„è¡Œä¸ºï¼šæ¯ä¸ª <strong>List</strong> å¯ä»¥æ‰§è¡Œçš„æ“ä½œï¼ˆ <code>basicTest()</code> ï¼‰ï¼Œä½¿ç”¨ <strong>Iterator</strong> ï¼ˆ <code>iterMotion()</code> ï¼‰éå†åºåˆ—ï¼Œä½¿ç”¨ <strong>Iterator</strong> ï¼ˆ <code>iterManipulation()</code> ï¼‰æ›´æ”¹å†…å®¹ï¼ŒæŸ¥çœ‹ <strong>List</strong> æ“ä½œï¼ˆ <code>testVisual()</code> ï¼‰çš„æ•ˆæœï¼Œä»¥åŠä»…å¯ç”¨äº <strong>LinkedLists</strong> çš„æ“ä½œï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/ListOps.java</span>
<span class="token comment">// Things you can do with Lists</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token class-name">HTMLColors</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ListOps</span> <span class="token punctuation">{</span>
  <span class="token comment">// Create a short list for testing:</span>
  <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token constant">LIST</span> <span class="token operator">=</span>
    <span class="token class-name">HTMLColors</span><span class="token punctuation">.</span><span class="token constant">LIST</span><span class="token punctuation">.</span><span class="token function">subList</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> b<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> s<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> i<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> it<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">ListIterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> lit<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">basicTest</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    a<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;x&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Add at location 1</span>
    a<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;x&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Add at end</span>
    <span class="token comment">// Add a collection:</span>
    a<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span><span class="token constant">LIST</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Add a collection starting at location 3:</span>
    a<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token constant">LIST</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    b <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Is it in there?</span>
    <span class="token comment">// Is the entire collection in there?</span>
    b <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">containsAll</span><span class="token punctuation">(</span><span class="token constant">LIST</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Lists allow random access, which is cheap</span>
    <span class="token comment">// for ArrayList, expensive for LinkedList:</span>
    s <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Get (typed) object at location 1</span>
    i <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Tell index of object</span>
    b <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Any elements inside?</span>
    it <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Ordinary Iterator</span>
    lit <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">listIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ListIterator</span>
    lit <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">listIterator</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Start at location 3</span>
    i <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Last match</span>
    a<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Remove location 1</span>
    a<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Remove this object</span>
    a<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;y&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set location 1 to &quot;y&quot;</span>
    <span class="token comment">// Keep everything that&#39;s in the argument</span>
    <span class="token comment">// (the intersection of the two sets):</span>
    a<span class="token punctuation">.</span><span class="token function">retainAll</span><span class="token punctuation">(</span><span class="token constant">LIST</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Remove everything that&#39;s in the argument:</span>
    a<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span><span class="token constant">LIST</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    i <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// How big is it?</span>
    a<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Remove all elements</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">iterMotion</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ListIterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> it <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">listIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    b <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    b <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">hasPrevious</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    s <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    i <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">nextIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    s <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">previous</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    i <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">previousIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">iterManipulation</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ListIterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> it <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">listIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    it<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;47&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Must move to an element after add():</span>
    it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Remove the element after the new one:</span>
    it<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Must move to an element after remove():</span>
    it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Change the element after the deleted one:</span>
    it<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;47&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">testVisual</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> b <span class="token operator">=</span> <span class="token constant">LIST</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;b = &quot;</span> <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    a<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    a<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Insert, remove, and replace elements</span>
    <span class="token comment">// using a ListIterator:</span>
    <span class="token class-name">ListIterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> x <span class="token operator">=</span>
      a<span class="token punctuation">.</span><span class="token function">listIterator</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    x<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;one&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    x<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    x<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;47&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Traverse the list backwards:</span>
    x <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">listIterator</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">hasPrevious</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">previous</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;testVisual finished&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// There are some things that only LinkedLists can do:</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">testLinkedList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> ll <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ll<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span><span class="token constant">LIST</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ll<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Treat it like a stack, pushing:</span>
    ll<span class="token punctuation">.</span><span class="token function">addFirst</span><span class="token punctuation">(</span><span class="token string">&quot;one&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ll<span class="token punctuation">.</span><span class="token function">addFirst</span><span class="token punctuation">(</span><span class="token string">&quot;two&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ll<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Like &quot;peeking&quot; at the top of a stack:</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ll<span class="token punctuation">.</span><span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Like popping a stack:</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ll<span class="token punctuation">.</span><span class="token function">removeFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ll<span class="token punctuation">.</span><span class="token function">removeFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Treat it like a queue, pulling elements</span>
    <span class="token comment">// off the tail end:</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ll<span class="token punctuation">.</span><span class="token function">removeLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ll<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Make and fill a new list each time:</span>
    <span class="token function">basicTest</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token constant">LIST</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">basicTest</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token constant">LIST</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">iterMotion</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token constant">LIST</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">iterMotion</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token constant">LIST</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">iterManipulation</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token constant">LIST</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">iterManipulation</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token constant">LIST</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">testVisual</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token constant">LIST</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">testLinkedList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
[AliceBlue, AntiqueWhite, Aquamarine, Azure, Beige,
Bisque, Black, BlanchedAlmond, Blue, BlueViolet]
b = [AliceBlue, AntiqueWhite, Aquamarine, Azure, Beige,
Bisque, Black, BlanchedAlmond, Blue, BlueViolet]
[AliceBlue, AntiqueWhite, Aquamarine, Azure, Beige,
Bisque, Black, BlanchedAlmond, Blue, BlueViolet,
AliceBlue, AntiqueWhite, Aquamarine, Azure, Beige,
Bisque, Black, BlanchedAlmond, Blue, BlueViolet,
AliceBlue, AntiqueWhite, Aquamarine, Azure, Beige,
Bisque, Black, BlanchedAlmond, Blue, BlueViolet]
[AliceBlue, AntiqueWhite, Aquamarine, Azure, Beige,
Bisque, Black, BlanchedAlmond, Blue, BlueViolet,
AliceBlue, AntiqueWhite, Aquamarine, Azure, Beige, one,
Bisque, Black, BlanchedAlmond, Blue, BlueViolet,
AliceBlue, AntiqueWhite, Aquamarine, Azure, Beige,
Bisque, Black, BlanchedAlmond, Blue, BlueViolet]
Bisque
Black
[AliceBlue, AntiqueWhite, Aquamarine, Azure, Beige,
Bisque, Black, BlanchedAlmond, Blue, BlueViolet,
AliceBlue, AntiqueWhite, Aquamarine, Azure, Beige, one,
47, BlanchedAlmond, Blue, BlueViolet, AliceBlue,
AntiqueWhite, Aquamarine, Azure, Beige, Bisque, Black,
BlanchedAlmond, Blue, BlueViolet]
BlueViolet Blue BlanchedAlmond Black Bisque Beige Azure
Aquamarine AntiqueWhite AliceBlue BlueViolet Blue
BlanchedAlmond 47 one Beige Azure Aquamarine
AntiqueWhite AliceBlue BlueViolet Blue BlanchedAlmond
Black Bisque Beige Azure Aquamarine AntiqueWhite
AliceBlue
testVisual finished
[AliceBlue, AntiqueWhite, Aquamarine, Azure, Beige,
Bisque, Black, BlanchedAlmond, Blue, BlueViolet]
[two, one, AliceBlue, AntiqueWhite, Aquamarine, Azure,
Beige, Bisque, Black, BlanchedAlmond, Blue, BlueViolet]
two
two
one
BlueViolet
[AliceBlue, AntiqueWhite, Aquamarine, Azure, Beige,
Bisque, Black, BlanchedAlmond, Blue]
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ <code>basicTest()</code> å’Œ <code>iterMotion()</code> ä¸­ï¼Œæ–¹æ³•è°ƒç”¨æ˜¯ä¸ºäº†å±•ç¤ºæ­£ç¡®çš„è¯­æ³•ï¼Œå°½ç®¡è·å–äº†è¿”å›å€¼ï¼Œä½†ä¸ä¼šä½¿ç”¨å®ƒã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ ¹æœ¬ä¸ä¼šå»è·å–è¿”å›å€¼ã€‚åœ¨ä½¿ç”¨è¿™äº›æ–¹æ³•ä¹‹å‰ï¼Œè¯·æŸ¥çœ‹JDKæ–‡æ¡£ä¸­è¿™äº›æ–¹æ³•çš„å®Œæ•´ç”¨æ³•ã€‚</p><!-- Set Behavior --><h2 id="setè¡Œä¸º" tabindex="-1"><a class="header-anchor" href="#setè¡Œä¸º" aria-hidden="true">#</a> Setè¡Œä¸º</h2><p><strong>Set</strong> çš„ä¸»è¦ç”¨å¤„æ˜¯æµ‹è¯•æˆå‘˜èº«ä»½ï¼Œä¸è¿‡ä¹Ÿå¯ä»¥å°†å…¶ç”¨ä½œåˆ é™¤é‡å¤å…ƒç´ çš„å·¥å…·ã€‚å¦‚æœä¸å…³å¿ƒå…ƒç´ é¡ºåºæˆ–å¹¶å‘æ€§ï¼Œ <strong>HashSet</strong> æ€»æ˜¯æœ€å¥½çš„é€‰æ‹©ï¼Œå› ä¸ºå®ƒæ˜¯ä¸“é—¨ä¸ºäº†å¿«é€ŸæŸ¥æ‰¾è€Œè®¾è®¡çš„ï¼ˆè¿™é‡Œä½¿ç”¨äº†åœ¨<a href="">é™„å½•ï¼šç†è§£equalså’ŒhashCodeæ–¹æ³•</a>ç« èŠ‚ä¸­æ¢è®¨çš„æ•£åˆ—å‡½æ•°ï¼‰ã€‚</p><p>å…¶å®ƒçš„ <strong>Set</strong> å®ç°äº§ç”Ÿä¸åŒçš„æ’åºè¡Œä¸ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/SetOrder.java</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token class-name">HTMLColors</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SetOrder</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> sets <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;java.util.HashSet&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;java.util.TreeSet&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;java.util.concurrent.ConcurrentSkipListSet&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;java.util.LinkedHashSet&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;java.util.concurrent.CopyOnWriteArraySet&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token constant">RLIST</span> <span class="token operator">=</span>
    <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">HTMLColors</span><span class="token punctuation">.</span><span class="token constant">LIST</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token punctuation">{</span>
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token constant">RLIST</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span>
  <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token operator">:</span> sets<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;[-&gt; %s &lt;-]%n&quot;</span><span class="token punctuation">,</span>
        type<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>type<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token char">&#39;.&#39;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token string">&quot;unchecked&quot;</span><span class="token punctuation">)</span>
      <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> set <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span>
        <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      set<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span><span class="token constant">RLIST</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      set<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
[-&gt; HashSet &lt;-]
MediumOrchid
PaleGoldenRod
Sienna
LightSlateGray
DarkSeaGreen
Black
Gainsboro
Orange
LightCoral
DodgerBlue
[-&gt; TreeSet &lt;-]
AliceBlue
AntiqueWhite
Aquamarine
Azure
Beige
Bisque
Black
BlanchedAlmond
Blue
BlueViolet
[-&gt; ConcurrentSkipListSet &lt;-]
AliceBlue
AntiqueWhite
Aquamarine
Azure
Beige
Bisque
Black
BlanchedAlmond
Blue
BlueViolet
[-&gt; LinkedHashSet &lt;-]
YellowGreen
Yellow
WhiteSmoke
White
Wheat
Violet
Turquoise
Tomato
Thistle
Teal
[-&gt; CopyOnWriteArraySet &lt;-]
YellowGreen
Yellow
WhiteSmoke
White
Wheat
Violet
Turquoise
Tomato
Thistle
Teal
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œéœ€è¦ä½¿ç”¨ <strong>@SuppressWarnings(â€œuncheckedâ€)</strong> ï¼Œå› ä¸ºè¿™é‡Œå°†ä¸€ä¸ª <strong>String</strong> ï¼ˆå¯èƒ½æ˜¯ä»»ä½•ä¸œè¥¿ï¼‰ä¼ é€’ç»™äº† <code>Class.forName(type).newInstance()</code> ã€‚ç¼–è¯‘å™¨å¹¶ä¸èƒ½ä¿è¯è¿™æ˜¯ä¸€æ¬¡æˆåŠŸçš„æ“ä½œã€‚</p><p><strong>RLIST</strong> æ˜¯ <strong>HTMLColors.LIST</strong> çš„åè½¬ç‰ˆæœ¬ã€‚å› ä¸º <code>Collections.reverse()</code> æ˜¯é€šè¿‡ä¿®æ”¹å‚æ•°æ¥æ‰§è¡Œåå‘æ“ä½œï¼Œè€Œä¸æ˜¯è¿”å›åŒ…å«åå‘å…ƒç´ çš„æ–° <strong>List</strong> ï¼Œæ‰€ä»¥è¯¥è°ƒç”¨åœ¨ <strong>static</strong> å—å†…æ‰§è¡Œã€‚ <strong>RLIST</strong> å¯ä»¥é˜²æ­¢æˆ‘ä»¬æ„å¤–åœ°è®¤ä¸º <strong>Set</strong> å¯¹å…¶ç»“æœè¿›è¡Œäº†æ’åºã€‚</p><p><strong>HashSet</strong> çš„è¾“å‡ºç»“æœä¼¼ä¹æ²¡æœ‰å¯è¾¨åˆ«çš„é¡ºåºï¼Œå› ä¸ºå®ƒæ˜¯åŸºäºæ•£åˆ—å‡½æ•°çš„ã€‚ <strong>TreeSet</strong> å’Œ <strong>ConcurrentSkipListSet</strong> éƒ½å¯¹å®ƒä»¬çš„å…ƒç´ è¿›è¡Œäº†æ’åºï¼Œå®ƒä»¬éƒ½å®ç°äº† <strong>SortedSet</strong> æ¥å£æ¥æ ‡è¯†è¿™ä¸ªç‰¹ç‚¹ã€‚å› ä¸ºå®ç°è¯¥æ¥å£çš„ <strong>Set</strong> æŒ‰é¡ºåºæ’åˆ—ï¼Œæ‰€ä»¥è¯¥æ¥å£è¿˜æœ‰ä¸€äº›å…¶ä»–çš„å¯ç”¨æ“ä½œã€‚ <strong>LinkedHashSet</strong> å’Œ <strong>CopyOnWriteArraySet</strong> å°½ç®¡æ²¡æœ‰ç”¨äºæ ‡è¯†çš„æ¥å£ï¼Œä½†å®ƒä»¬è¿˜æ˜¯ä¿ç•™äº†å…ƒç´ çš„æ’å…¥é¡ºåºã€‚</p><p><strong>ConcurrentSkipListSet</strong> å’Œ <strong>CopyOnWriteArraySet</strong> æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚</p><p>åœ¨é™„å½•çš„æœ€åï¼Œæˆ‘ä»¬å°†äº†è§£åœ¨é <strong>HashSet</strong> å®ç°çš„ <strong>Set</strong> ä¸Šæ·»åŠ é¢å¤–æ’åºçš„æ€§èƒ½æˆæœ¬ï¼Œä»¥åŠä¸åŒå®ç°ä¸­çš„ä»»ä½•å…¶ä»–åŠŸèƒ½çš„æˆæœ¬ã€‚</p><!-- Using Functional Operations with any Map --><h2 id="åœ¨mapä¸­ä½¿ç”¨å‡½æ•°å¼æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#åœ¨mapä¸­ä½¿ç”¨å‡½æ•°å¼æ“ä½œ" aria-hidden="true">#</a> åœ¨Mapä¸­ä½¿ç”¨å‡½æ•°å¼æ“ä½œ</h2><p>ä¸ <strong>Collection</strong> æ¥å£ä¸€æ ·ï¼Œ<code>forEach()</code> ä¹Ÿå†…ç½®åœ¨ <strong>Map</strong> æ¥å£ä¸­ã€‚ä½†æ˜¯å¦‚æœæƒ³è¦æ‰§è¡Œä»»ä½•å…¶ä»–çš„åŸºæœ¬åŠŸèƒ½æ“ä½œï¼Œæ¯”å¦‚ <code>map()</code> ï¼Œ<code>flatMap()</code> ï¼Œ<code>reduce()</code> æˆ– <code>filter()</code> æ—¶ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ æŸ¥çœ‹ <strong>Map</strong> æ¥å£å‘ç°å¹¶æ²¡æœ‰è¿™äº›ã€‚</p><p>å¯ä»¥é€šè¿‡ <code>entrySet()</code> è¿æ¥åˆ°è¿™äº›æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šç”Ÿæˆä¸€ä¸ªç”± <strong>Map.Entry</strong> å¯¹è±¡ç»„æˆçš„ <strong>Set</strong> ã€‚è¿™ä¸ª <strong>Set</strong> åŒ…å« <code>stream()</code> å’Œ <code>parallelStream()</code> æ–¹æ³•ã€‚åªéœ€è¦è®°ä½ä¸€ä»¶äº‹ï¼Œè¿™é‡Œæ­£åœ¨ä½¿ç”¨çš„æ˜¯ <strong>Map.Entry</strong> å¯¹è±¡ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/FunctionalMap.java</span>
<span class="token comment">// Functional operations on a Map</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token class-name">HTMLColors</span><span class="token punctuation">.</span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FunctionalMap</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token constant">MAP</span><span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token operator">::</span><span class="token function">getValue</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>v <span class="token operator">-&gt;</span> v<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;Dark&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>v <span class="token operator">-&gt;</span> v<span class="token punctuation">.</span><span class="token function">replaceFirst</span><span class="token punctuation">(</span><span class="token string">&quot;Dark&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Hot&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
HotBlue
HotCyan
HotGoldenRod
HotGray
HotGreen
HotKhaki
HotMagenta
HotOliveGreen
HotOrange
HotOrchid
HotRed
HotSalmon
HotSeaGreen
HotSlateBlue
HotSlateGray
HotTurquoise
HotViolet
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç”Ÿæˆ <strong>Stream</strong> åï¼Œæ‰€æœ‰çš„åŸºæœ¬åŠŸèƒ½æ–¹æ³•ï¼Œç”šè‡³æ›´å¤šå°±éƒ½å¯ä»¥ä½¿ç”¨äº†ã€‚</p><!-- Selecting Parts of a Map --><h2 id="é€‰æ‹©mapç‰‡æ®µ" tabindex="-1"><a class="header-anchor" href="#é€‰æ‹©mapç‰‡æ®µ" aria-hidden="true">#</a> é€‰æ‹©Mapç‰‡æ®µ</h2><p>ç”± <strong>TreeMap</strong> å’Œ <strong>ConcurrentSkipListMap</strong> å®ç°çš„ <strong>NavigableMap</strong> æ¥å£è§£å†³äº†éœ€è¦é€‰æ‹©Mapç‰‡æ®µçš„é—®é¢˜ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œä½¿ç”¨äº† <strong>HTMLColors</strong> ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/NavMap.java</span>
<span class="token comment">// NavigableMap produces pieces of a Map</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token class-name">HTMLColors</span><span class="token punctuation">.</span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NavMap</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span>
  <span class="token class-name">NavigableMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token constant">COLORS</span> <span class="token operator">=</span>
    <span class="token keyword">new</span> <span class="token class-name">ConcurrentSkipListMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token constant">MAP</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">show</span><span class="token punctuation">(</span><span class="token constant">COLORS</span><span class="token punctuation">.</span><span class="token function">firstEntry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span><span class="token constant">COLORS</span><span class="token punctuation">.</span><span class="token function">lastEntry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">NavigableMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> toLime <span class="token operator">=</span>
      <span class="token constant">COLORS</span><span class="token punctuation">.</span><span class="token function">headMap</span><span class="token punctuation">(</span><span class="token function">rgb</span><span class="token punctuation">(</span><span class="token string">&quot;Lime&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span>toLime<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span><span class="token constant">COLORS</span><span class="token punctuation">.</span><span class="token function">ceilingEntry</span><span class="token punctuation">(</span><span class="token function">rgb</span><span class="token punctuation">(</span><span class="token string">&quot;DeepSkyBlue&quot;</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span><span class="token constant">COLORS</span><span class="token punctuation">.</span><span class="token function">floorEntry</span><span class="token punctuation">(</span><span class="token function">rgb</span><span class="token punctuation">(</span><span class="token string">&quot;DeepSkyBlue&quot;</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span>toLime<span class="token punctuation">.</span><span class="token function">descendingMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span><span class="token constant">COLORS</span><span class="token punctuation">.</span><span class="token function">tailMap</span><span class="token punctuation">(</span><span class="token function">rgb</span><span class="token punctuation">(</span><span class="token string">&quot;MistyRose&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span><span class="token constant">COLORS</span><span class="token punctuation">.</span><span class="token function">subMap</span><span class="token punctuation">(</span>
      <span class="token function">rgb</span><span class="token punctuation">(</span><span class="token string">&quot;Orchid&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token function">rgb</span><span class="token punctuation">(</span><span class="token string">&quot;DarkSalmon&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
0x000000: Black
******************************
0xFFFFFF: White
******************************
0x000000: Black
0x000080: Navy
0x00008B: DarkBlue
0x0000CD: MediumBlue
0x0000FF: Blue
0x006400: DarkGreen
0x008000: Green
0x008080: Teal
0x008B8B: DarkCyan
0x00BFFF: DeepSkyBlue
0x00CED1: DarkTurquoise
0x00FA9A: MediumSpringGreen
0x00FF00: Lime
******************************
0x00BFFF: DeepSkyBlue
******************************
0x008B8B: DarkCyan
******************************
0x00FF00: Lime
0x00FA9A: MediumSpringGreen
0x00CED1: DarkTurquoise
0x00BFFF: DeepSkyBlue
0x008B8B: DarkCyan
0x008080: Teal
0x008000: Green
0x006400: DarkGreen
0x0000FF: Blue
0x0000CD: MediumBlue
0x00008B: DarkBlue
0x000080: Navy
0x000000: Black
******************************
0xFFE4E1: MistyRose
0xFFEBCD: BlanchedAlmond
0xFFEFD5: PapayaWhip
0xFFF0F5: LavenderBlush
0xFFF5EE: SeaShell
0xFFF8DC: Cornsilk
0xFFFACD: LemonChiffon
0xFFFAF0: FloralWhite
0xFFFAFA: Snow
0xFFFF00: Yellow
0xFFFFE0: LightYellow
0xFFFFF0: Ivory
0xFFFFFF: White
******************************
0xDA70D6: Orchid
0xDAA520: GoldenRod
0xDB7093: PaleVioletRed
0xDC143C: Crimson
0xDCDCDC: Gainsboro
0xDDA0DD: Plum
0xDEB887: BurlyWood
0xE0FFFF: LightCyan
0xE6E6FA: Lavender
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨ä¸»æ–¹æ³•ä¸­å¯ä»¥çœ‹åˆ° <strong>NavigableMap</strong> çš„å„ç§åŠŸèƒ½ã€‚ å› ä¸º <strong>NavigableMap</strong> å…·æœ‰é”®é¡ºåºï¼Œæ‰€ä»¥å®ƒä½¿ç”¨äº† <code>firstEntry()</code> å’Œ <code>lastEntry()</code> çš„æ¦‚å¿µã€‚è°ƒç”¨ <code>headMap()</code> ä¼šç”Ÿæˆä¸€ä¸ª <strong>NavigableMap</strong> ï¼Œå…¶ä¸­åŒ…å«äº†ä» <strong>Map</strong> çš„å¼€å¤´åˆ° <code>headMap()</code> å‚æ•°ä¸­æ‰€æŒ‡å‘çš„ä¸€ç»„å…ƒç´ ï¼Œå…¶ä¸­ <strong>boolean</strong> å€¼æŒ‡ç¤ºç»“æœä¸­æ˜¯å¦åŒ…å«è¯¥å‚æ•°ã€‚è°ƒç”¨ <code>tailMap()</code> æ‰§è¡Œäº†ç±»ä¼¼çš„æ“ä½œï¼Œåªä¸è¿‡æ˜¯ä»å‚æ•°å¼€å§‹åˆ° <strong>Map</strong> çš„æœ«å°¾ã€‚ <code>subMap()</code> åˆ™å…è®¸ç”Ÿæˆ <strong>Map</strong> ä¸­é—´çš„ä¸€éƒ¨åˆ†ã€‚</p><p><code>ceilingEntry()</code> ä»å½“å‰é”®å€¼å¯¹å‘ä¸Šæœç´¢ä¸‹ä¸€ä¸ªé”®å€¼å¯¹ï¼Œ<code>floorEntry()</code> åˆ™æ˜¯å‘ä¸‹æœç´¢ã€‚ <code>descendingMap()</code> åè½¬äº† <strong>NavigableMap</strong> çš„é¡ºåºã€‚</p><p>å¦‚æœéœ€è¦é€šè¿‡åˆ†å‰² <strong>Map</strong> æ¥ç®€åŒ–æ‰€æ­£åœ¨è§£å†³çš„é—®é¢˜ï¼Œåˆ™ <strong>NavigableMap</strong> å¯ä»¥åšåˆ°ã€‚å…·æœ‰ç±»ä¼¼çš„åŠŸèƒ½çš„å…¶å®ƒé›†åˆå®ç°ä¹Ÿå¯ä»¥ç”¨æ¥å¸®åŠ©è§£å†³é—®é¢˜ã€‚</p><!-- Filling Collections --><h2 id="å¡«å……é›†åˆ" tabindex="-1"><a class="header-anchor" href="#å¡«å……é›†åˆ" aria-hidden="true">#</a> å¡«å……é›†åˆ</h2><p>ä¸ <strong>Arrays</strong> ä¸€æ ·ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªåä¸º <strong>Collections</strong> çš„ä¼´éšç±»ï¼ˆcompanion classï¼‰ï¼ŒåŒ…å«äº†ä¸€äº› <strong>static</strong> çš„å®ç”¨æ–¹æ³•ï¼Œå…¶ä¸­åŒ…æ‹¬ä¸€ä¸ªåä¸º <code>fill()</code> çš„æ–¹æ³•ã€‚ <code>fill()</code> åªå¤åˆ¶æ•´ä¸ªé›†åˆä¸­çš„å•ä¸ªå¯¹è±¡å¼•ç”¨ã€‚æ­¤å¤–ï¼Œå®ƒä»…é€‚ç”¨äº <strong>List</strong> å¯¹è±¡ï¼Œä½†ç»“æœåˆ—è¡¨å¯ä»¥ä¼ é€’ç»™æ„é€ æ–¹æ³•æˆ– <code>addAll()</code> æ–¹æ³•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/FillingLists.java</span>
<span class="token comment">// Collections.fill() &amp; Collections.nCopies()</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">StringAddress</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> s<span class="token punctuation">;</span>
  <span class="token class-name">StringAddress</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>s <span class="token operator">=</span> s<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> s<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FillingLists</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">StringAddress</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">nCopies</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">StringAddress</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span>
      <span class="token keyword">new</span> <span class="token class-name">StringAddress</span><span class="token punctuation">(</span><span class="token string">&quot;World!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
[StringAddress@15db9742 Hello, StringAddress@15db9742
Hello, StringAddress@15db9742 Hello,
StringAddress@15db9742 Hello]
[StringAddress@6d06d69c World!, StringAddress@6d06d69c
World!, StringAddress@6d06d69c World!,
StringAddress@6d06d69c World!]
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªç¤ºä¾‹å±•ç¤ºäº†ä¸¤ç§ä½¿ç”¨å¯¹å•ä¸ªå¯¹è±¡çš„å¼•ç”¨æ¥å¡«å…… <strong>Collection</strong> çš„æ–¹æ³•ã€‚ ç¬¬ä¸€ä¸ªï¼š <code>Collections.nCopies()</code> ï¼Œåˆ›å»ºä¸€ä¸ª <strong>List</strong>ï¼Œå¹¶ä¼ é€’ç»™ <strong>ArrayList</strong> çš„æ„é€ æ–¹æ³•ï¼Œè¿›è€Œå¡«å……äº† <strong>ArrayList</strong> ã€‚</p><p><strong>StringAddress</strong> ä¸­çš„ <code>toString()</code> æ–¹æ³•è°ƒç”¨äº† <code>Object.toString()</code> ï¼Œå®ƒå…ˆç”Ÿæˆç±»åï¼Œåè·Ÿç€å¯¹è±¡çš„å“ˆå¸Œç çš„æ— ç¬¦å·åå…­è¿›åˆ¶è¡¨ç¤ºï¼ˆå“ˆå¸Œå—ç”± <code>hashCode()</code> æ–¹æ³•ç”Ÿæˆï¼‰ã€‚ è¾“å‡ºæ˜¾ç¤ºæ‰€æœ‰çš„å¼•ç”¨éƒ½æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ã€‚è°ƒç”¨ç¬¬äºŒä¸ªæ–¹æ³• <code>Collections.fill()</code> åä¹Ÿæ˜¯å¦‚æ­¤ã€‚ <code>fill()</code> æ–¹æ³•çš„ç”¨å¤„éå¸¸æœ‰é™ï¼Œå®ƒåªèƒ½æ›¿æ¢ <strong>List</strong> ä¸­å·²æœ‰çš„å…ƒç´ ,è€Œä¸”ä¸ä¼šæ·»åŠ æ–°å…ƒç´ ï¼Œ</p><h3 id="ä½¿ç”¨-suppliers-å¡«å……é›†åˆ" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨-suppliers-å¡«å……é›†åˆ" aria-hidden="true">#</a> ä½¿ç”¨ Suppliers å¡«å……é›†åˆ</h3><p><a href="">ç¬¬äºŒåç«  æ³›å‹</a>ç« èŠ‚ä¸­ä»‹ç»çš„ <strong>onjava.Suppliers</strong> ç±»ä¸ºå¡«å……é›†åˆæä¾›äº†é€šç”¨è§£å†³æ–¹æ¡ˆã€‚ è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ <strong>Suppliers</strong> åˆå§‹åŒ–å‡ ç§ä¸åŒç±»å‹çš„ <strong>Collection</strong> çš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/SuppliersCollectionTest.java</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Government</span> <span class="token keyword">implements</span> <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> foundation <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;strange women lying in ponds &quot;</span> <span class="token operator">+</span>
    <span class="token string">&quot;distributing swords is no basis &quot;</span> <span class="token operator">+</span>
    <span class="token string">&quot;for a system of government&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> index<span class="token punctuation">;</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> foundation<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SuppliersCollectionTest</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Suppliers class from the Generics chapter:</span>
    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> set <span class="token operator">=</span> <span class="token class-name">Suppliers</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>
      <span class="token class-name">LinkedHashSet</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Government</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token class-name">Suppliers</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>
      <span class="token class-name">LinkedList</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Government</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Suppliers</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Government</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Or we can use Streams:</span>
    set <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token class-name">Government</span><span class="token punctuation">.</span>foundation<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span>
    list <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token class-name">Government</span><span class="token punctuation">.</span>foundation<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    list <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token class-name">Government</span><span class="token punctuation">.</span>foundation<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span>
        <span class="token punctuation">.</span><span class="token function">toCollection</span><span class="token punctuation">(</span><span class="token class-name">LinkedList</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    set <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token class-name">Government</span><span class="token punctuation">.</span>foundation<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span>
        <span class="token punctuation">.</span><span class="token function">toCollection</span><span class="token punctuation">(</span><span class="token class-name">LinkedHashSet</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
[strange, women, lying, in, ponds, distributing,
swords, is, no, basis, for, a, system, of, government]
[strange, women, lying, in, ponds, distributing,
swords, is, no, basis, for, a, system, of, government]
[strange, women, lying, in, ponds, distributing,
swords, is, no, basis, for, a, system, of, government]
[ponds, no, a, in, swords, for, is, basis, strange,
system, government, distributing, of, women, lying]
[strange, women, lying, in, ponds, distributing,
swords, is, no, basis, for, a, system, of, government]
[strange, women, lying, in, ponds, distributing,
swords, is, no, basis, for, a, system, of, government]
[strange, women, lying, in, ponds, distributing,
swords, is, no, basis, for, a, system, of, government]
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>LinkedHashSet</strong> ä¸­çš„çš„å…ƒç´ æŒ‰æ’å…¥é¡ºåºæ’åˆ—ï¼Œå› ä¸ºå®ƒç»´æŠ¤ä¸€ä¸ªé“¾è¡¨æ¥ä¿å­˜è¯¥é¡ºåºã€‚</p><p>ä½†æ˜¯è¯·æ³¨æ„ç¤ºä¾‹çš„ç¬¬äºŒéƒ¨åˆ†ï¼šå¤§å¤šæ•°æƒ…å†µä¸‹éƒ½å¯ä»¥ä½¿ç”¨ <strong>Stream</strong> æ¥åˆ›å»ºå’Œå¡«å…… <strong>Collection</strong> ã€‚åœ¨æœ¬ä¾‹ä¸­çš„ <strong>Stream</strong> ç‰ˆæœ¬ä¸éœ€è¦å£°æ˜ <strong>Supplier</strong> æ‰€æƒ³è¦åˆ›å»ºçš„å…ƒç´ æ•°é‡;ï¼Œå®ƒç›´æ¥å¸æ”¶äº† <strong>Stream</strong> ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚</p><p>å°½å¯èƒ½ä¼˜å…ˆé€‰æ‹© <strong>Stream</strong> æ¥è§£å†³é—®é¢˜ã€‚</p><h3 id="map-suppliers" tabindex="-1"><a class="header-anchor" href="#map-suppliers" aria-hidden="true">#</a> Map Suppliers</h3><p>ä½¿ç”¨ <strong>Supplier</strong> æ¥å¡«å…… <strong>Map</strong> æ—¶éœ€è¦ä¸€ä¸ª <strong>Pair</strong> ç±»ï¼Œå› ä¸ºæ¯æ¬¡è°ƒç”¨ä¸€ä¸ª <strong>Supplier</strong> çš„ <code>get()</code> æ–¹æ³•æ—¶ï¼Œéƒ½å¿…é¡»ç”Ÿæˆä¸€å¯¹å¯¹è±¡ï¼ˆä¸€ä¸ªé”®å’Œä¸€ä¸ªå€¼ï¼‰ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// onjava/Pair.java</span>
<span class="token keyword">package</span> <span class="token namespace">onjava</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token class-name">K</span> key<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token class-name">V</span> value<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token class-name">Pair</span><span class="token punctuation">(</span><span class="token class-name">K</span> k<span class="token punctuation">,</span> <span class="token class-name">V</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    key <span class="token operator">=</span> k<span class="token punctuation">;</span>
    value <span class="token operator">=</span> v<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token class-name">K</span> <span class="token function">key</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> key<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token class-name">V</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> value<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token class-name">K</span> k<span class="token punctuation">,</span> <span class="token class-name">V</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Pair</strong> æ˜¯ä¸€ä¸ªåªè¯»çš„ <em>æ•°æ®ä¼ è¾“å¯¹è±¡</em> ï¼ˆData Transfer Objectï¼‰æˆ– <em>ä¿¡ä½¿</em> ï¼ˆMessengerï¼‰ã€‚ è¿™ä¸<a href="">ç¬¬äºŒåç«  æ³›å‹</a>ç« èŠ‚ä¸­çš„ <strong>Tuple2</strong> åŸºæœ¬ç›¸åŒï¼Œä½†åå­—æ›´é€‚åˆ <strong>Map</strong> åˆå§‹åŒ–ã€‚æˆ‘è¿˜æ·»åŠ äº†é™æ€çš„ <code>make()</code> æ–¹æ³•ï¼Œä»¥ä¾¿ä¸ºåˆ›å»º <strong>Pair</strong> å¯¹è±¡æä¾›ä¸€ä¸ªæ›´ç®€æ´çš„åå­—ã€‚</p><p>Java 8 çš„ <strong>Stream</strong> æä¾›äº†å¡«å…… <strong>Map</strong> çš„ä¾¿æ·æ–¹æ³•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/StreamFillMaps.java</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Letters</span>
<span class="token keyword">implements</span> <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Pair</span><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> number <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">char</span> letter <span class="token operator">=</span> <span class="token char">&#39;A&#39;</span><span class="token punctuation">;</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>number<span class="token operator">++</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> letter<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StreamFillMaps</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> m <span class="token operator">=</span>
      <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Letters</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span>
        <span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span><span class="token class-name">Pair</span><span class="token operator">::</span><span class="token function">key</span><span class="token punctuation">,</span> <span class="token class-name">Pair</span><span class="token operator">::</span><span class="token function">value</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Two separate Suppliers:</span>
    <span class="token class-name">Rand<span class="token punctuation">.</span>String</span> rs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rand<span class="token punctuation">.</span>String</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Count<span class="token punctuation">.</span>Character</span> cc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Count<span class="token punctuation">.</span>Character</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Character</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> mcs <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Pair</span><span class="token punctuation">.</span><span class="token function">make</span><span class="token punctuation">(</span>cc<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rs<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span>
        <span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span><span class="token class-name">Pair</span><span class="token operator">::</span><span class="token function">key</span><span class="token punctuation">,</span> <span class="token class-name">Pair</span><span class="token operator">::</span><span class="token function">value</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>mcs<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// A key Supplier and a single value:</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Character</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> mcs2 <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Pair</span><span class="token punctuation">.</span><span class="token function">make</span><span class="token punctuation">(</span>cc<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;Val&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span>
        <span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span><span class="token class-name">Pair</span><span class="token operator">::</span><span class="token function">key</span><span class="token punctuation">,</span> <span class="token class-name">Pair</span><span class="token operator">::</span><span class="token function">value</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>mcs2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
{1=A, 2=B, 3=C, 4=D, 5=E, 6=F, 7=G, 8=H, 9=I, 10=J,
11=K}
{b=btp, c=enp, d=ccu, e=xsz, f=gvg, g=mei, h=nne,
i=elo}
{p=Val, q=Val, j=Val, k=Val, l=Val, m=Val, n=Val,
o=Val}
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢çš„ç¤ºä¾‹ä¸­å‡ºç°äº†ä¸€ä¸ªæ¨¡å¼ï¼Œå¯ä»¥ä½¿ç”¨å®ƒæ¥åˆ›å»ºä¸€ä¸ªè‡ªåŠ¨åˆ›å»ºå’Œå¡«å…… <strong>Map</strong> çš„å·¥å…·ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// onjava/FillMap.java</span>
<span class="token keyword">package</span> <span class="token namespace">onjava</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FillMap</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span>
  <span class="token function">basic</span><span class="token punctuation">(</span><span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Pair</span><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> pairGen<span class="token punctuation">,</span> <span class="token keyword">int</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span>pairGen<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span>
        <span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span><span class="token class-name">Pair</span><span class="token operator">::</span><span class="token function">key</span><span class="token punctuation">,</span> <span class="token class-name">Pair</span><span class="token operator">::</span><span class="token function">value</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span>
  <span class="token function">basic</span><span class="token punctuation">(</span><span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">&gt;</span></span> keyGen<span class="token punctuation">,</span>
        <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> valueGen<span class="token punctuation">,</span> <span class="token keyword">int</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Pair</span><span class="token punctuation">.</span><span class="token function">make</span><span class="token punctuation">(</span>keyGen<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> valueGen<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span>
        <span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span><span class="token class-name">Pair</span><span class="token operator">::</span><span class="token function">key</span><span class="token punctuation">,</span> <span class="token class-name">Pair</span><span class="token operator">::</span><span class="token function">value</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">,</span> <span class="token class-name">M</span> <span class="token keyword">extends</span> <span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span>
  <span class="token class-name">M</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">&gt;</span></span> keyGen<span class="token punctuation">,</span>
           <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> valueGen<span class="token punctuation">,</span>
           <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">M</span><span class="token punctuation">&gt;</span></span> mapSupplier<span class="token punctuation">,</span> <span class="token keyword">int</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span>
      <span class="token class-name">Pair</span><span class="token punctuation">.</span><span class="token function">make</span><span class="token punctuation">(</span>keyGen<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> valueGen<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span>
          <span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span><span class="token class-name">Pair</span><span class="token operator">::</span><span class="token function">key</span><span class="token punctuation">,</span> <span class="token class-name">Pair</span><span class="token operator">::</span><span class="token function">value</span><span class="token punctuation">,</span>
                 <span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> k<span class="token punctuation">,</span> mapSupplier<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>basic() æ–¹æ³•ç”Ÿæˆä¸€ä¸ªé»˜è®¤çš„ <strong>Map</strong> ï¼Œè€Œ <code>create()</code> æ–¹æ³•å…è®¸æŒ‡å®šä¸€ä¸ªç¡®åˆ‡çš„ <strong>Map</strong> ç±»å‹ï¼Œå¹¶è¿”å›é‚£ä¸ªç¡®åˆ‡çš„ç±»å‹ã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªæµ‹è¯•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/FillMapTest.java</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FillMapTest</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> mcs <span class="token operator">=</span> <span class="token class-name">FillMap</span><span class="token punctuation">.</span><span class="token function">basic</span><span class="token punctuation">(</span>
      <span class="token keyword">new</span> <span class="token class-name">Rand<span class="token punctuation">.</span>String</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Count<span class="token punctuation">.</span>Integer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>mcs<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> hashm <span class="token operator">=</span>
      <span class="token class-name">FillMap</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Rand<span class="token punctuation">.</span>String</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">Count<span class="token punctuation">.</span>Integer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">HashMap</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hashm<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">LinkedHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> linkm <span class="token operator">=</span>
      <span class="token class-name">FillMap</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Rand<span class="token punctuation">.</span>String</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">Count<span class="token punctuation">.</span>Integer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">LinkedHashMap</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>linkm<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
{npcc=1, ztdv=6, gvgm=3, btpe=0, einn=4, eelo=5,
uxsz=2}
{npcc=1, ztdv=6, gvgm=3, btpe=0, einn=4, eelo=5,
uxsz=2}
{btpe=0, npcc=1, uxsz=2, gvgm=3, einn=4, eelo=5,
ztdv=6}
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><!-- Custom Collection and Map using Flyweight --><h2 id="ä½¿ç”¨äº«å…ƒ-flyweight-è‡ªå®šä¹‰collectionå’Œmap" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨äº«å…ƒ-flyweight-è‡ªå®šä¹‰collectionå’Œmap" aria-hidden="true">#</a> ä½¿ç”¨äº«å…ƒï¼ˆFlyweightï¼‰è‡ªå®šä¹‰Collectionå’ŒMap</h2><p>æœ¬èŠ‚ä»‹ç»å¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰ <strong>Collection</strong> å’Œ <strong>Map</strong> å®ç°ã€‚æ¯ä¸ª <strong>java.util</strong> ä¸­çš„é›†åˆéƒ½æœ‰è‡ªå·±çš„ <strong>Abstract</strong> ç±»ï¼Œå®ƒæä¾›äº†è¯¥é›†åˆçš„éƒ¨åˆ†å®ç°ï¼Œå› æ­¤åªéœ€è¦å®ç°å¿…è¦çš„æ–¹æ³•æ¥ç”Ÿæˆæ‰€éœ€çš„é›†åˆã€‚ä½ å°†çœ‹åˆ°é€šè¿‡ç»§æ‰¿ <strong>java.util.Abstract</strong> ç±»æ¥åˆ›å»ºè‡ªå®šä¹‰ <strong>Map</strong> å’Œ <strong>Collection</strong> æ˜¯å¤šä¹ˆç®€å•ã€‚ä¾‹å¦‚ï¼Œè¦åˆ›å»ºä¸€ä¸ªåªè¯»çš„ <strong>Set</strong> ï¼Œåˆ™å¯ä»¥ä» <strong>AbstractSet</strong> ç»§æ‰¿å¹¶å®ç° <code>iterator()</code> å’Œ <code>size()</code> ã€‚æœ€åä¸€ä¸ªç¤ºä¾‹æ˜¯ç”Ÿæˆæµ‹è¯•æ•°æ®çš„å¦ä¸€ç§æ–¹æ³•ã€‚ç”Ÿæˆçš„é›†åˆé€šå¸¸æ˜¯åªè¯»çš„ï¼Œå¹¶ä¸”æ‰€æä¾›çš„æ–¹æ³•æœ€å°‘ã€‚</p><p>è¯¥è§£å†³æ–¹æ¡ˆè¿˜æ¼”ç¤ºäº† <em>äº«å…ƒ</em> ï¼ˆFlyweightï¼‰è®¾è®¡æ¨¡å¼ã€‚å½“æ™®é€šè§£å†³æ–¹æ¡ˆéœ€è¦å¤ªå¤šå¯¹è±¡æ—¶ï¼Œæˆ–è€…å½“ç”Ÿæˆæ™®é€šå¯¹è±¡å ç”¨å¤ªå¤šç©ºé—´æ—¶ï¼Œå¯ä»¥ä½¿ç”¨äº«å…ƒã€‚äº«å…ƒè®¾è®¡æ¨¡å¼å°†å¯¹è±¡çš„ä¸€éƒ¨åˆ†å¤–éƒ¨åŒ–ï¼ˆexternalizesï¼‰ã€‚ç›¸æ¯”äºæŠŠå¯¹è±¡çš„æ‰€æœ‰å†…å®¹éƒ½åŒ…å«åœ¨å¯¹è±¡ä¸­ï¼Œè¿™æ ·åšä½¿å¾—å¯¹è±¡çš„éƒ¨åˆ†æˆ–è€…å…¨éƒ¨å¯ä»¥åœ¨æ›´æœ‰æ•ˆçš„å¤–éƒ¨è¡¨ä¸­æŸ¥æ‰¾ï¼Œæˆ–é€šè¿‡ä¸€äº›èŠ‚çœç©ºé—´çš„å…¶ä»–è®¡ç®—ç”Ÿæˆã€‚</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªå¯ä»¥æ˜¯ä»»ä½•å¤§å°çš„ <strong>List</strong> ï¼Œå¹¶ä¸”ï¼ˆæœ‰æ•ˆåœ°ï¼‰ä½¿ç”¨ <strong>Integer</strong> æ•°æ®è¿›è¡Œé¢„åˆå§‹åŒ–ã€‚è¦ä» <strong>AbstractList</strong> åˆ›å»ºåªè¯» <strong>List</strong> ï¼Œå¿…é¡»å®ç° <code>get()</code> å’Œ <code>size()</code>ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// onjava/CountingIntegerList.java</span>
<span class="token comment">// List of any length, containing sample data</span>
<span class="token comment">// {java onjava.CountingIntegerList}</span>
<span class="token keyword">package</span> <span class="token namespace">onjava</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CountingIntegerList</span>
<span class="token keyword">extends</span> <span class="token class-name">AbstractList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> size<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token class-name">CountingIntegerList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token class-name">CountingIntegerList</span><span class="token punctuation">(</span><span class="token keyword">int</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> size <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> size<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> index<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> size<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> cil <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">CountingIntegerList</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>cil<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>cil<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,
16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29]
500
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åªæœ‰å½“æƒ³è¦é™åˆ¶ <strong>List</strong> çš„é•¿åº¦æ—¶ï¼Œ <strong>size</strong> å€¼æ‰æ˜¯é‡è¦çš„ï¼Œå°±åƒåœ¨ä¸»æ–¹æ³•ä¸­é‚£æ ·ã€‚å³ä½¿åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ <code>get()</code> ä¹Ÿä¼šäº§ç”Ÿä»»ä½•å€¼ã€‚</p><p>è¿™ä¸ªç±»æ˜¯äº«å…ƒæ¨¡å¼çš„ä¸€ä¸ªç®€æ´çš„ä¾‹å­ã€‚å½“éœ€è¦çš„æ—¶å€™ï¼Œ <code>get()</code> â€œè®¡ç®—â€æ‰€éœ€çš„å€¼ï¼Œå› æ­¤æ²¡å¿…è¦å­˜å‚¨å’Œåˆå§‹åŒ–å®é™…çš„åº•å±‚ <strong>List</strong> ç»“æ„ã€‚</p><p>åœ¨å¤§å¤šæ•°ç¨‹åºä¸­ï¼Œè¿™é‡Œæ‰€ä¿å­˜çš„å­˜å‚¨ç»“æ„æ°¸è¿œéƒ½ä¸ä¼šæ”¹å˜ã€‚ä½†æ˜¯ï¼Œå®ƒå…è®¸ç”¨éå¸¸å¤§çš„ <strong>index</strong> æ¥è°ƒç”¨ <code>List.get()</code> ï¼Œè€Œ <strong>List</strong> å¹¶ä¸éœ€è¦å¡«å……åˆ°è¿™ä¹ˆå¤§ã€‚æ­¤å¤–ï¼Œè¿˜å¯ä»¥åœ¨ç¨‹åºä¸­å¤§é‡ä½¿ç”¨ <strong>CountingIntegerLists</strong> è€Œæ— éœ€æ‹…å¿ƒå­˜å‚¨é—®é¢˜ã€‚å®é™…ä¸Šï¼Œäº«å…ƒçš„ä¸€ä¸ªå¥½å¤„æ˜¯å®ƒå…è®¸ä½¿ç”¨æ›´å¥½çš„æŠ½è±¡è€Œä¸ç”¨æ‹…å¿ƒèµ„æºã€‚</p><p>å¯ä»¥ä½¿ç”¨äº«å…ƒè®¾è®¡æ¨¡å¼æ¥å®ç°å…·æœ‰ä»»ä½•å¤§å°æ•°æ®é›†çš„å…¶ä»–â€œåˆå§‹åŒ–â€è‡ªå®šä¹‰é›†åˆã€‚ä¸‹é¢æ˜¯ä¸€ä¸ª <strong>Map</strong> ï¼Œå®ƒä¸ºæ¯ä¸€ä¸ª <strong>Integer</strong> é”®äº§ç”Ÿå”¯ä¸€çš„å€¼ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// onjava/CountMap.java</span>
<span class="token comment">// Unlimited-length Map containing sample data</span>
<span class="token comment">// {java onjava.CountMap}</span>
<span class="token keyword">package</span> <span class="token namespace">onjava</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CountMap</span>
<span class="token keyword">extends</span> <span class="token class-name">AbstractMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> size<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> chars <span class="token operator">=</span>
    <span class="token string">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span><span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span>
      chars<span class="token punctuation">[</span>key <span class="token operator">%</span> chars<span class="token punctuation">.</span>length<span class="token punctuation">]</span> <span class="token operator">+</span>
      <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>key <span class="token operator">/</span> chars<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token class-name">CountMap</span><span class="token punctuation">(</span><span class="token keyword">int</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> size <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> size<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Object</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Entry</span>
  <span class="token keyword">implements</span> <span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> index<span class="token punctuation">;</span>
    <span class="token class-name">Entry</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>index <span class="token operator">=</span> index<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> o <span class="token keyword">instanceof</span> <span class="token class-name">Entry</span> <span class="token operator">&amp;&amp;</span>
        <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Entry</span><span class="token punctuation">)</span>o<span class="token punctuation">)</span><span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> index<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">value</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">setValue</span><span class="token punctuation">(</span><span class="token class-name">String</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">UnsupportedOperationException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// LinkedHashSet retains initialization order:</span>
    <span class="token keyword">return</span> <span class="token class-name">IntStream</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> size<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">mapToObj</span><span class="token punctuation">(</span><span class="token class-name">Entry</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span>
        <span class="token punctuation">.</span><span class="token function">toCollection</span><span class="token punctuation">(</span><span class="token class-name">LinkedHashSet</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token keyword">int</span> size <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
    <span class="token class-name">CountMap</span> cm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CountMap</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>cm<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>cm<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cm<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token number">47</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ints</span><span class="token punctuation">(</span>size<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">mapToObj</span><span class="token punctuation">(</span>cm<span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
{0=A0, 1=B0, 2=C0, 3=D0, 4=E0, 5=F0, 6=G0, 7=H0, 8=I0,
9=J0, 10=K0, 11=L0, 12=M0, 13=N0, 14=O0, 15=P0, 16=Q0,
17=R0, 18=S0, 19=T0, 20=U0, 21=V0, 22=W0, 23=X0, 24=Y0,
25=Z0, 26=A1, 27=B1, 28=C1, 29=D1, 30=E1, 31=F1, 32=G1,
33=H1, 34=I1, 35=J1, 36=K1, 37=L1, 38=M1, 39=N1, 40=O1,
41=P1, 42=Q1, 43=R1, 44=S1, 45=T1, 46=U1, 47=V1, 48=W1,
49=X1, 50=Y1, 51=Z1, 52=A2, 53=B2, 54=C2, 55=D2, 56=E2,
57=F2, 58=G2, 59=H2}
G19
A0
B0
C0
D0
E0
F0

Y9
J21
R26
D33
Z36
N16
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¦åˆ›å»ºä¸€ä¸ªåªè¯»çš„ <strong>Map</strong> ï¼Œåˆ™ä» <strong>AbstractMap</strong> ç»§æ‰¿å¹¶å®ç° <code>entrySet()</code> ã€‚ç§æœ‰çš„ <code>value()</code> æ–¹æ³•è®¡ç®—ä»»ä½•é”®çš„å€¼ï¼Œå¹¶åœ¨ <code>get()</code> å’Œ <code>Entry.getValue()</code> ä¸­ä½¿ç”¨ã€‚å¯ä»¥å¿½ç•¥ <strong>CountMap</strong> çš„å¤§å°ã€‚</p><p>è¿™é‡Œæ˜¯ä½¿ç”¨äº† <strong>LinkedHashSet</strong> è€Œä¸æ˜¯åˆ›å»ºè‡ªå®šä¹‰ <strong>Set</strong> ç±»ï¼Œå› æ­¤å¹¶æœªå®Œå…¨å®ç°äº«å…ƒã€‚åªæœ‰åœ¨è°ƒç”¨ <code>entrySet()</code> æ—¶æ‰ä¼šç”Ÿæˆæ­¤å¯¹è±¡ã€‚</p><p>ç°åœ¨åˆ›å»ºä¸€ä¸ªæ›´å¤æ‚çš„äº«å…ƒã€‚è¿™ä¸ªç¤ºä¾‹ä¸­çš„æ•°æ®é›†æ˜¯ä¸–ç•Œå„å›½åŠå…¶é¦–éƒ½çš„ <strong>Map</strong> ã€‚ <code>capitals()</code> æ–¹æ³•ç”Ÿæˆä¸€ä¸ªå›½å®¶å’Œé¦–éƒ½çš„ <strong>Map</strong> ã€‚ <code>names()</code> æ–¹æ³•ç”Ÿæˆä¸€ä¸ªç”±å›½å®¶åå­—ç»„æˆçš„ <strong>List</strong> ã€‚ å½“ç»™å®šäº†è¡¨ç¤ºæ‰€éœ€å¤§å°çš„ <strong>int</strong> å‚æ•°æ—¶ï¼Œä¸¤ç§æ–¹æ³•éƒ½ç”Ÿæˆå¯¹åº”å¤§å°çš„åˆ—è¡¨ç‰‡æ®µï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// onjava/Countries.java</span>
<span class="token comment">// &quot;Flyweight&quot; Maps and Lists of sample data</span>
<span class="token comment">// {java onjava.Countries}</span>
<span class="token keyword">package</span> <span class="token namespace">onjava</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Countries</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token constant">DATA</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// Africa</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ALGERIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Algiers&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ANGOLA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Luanda&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BENIN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Porto-Novo&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BOTSWANA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Gaberone&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BURKINA FASO&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Ouagadougou&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BURUNDI&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Bujumbura&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;CAMEROON&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Yaounde&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;CAPE VERDE&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Praia&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;CENTRAL AFRICAN REPUBLIC&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Bangui&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;CHAD&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;N&#39;djamena&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;COMOROS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Moroni&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;CONGO&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Brazzaville&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;DJIBOUTI&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Dijibouti&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;EGYPT&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Cairo&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;EQUATORIAL GUINEA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Malabo&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ERITREA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Asmara&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ETHIOPIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Addis Ababa&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;GABON&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Libreville&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;THE GAMBIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Banjul&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;GHANA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Accra&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;GUINEA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Conakry&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BISSAU&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Bissau&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;COTE D&#39;IVOIR (IVORY COAST)&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Yamoussoukro&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;KENYA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Nairobi&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;LESOTHO&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Maseru&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;LIBERIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Monrovia&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;LIBYA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Tripoli&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MADAGASCAR&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Antananarivo&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MALAWI&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Lilongwe&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MALI&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Bamako&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MAURITANIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Nouakchott&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MAURITIUS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Port Louis&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MOROCCO&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Rabat&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MOZAMBIQUE&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Maputo&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;NAMIBIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Windhoek&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;NIGER&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Niamey&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;NIGERIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Abuja&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;RWANDA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Kigali&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SAO TOME E PRINCIPE&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Sao Tome&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SENEGAL&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Dakar&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SEYCHELLES&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Victoria&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SIERRA LEONE&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Freetown&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SOMALIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Mogadishu&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SOUTH AFRICA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Pretoria/Cape Town&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SUDAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Khartoum&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SWAZILAND&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Mbabane&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;TANZANIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Dodoma&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;TOGO&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Lome&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;TUNISIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Tunis&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;UGANDA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Kampala&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;DEMOCRATIC REPUBLIC OF THE CONGO (ZAIRE)&quot;</span><span class="token punctuation">,</span>
     <span class="token string">&quot;Kinshasa&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ZAMBIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Lusaka&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ZIMBABWE&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Harare&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// Asia</span>
    <span class="token punctuation">{</span><span class="token string">&quot;AFGHANISTAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Kabul&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BAHRAIN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Manama&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BANGLADESH&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Dhaka&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BHUTAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Thimphu&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BRUNEI&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Bandar Seri Begawan&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;CAMBODIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Phnom Penh&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;CHINA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Beijing&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;CYPRUS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Nicosia&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;INDIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;New Delhi&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;INDONESIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Jakarta&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;IRAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Tehran&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;IRAQ&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Baghdad&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ISRAEL&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Jerusalem&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;JAPAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Tokyo&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;JORDAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Amman&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;KUWAIT&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Kuwait City&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;LAOS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Vientiane&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;LEBANON&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Beirut&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MALAYSIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Kuala Lumpur&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;THE MALDIVES&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Male&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MONGOLIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Ulan Bator&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MYANMAR (BURMA)&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Rangoon&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;NEPAL&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Katmandu&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;NORTH KOREA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;P&#39;yongyang&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;OMAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Muscat&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;PAKISTAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Islamabad&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;PHILIPPINES&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Manila&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;QATAR&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Doha&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SAUDI ARABIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Riyadh&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SINGAPORE&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Singapore&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SOUTH KOREA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Seoul&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SRI LANKA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Colombo&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SYRIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Damascus&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;TAIWAN (REPUBLIC OF CHINA)&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Taipei&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;THAILAND&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Bangkok&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;TURKEY&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Ankara&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;UNITED ARAB EMIRATES&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Abu Dhabi&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;VIETNAM&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Hanoi&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;YEMEN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Sana&#39;a&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// Australia and Oceania</span>
    <span class="token punctuation">{</span><span class="token string">&quot;AUSTRALIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Canberra&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;FIJI&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Suva&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;KIRIBATI&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Bairiki&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MARSHALL ISLANDS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Dalap-Uliga-Darrit&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MICRONESIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Palikir&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;NAURU&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Yaren&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;NEW ZEALAND&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Wellington&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;PALAU&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Koror&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;PAPUA NEW GUINEA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Port Moresby&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SOLOMON ISLANDS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Honaira&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;TONGA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Nuku&#39;alofa&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;TUVALU&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Fongafale&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;VANUATU&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Port Vila&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;WESTERN SAMOA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Apia&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// Eastern Europe and former USSR</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ARMENIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Yerevan&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;AZERBAIJAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Baku&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BELARUS (BYELORUSSIA)&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Minsk&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BULGARIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Sofia&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;GEORGIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Tbilisi&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;KAZAKSTAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Almaty&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;KYRGYZSTAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Alma-Ata&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MOLDOVA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Chisinau&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;RUSSIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Moscow&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;TAJIKISTAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Dushanbe&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;TURKMENISTAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Ashkabad&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;UKRAINE&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Kyiv&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;UZBEKISTAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Tashkent&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// Europe</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ALBANIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Tirana&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ANDORRA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Andorra la Vella&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;AUSTRIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Vienna&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BELGIUM&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Brussels&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BOSNIA-HERZEGOVINA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Sarajevo&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;CROATIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Zagreb&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;CZECH REPUBLIC&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Prague&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;DENMARK&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Copenhagen&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ESTONIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Tallinn&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;FINLAND&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Helsinki&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;FRANCE&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Paris&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;GERMANY&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Berlin&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;GREECE&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Athens&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;HUNGARY&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Budapest&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ICELAND&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Reykjavik&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;IRELAND&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Dublin&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ITALY&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Rome&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;LATVIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Riga&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;LIECHTENSTEIN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Vaduz&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;LITHUANIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Vilnius&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;LUXEMBOURG&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Luxembourg&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MACEDONIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Skopje&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MALTA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Valletta&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MONACO&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Monaco&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MONTENEGRO&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Podgorica&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;THE NETHERLANDS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Amsterdam&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;NORWAY&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Oslo&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;POLAND&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Warsaw&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;PORTUGAL&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Lisbon&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ROMANIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Bucharest&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SAN MARINO&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;San Marino&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SERBIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Belgrade&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SLOVAKIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Bratislava&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SLOVENIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Ljuijana&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SPAIN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Madrid&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SWEDEN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Stockholm&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SWITZERLAND&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Berne&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;UNITED KINGDOM&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;London&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;VATICAN CITY&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Vatican City&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// North and Central America</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ANTIGUA AND BARBUDA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Saint John&#39;s&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BAHAMAS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Nassau&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BARBADOS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Bridgetown&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BELIZE&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Belmopan&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;CANADA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Ottawa&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;COSTA RICA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;San Jose&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;CUBA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Havana&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;DOMINICA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Roseau&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;DOMINICAN REPUBLIC&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Santo Domingo&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;EL SALVADOR&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;San Salvador&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;GRENADA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Saint George&#39;s&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;GUATEMALA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Guatemala City&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;HAITI&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Port-au-Prince&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;HONDURAS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Tegucigalpa&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;JAMAICA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Kingston&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MEXICO&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Mexico City&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;NICARAGUA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Managua&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;PANAMA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Panama City&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ST. KITTS AND NEVIS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Basseterre&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ST. LUCIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Castries&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ST. VINCENT AND THE GRENADINES&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Kingstown&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;UNITED STATES OF AMERICA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Washington, D.C.&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// South America</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ARGENTINA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Buenos Aires&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BOLIVIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Sucre (legal)/La Paz(administrative)&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BRAZIL&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Brasilia&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;CHILE&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Santiago&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;COLOMBIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Bogota&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ECUADOR&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Quito&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;GUYANA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Georgetown&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;PARAGUAY&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Asuncion&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;PERU&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Lima&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SURINAME&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Paramaribo&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;TRINIDAD AND TOBAGO&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Port of Spain&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;URUGUAY&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Montevideo&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;VENEZUELA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Caracas&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// Use AbstractMap by implementing entrySet()</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">FlyweightMap</span>
  <span class="token keyword">extends</span> <span class="token class-name">AbstractMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Entry</span>
    <span class="token keyword">implements</span> <span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
      <span class="token keyword">int</span> index<span class="token punctuation">;</span>
      <span class="token class-name">Entry</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>index <span class="token operator">=</span> index<span class="token punctuation">;</span> <span class="token punctuation">}</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> o <span class="token keyword">instanceof</span> <span class="token class-name">FlyweightMap</span> <span class="token operator">&amp;&amp;</span>
          <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token constant">DATA</span><span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> o<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token constant">DATA</span><span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token constant">DATA</span><span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">DATA</span><span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">setValue</span><span class="token punctuation">(</span><span class="token class-name">String</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">UnsupportedOperationException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Implement size() &amp; iterator() for AbstractSet:</span>
    <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">EntrySet</span>
    <span class="token keyword">extends</span> <span class="token class-name">AbstractSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
      <span class="token keyword">private</span> <span class="token keyword">int</span> size<span class="token punctuation">;</span>
      <span class="token class-name">EntrySet</span><span class="token punctuation">(</span><span class="token keyword">int</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>size <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token comment">// Can&#39;t be any bigger than the array:</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>size <span class="token operator">&gt;</span> <span class="token constant">DATA</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token constant">DATA</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">else</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> size<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> size<span class="token punctuation">;</span> <span class="token punctuation">}</span>
      <span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">Iter</span>
      <span class="token keyword">implements</span> <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
        <span class="token comment">// Only one Entry object per Iterator:</span>
        <span class="token keyword">private</span> <span class="token class-name">Entry</span> entry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Entry</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> entry<span class="token punctuation">.</span>index <span class="token operator">&lt;</span> size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          entry<span class="token punctuation">.</span>index<span class="token operator">++</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> entry<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">UnsupportedOperationException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span>
      <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Iter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span>
    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> entries <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">EntrySet</span><span class="token punctuation">(</span><span class="token constant">DATA</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> entries<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// Create a partial map of &#39;size&#39; countries:</span>
  <span class="token keyword">static</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">select</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token keyword">int</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">FlyweightMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">EntrySet</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FlyweightMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">capitals</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> map<span class="token punctuation">;</span> <span class="token comment">// The entire map</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">capitals</span><span class="token punctuation">(</span><span class="token keyword">int</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">select</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// A partial map</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> names <span class="token operator">=</span>
    <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// All the names:</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">names</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> names<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token comment">// A partial list:</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">names</span><span class="token punctuation">(</span><span class="token keyword">int</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token function">select</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">capitals</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">names</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token function">capitals</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token keyword">new</span> <span class="token class-name">LinkedHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token function">capitals</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TreeMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token function">capitals</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Hashtable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token function">capitals</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token function">names</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LinkedHashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token function">names</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token function">names</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token function">names</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token function">names</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">capitals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;BRAZIL&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
{ALGERIA=Algiers, ANGOLA=Luanda, BENIN=Porto-Novo,
BOTSWANA=Gaberone, BURKINA FASO=Ouagadougou,
BURUNDI=Bujumbura, CAMEROON=Yaounde, CAPE VERDE=Praia,
CENTRAL AFRICAN REPUBLIC=Bangui, CHAD=N&#39;djamena}
[ALGERIA, ANGOLA, BENIN, BOTSWANA, BURKINA FASO,
BURUNDI, CAMEROON, CAPE VERDE, CENTRAL AFRICAN
REPUBLIC, CHAD]
{BENIN=Porto-Novo, ANGOLA=Luanda, ALGERIA=Algiers}
{ALGERIA=Algiers, ANGOLA=Luanda, BENIN=Porto-Novo}
{ALGERIA=Algiers, ANGOLA=Luanda, BENIN=Porto-Novo}
{ALGERIA=Algiers, ANGOLA=Luanda, BENIN=Porto-Novo}
[BENIN, BOTSWANA, ANGOLA, BURKINA FASO, ALGERIA,
BURUNDI]
[ALGERIA, ANGOLA, BENIN, BOTSWANA, BURKINA FASO,
BURUNDI]
[ALGERIA, ANGOLA, BENIN, BOTSWANA, BURKINA FASO,
BURUNDI]
[ALGERIA, ANGOLA, BENIN, BOTSWANA, BURKINA FASO,
BURUNDI]
[ALGERIA, ANGOLA, BENIN, BOTSWANA, BURKINA FASO,
BURUNDI]
Brasilia
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>äºŒç»´æ•°ç»„ <strong>String DATA</strong> æ˜¯ <strong>public</strong> çš„ï¼Œå› æ­¤å¯ä»¥åœ¨åˆ«å¤„ä½¿ç”¨ã€‚ <strong>FlyweightMap</strong> å¿…é¡»å®ç° <code>entrySet()</code> æ–¹æ³•ï¼Œè¯¥æ–¹æ³•éœ€è¦ä¸€ä¸ªè‡ªå®šä¹‰ <strong>Set</strong> å®ç°å’Œä¸€ä¸ªè‡ªå®šä¹‰ <strong>Map.Entry</strong> ç±»ã€‚è¿™æ˜¯å®ç°äº«å…ƒçš„å¦ä¸€ç§æ–¹æ³•ï¼šæ¯ä¸ª <strong>Map.Entry</strong> å¯¹è±¡å­˜å‚¨å®ƒè‡ªèº«çš„ç´¢å¼•ï¼Œè€Œä¸æ˜¯å®é™…çš„é”®å’Œå€¼ã€‚å½“è°ƒç”¨ <code>getKey()</code> æˆ– <code>getValue()</code> æ—¶ï¼Œå®ƒä½¿ç”¨ç´¢å¼•è¿”å›ç›¸åº”çš„ <strong>DATA</strong> å…ƒç´ ã€‚ <strong>EntrySet</strong> ç¡®ä¿å®ƒçš„ <strong>size</strong> ä¸å¤§äº <strong>DATA</strong> ã€‚</p><p>äº«å…ƒçš„å¦ä¸€éƒ¨åˆ†åœ¨ <strong>EntrySet.Iterator</strong> ä¸­å®ç°ã€‚ç›¸æ¯”äºä¸º <strong>DATA</strong> ä¸­çš„æ¯ä¸ªæ•°æ®å¯¹åˆ›å»ºä¸€ä¸ª <strong>Map.Entry</strong> å¯¹è±¡ï¼Œè¿™é‡Œæ¯ä¸ªè¿­ä»£å™¨åªæœ‰ä¸€ä¸ª <strong>Map.Entry</strong> å¯¹è±¡ã€‚ <strong>Entry</strong> å¯¹è±¡ä½œä¸ºæ•°æ®çš„çª—å£ï¼Œå®ƒåªåŒ…å« <strong>String</strong> é™æ€æ•°ç»„çš„ç´¢å¼•ã€‚æ¯æ¬¡ä¸ºè¿­ä»£å™¨è°ƒç”¨ <code>next()</code> æ—¶ï¼Œ<strong>Entry</strong> ä¸­çš„ç´¢å¼•éƒ½ä¼šé€’å¢ï¼Œå› æ­¤å®ƒä¼šæŒ‡å‘ä¸‹ä¸€ä¸ªæ•°æ®å¯¹ï¼Œç„¶åä» <code>next()</code> è¿”å› <strong>Iterators</strong> çš„å•ä¸ª <strong>Entry</strong> å¯¹è±¡ã€‚[^1]</p><p><code>select()</code> æ–¹æ³•ç”Ÿæˆä¸€ä¸ªåŒ…å«æ‰€éœ€å¤§å°çš„ <strong>EntrySet</strong> çš„ <strong>FlyweightMap</strong> ï¼Œè¿™ç”¨äºåœ¨ä¸»æ–¹æ³•ä¸­æ¼”ç¤ºçš„é‡è½½çš„ <code>capitals()</code> å’Œ <code>names()</code> æ–¹æ³•ã€‚</p><!-- Collection Functionality --><h2 id="é›†åˆåŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#é›†åˆåŠŸèƒ½" aria-hidden="true">#</a> é›†åˆåŠŸèƒ½</h2><p>ä¸‹é¢è¿™ä¸ªè¡¨æ ¼å±•ç¤ºäº†å¯ä»¥å¯¹ <strong>Collection</strong> æ‰§è¡Œçš„æ‰€æœ‰æ“ä½œï¼ˆä¸åŒ…æ‹¬è‡ªåŠ¨ç»§æ‰¿è‡ª <strong>Object</strong> çš„æ–¹æ³•ï¼‰ï¼Œå› æ­¤ï¼Œå¯ä»¥ç”¨ <strong>List</strong> ï¼Œ <strong>Set</strong> ï¼Œ <strong>Queue</strong> æˆ– <strong>Deque</strong> æ‰§è¡Œè¿™é‡Œçš„æ‰€æœ‰æ“ä½œï¼ˆè¿™äº›æ¥å£å¯èƒ½ä¹Ÿæä¾›äº†ä¸€äº›å…¶ä»–çš„åŠŸèƒ½ï¼‰ã€‚<strong>Map</strong> ä¸æ˜¯ä» <strong>Collection</strong> ç»§æ‰¿çš„ï¼Œæ‰€ä»¥è¦å•ç‹¬å¤„ç†å®ƒã€‚</p><table><thead><tr><th style="text-align:center;">æ–¹æ³•å</th><th style="text-align:left;">æè¿°</th></tr></thead><tbody><tr><td style="text-align:center;"><strong>boolean add(T)</strong></td><td style="text-align:left;">ç¡®ä¿é›†åˆåŒ…å«è¯¥æ³›å‹ç±»å‹ <strong>T</strong> çš„å‚æ•°ã€‚å¦‚æœä¸æ·»åŠ å‚æ•°ï¼Œåˆ™è¿”å› <strong>false</strong> ã€‚ ï¼ˆè¿™æ˜¯ä¸€ç§â€œå¯é€‰â€æ–¹æ³•ï¼Œå°†åœ¨ä¸‹ä¸€èŠ‚ä¸­ä»‹ç»ã€‚ï¼‰</td></tr><tr><td style="text-align:center;"><strong>boolean addAll(Collection&lt;? extends T&gt;)</strong></td><td style="text-align:left;">æ·»åŠ å‚æ•°é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚åªè¦æœ‰å…ƒç´ è¢«æˆåŠŸæ·»åŠ åˆ™è¿”å› <strong>true</strong>ã€‚ï¼ˆâ€œå¯é€‰çš„â€ï¼‰</td></tr><tr><td style="text-align:center;"><strong>void clear()</strong></td><td style="text-align:left;">åˆ é™¤é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚ï¼ˆâ€œå¯é€‰çš„â€ï¼‰</td></tr><tr><td style="text-align:center;"><strong>boolean contains(T)</strong></td><td style="text-align:left;">å¦‚æœç›®æ ‡é›†åˆåŒ…å«è¯¥æ³›å‹ç±»å‹ <strong>T</strong> çš„å‚æ•°ï¼Œåˆ™è¿”å› <strong>true</strong> ã€‚</td></tr><tr><td style="text-align:center;"><strong>boolean containsAll(Collection&lt;?&gt;)</strong></td><td style="text-align:left;">å¦‚æœç›®æ ‡é›†åˆåŒ…å«å‚æ•°é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œåˆ™è¿”å› <strong>true</strong></td></tr><tr><td style="text-align:center;"><strong>boolean isEmpty()</strong></td><td style="text-align:left;">å¦‚æœé›†åˆä¸ºç©ºï¼Œåˆ™è¿”å› <strong>true</strong></td></tr><tr><td style="text-align:center;"><strong>Iterator&lt;T&gt; iterator() Spliterator&lt;T&gt; spliterator()</strong></td><td style="text-align:left;">è¿”å›ä¸€ä¸ªè¿­ä»£å™¨æ¥éå†é›†åˆä¸­çš„å…ƒç´ ã€‚ <strong>Spliterators</strong> æ›´å¤æ‚ä¸€äº›ï¼Œå®ƒç”¨åœ¨å¹¶å‘åœºæ™¯</td></tr><tr><td style="text-align:center;"><strong>boolean remove(Object)</strong></td><td style="text-align:left;">å¦‚æœç›®æ ‡é›†åˆåŒ…å«è¯¥å‚æ•°ï¼Œåˆ™åœ¨é›†åˆä¸­åˆ é™¤è¯¥å‚æ•°ï¼Œå¦‚æœæˆåŠŸåˆ é™¤åˆ™è¿”å› <strong>true</strong> ã€‚ï¼ˆâ€œå¯é€‰çš„â€ï¼‰</td></tr><tr><td style="text-align:center;"><strong>boolean removeAll(Collection&lt;?&gt;)</strong></td><td style="text-align:left;">åˆ é™¤ç›®æ ‡é›†åˆä¸­ï¼Œå‚æ•°é›†åˆæ‰€åŒ…å«çš„å…¨éƒ¨å…ƒç´ ã€‚å¦‚æœæœ‰å…ƒç´ è¢«æˆåŠŸåˆ é™¤åˆ™è¿”å› <strong>true</strong> ã€‚ ï¼ˆâ€œå¯é€‰çš„â€ï¼‰</td></tr><tr><td style="text-align:center;"><strong>boolean removeIf(Predicate&lt;? super E&gt;)</strong></td><td style="text-align:left;">åˆ é™¤æ­¤é›†åˆä¸­ï¼Œæ»¡è¶³ç»™å®šæ–­è¨€ï¼ˆpredicateï¼‰çš„æ‰€æœ‰å…ƒç´ </td></tr><tr><td style="text-align:center;"><strong>Stream&lt;E&gt; stream() Stream&lt;E&gt; parallelStream()</strong></td><td style="text-align:left;">è¿”å›ç”±è¯¥ <strong>Collection</strong> ä¸­å…ƒç´ æ‰€ç»„æˆçš„ä¸€ä¸ª <strong>Stream</strong></td></tr><tr><td style="text-align:center;"><strong>int size()</strong></td><td style="text-align:left;">è¿”å›é›†åˆä¸­æ‰€åŒ…å«å…ƒç´ çš„ä¸ªæ•°</td></tr><tr><td style="text-align:center;"><strong>Object[] toArrat()</strong></td><td style="text-align:left;">è¿”å›åŒ…å«è¯¥é›†åˆæ‰€æœ‰å…ƒç´ çš„ä¸€ä¸ªæ•°ç»„</td></tr><tr><td style="text-align:center;"><strong>&lt;T&gt; T[] toArray(T[] a)</strong></td><td style="text-align:left;">è¿”å›åŒ…å«è¯¥é›†åˆæ‰€æœ‰å…ƒç´ çš„ä¸€ä¸ªæ•°ç»„ã€‚ç»“æœçš„è¿è¡Œæ—¶ç±»å‹æ˜¯å‚æ•°æ•°ç»„è€Œä¸æ˜¯æ™®é€šçš„ <strong>Object</strong> æ•°ç»„ã€‚</td></tr></tbody></table><p>è¿™é‡Œæ²¡æœ‰æä¾›ç”¨äºéšæœºè®¿é—®å…ƒç´ çš„ <strong>get()</strong> æ–¹æ³•ï¼Œå› ä¸º <strong>Collection</strong> è¿˜åŒ…å« <strong>Set</strong> ï¼Œå®ƒç»´æŠ¤è‡ªå·±çš„å†…éƒ¨æ’åºï¼Œæ‰€ä»¥éšæœºè®¿é—®æŸ¥æ‰¾å°±æ²¡æœ‰æ„ä¹‰äº†ã€‚å› æ­¤ï¼Œè¦æŸ¥æ‰¾ <strong>Collection</strong> ä¸­çš„å…ƒç´ å¿…é¡»ä½¿ç”¨è¿­ä»£å™¨ã€‚</p><p>ä¸‹é¢è¿™ä¸ªç¤ºä¾‹æ¼”ç¤ºäº† <strong>Collection</strong> çš„æ‰€æœ‰æ–¹æ³•ã€‚è¿™é‡Œä»¥ <strong>ArrayList</strong> ä¸ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/CollectionMethods.java</span>
<span class="token comment">// Things you can do with all Collections</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token class-name">HTMLColors</span><span class="token punctuation">.</span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CollectionMethods</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span>
        <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token constant">LIST</span><span class="token punctuation">.</span><span class="token function">subList</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;ten&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;eleven&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Make an array from the List:</span>
    <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> array <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Make a String array from the List:</span>
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> str <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Find max and min elements; this means</span>
    <span class="token comment">// different things depending on the way</span>
    <span class="token comment">// the Comparable interface is implemented:</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;Collections.max(c) = &quot;</span> <span class="token operator">+</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;Collections.min(c) = &quot;</span> <span class="token operator">+</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Add a Collection to another Collection</span>
    <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> c2 <span class="token operator">=</span>
        <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token constant">LIST</span><span class="token punctuation">.</span><span class="token function">subList</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token constant">LIST</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Remove all components that are</span>
    <span class="token comment">// in the argument collection:</span>
    c<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Is an element in this Collection?</span>
    <span class="token class-name">String</span> val <span class="token operator">=</span> <span class="token constant">LIST</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;c.contains(&quot;</span> <span class="token operator">+</span> val  <span class="token operator">+</span> <span class="token string">&quot;) = &quot;</span> <span class="token operator">+</span> c<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Is a Collection in this Collection?</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;c.containsAll(c2) = &quot;</span> <span class="token operator">+</span> c<span class="token punctuation">.</span><span class="token function">containsAll</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> c3 <span class="token operator">=</span>
      <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span>c<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subList</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Keep all the elements that are in both</span>
    <span class="token comment">// c2 and c3 (an intersection of sets):</span>
    c2<span class="token punctuation">.</span><span class="token function">retainAll</span><span class="token punctuation">(</span>c3<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Throw away all the elements</span>
    <span class="token comment">// in c2 that also appear in c3:</span>
    c2<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span>c3<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;c2.isEmpty() = &quot;</span> <span class="token operator">+</span>  c2<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Functional operation:</span>
    c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token constant">LIST</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c<span class="token punctuation">.</span><span class="token function">removeIf</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> <span class="token operator">!</span>s<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;P&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c<span class="token punctuation">.</span><span class="token function">removeIf</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> s<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;Pale&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Stream operation:</span>
    c<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Remove all elements</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;after c.clear():&quot;</span> <span class="token operator">+</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
AliceBlue
AntiqueWhite
Aquamarine
Azure
ten
eleven
******************************
Collections.max(c) = ten
Collections.min(c) = AliceBlue
******************************
AliceBlue
AntiqueWhite
Aquamarine
Azure
ten
eleven
Brown
BurlyWood
CadetBlue
Chartreuse
******************************
AntiqueWhite
Aquamarine
Azure
ten
eleven
Brown
BurlyWood
CadetBlue
Chartreuse
******************************
AntiqueWhite
Aquamarine
Azure
ten
eleven
******************************
AntiqueWhite
Aquamarine
Azure
ten
eleven
Brown
BurlyWood
CadetBlue
Chartreuse
******************************
c.contains(Azure) = true
c.containsAll(c2) = true
c2.isEmpty() = true
******************************
PapayaWhip
PeachPuff
Peru
Pink
Plum
PowderBlue
Purple
after c.clear():[]
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸ºäº†åªæ¼”ç¤º <strong>Collection</strong> æ¥å£çš„æ–¹æ³•ï¼Œè€Œæ²¡æœ‰å…¶å®ƒé¢å¤–çš„å†…å®¹ï¼Œæ‰€ä»¥è¿™é‡Œåˆ›å»ºåŒ…å«ä¸åŒæ•°æ®é›†çš„ <strong>ArrayList</strong> ï¼Œå¹¶å‘ä¸Šè½¬å‹ä¸º <strong>Collection</strong> å¯¹è±¡ã€‚</p><!-- Optional Operations --><h2 id="å¯é€‰æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#å¯é€‰æ“ä½œ" aria-hidden="true">#</a> å¯é€‰æ“ä½œ</h2><p>åœ¨ <strong>Collection</strong> æ¥å£ä¸­æ‰§è¡Œå„ç§æ·»åŠ å’Œåˆ é™¤æ“ä½œçš„æ–¹æ³•æ˜¯ <em>å¯é€‰æ“ä½œ</em> ï¼ˆoptional operationsï¼‰ã€‚è¿™æ„å‘³ç€å®ç°ç±»ä¸éœ€è¦ä¸ºè¿™äº›æ–¹æ³•æä¾›åŠŸèƒ½å®šä¹‰ã€‚</p><p>è¿™æ˜¯ä¸€ç§éå¸¸ä¸å¯»å¸¸çš„å®šä¹‰æ¥å£çš„æ–¹å¼ã€‚æ­£å¦‚æˆ‘ä»¬æ‰€çŸ¥ï¼Œæ¥å£æ˜¯ä¸€ç§åˆçº¦ï¼ˆcontractï¼‰ã€‚å®ƒè¡¨è¾¾çš„æ„æ€æ˜¯ï¼Œâ€œæ— è®ºä½ å¦‚ä½•é€‰æ‹©å®ç°è¿™ä¸ªæ¥å£ï¼Œæˆ‘ä¿è¯ä½ å¯ä»¥å°†è¿™äº›æ¶ˆæ¯å‘é€åˆ°è¿™ä¸ªå¯¹è±¡â€ï¼ˆæˆ‘åœ¨è¿™é‡Œä½¿ç”¨æœ¯è¯­â€œæ¥å£â€æ¥æè¿°æ­£å¼çš„ <strong>interface</strong> å…³é”®å­—å’Œâ€œä»»ä½•ç±»æˆ–å­ç±»éƒ½æ”¯æŒçš„æ–¹æ³•â€çš„æ›´ä¸€èˆ¬å«ä¹‰ï¼‰ã€‚ä½†â€œå¯é€‰â€æ“ä½œè¿åäº†è¿™ä¸€åŸºæœ¬åŸåˆ™ï¼Œå®ƒè¡¨ç¤ºè°ƒç”¨æŸäº›æ–¹æ³•ä¸ä¼šæ‰§è¡Œæœ‰æ„ä¹‰çš„è¡Œä¸ºã€‚ç›¸åï¼Œå®ƒä»¬ä¼šæŠ›å‡ºå¼‚å¸¸ï¼è¿™çœ‹èµ·æ¥ä¼¼ä¹ä¸¢å¤±äº†ç¼–è¯‘æ—¶çš„ç±»å‹å®‰å…¨æ€§ã€‚</p><p>å…¶å®æ²¡é‚£ä¹ˆç³Ÿç³•ã€‚å¦‚æœæ“ä½œæ˜¯å¯é€‰çš„ï¼Œç¼–è¯‘å™¨ä»ç„¶èƒ½å¤Ÿé™åˆ¶ä½ ä»…è°ƒç”¨è¯¥æ¥å£ä¸­çš„æ–¹æ³•ã€‚å®ƒä¸åƒåŠ¨æ€è¯­è¨€é‚£æ ·ï¼Œå¯ä»¥ä¸ºä»»ä½•å¯¹è±¡è°ƒç”¨ä»»ä½•æ–¹æ³•ï¼Œå¹¶åœ¨è¿è¡Œæ—¶æŸ¥æ‰¾ç‰¹å®šçš„è°ƒç”¨æ˜¯å¦å¯è¡Œã€‚[^2]æ­¤å¤–ï¼Œå¤§å¤šæ•°å°† <strong>Collection</strong> ä½œä¸ºå‚æ•°çš„æ–¹æ³•ä»…ä»è¯¥ <strong>Collection</strong> ä¸­è¯»å–ï¼Œå¹¶ä¸” <strong>Collection</strong> çš„æ‰€æœ‰â€œè¯»å–â€æ–¹æ³•éƒ½ä¸æ˜¯å¯é€‰çš„ã€‚</p><p>ä¸ºä»€ä¹ˆè¦å°†æ–¹æ³•å®šä¹‰ä¸ºâ€œå¯é€‰â€çš„ï¼Ÿå› ä¸ºè¿™æ ·åšå¯ä»¥é˜²æ­¢è®¾è®¡ä¸­çš„æ¥å£çˆ†ç‚¸ã€‚é›†åˆåº“çš„å…¶ä»–è®¾è®¡å¾€å¾€ä¼šäº§ç”Ÿä»¤äººå›°æƒ‘çš„è¿‡å¤šæ¥å£æ¥æè¿°ä¸»é¢˜çš„æ¯ä¸ªå˜ä½“ã€‚è¿™ç”šè‡³ä½¿å¾—ä¸å¯èƒ½æ•è·åˆ°æ¥å£ä¸­çš„æ‰€æœ‰ç‰¹æ®Šæƒ…å†µï¼Œå› ä¸ºæ€»æœ‰äººèƒ½å‘æ˜ä¸€ä¸ªæ–°çš„æ¥å£ã€‚â€œä¸æ”¯æŒçš„æ“ä½œï¼ˆunsupported operationï¼‰â€è¿™ç§æ–¹å¼å®ç°äº†Javaé›†åˆåº“çš„ä¸€ä¸ªé‡è¦ç›®æ ‡ï¼šé›†åˆè¦æ˜“äºå­¦ä¹ å’Œä½¿ç”¨ã€‚ä¸æ”¯æŒçš„æ“ä½œæ˜¯ä¸€ç§ç‰¹æ®Šæƒ…å†µï¼Œå¯ä»¥æ¨è¿Ÿåˆ°å¿…è¦çš„æ—¶å€™ã€‚ä½†æ˜¯ï¼Œè¦ä½¿ç”¨æ­¤æ–¹æ³•ï¼š</p><ol><li><p><strong>UnsupportedOperationException</strong> å¿…é¡»æ˜¯ä¸€ä¸ªç½•è§çš„äº‹ä»¶ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºå¤§å¤šæ•°ç±»ï¼Œæ‰€æœ‰æ“ä½œéƒ½åº”è¯¥èµ·ä½œç”¨ï¼Œå¹¶ä¸”åªæœ‰åœ¨ç‰¹æ®Šæƒ…å†µä¸‹æ‰åº”è¯¥ä¸æ”¯æŒæŸé¡¹æ“ä½œã€‚è¿™åœ¨Javaé›†åˆåº“ä¸­æ˜¯æ­£ç¡®çš„ï¼Œå› ä¸º99%çš„æ—¶é—´ä½¿ç”¨åˆ°çš„ç±» â€”â€” <strong>ArrayList</strong> ï¼Œ <strong>LinkedList</strong> ï¼Œ <strong>HashSet</strong> å’Œ <strong>HashMap</strong> ï¼Œä»¥åŠå…¶ä»–å…·ä½“å®ç°ï¼Œéƒ½æ”¯æŒæ‰€æœ‰æ“ä½œã€‚è¯¥è®¾è®¡ç¡®å®ä¸ºåˆ›å»ºä¸€ä¸ªæ–°çš„ <strong>Collection</strong> æä¾›äº†ä¸€ä¸ªâ€œåé—¨â€ï¼Œå¯ä»¥ä¸ä¸º <strong>Collection</strong> æ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•éƒ½æä¾›æœ‰æ„ä¹‰çš„å®šä¹‰ï¼Œè¿™äº›å®šä¹‰ä»ç„¶é€‚åˆç°æœ‰çš„ç±»åº“ã€‚</p></li><li><p>å½“ä¸æ”¯æŒæŸä¸ªæ“ä½œæ—¶ï¼Œ <strong>UnsupportedOperationException</strong> åº”è¯¥å‡ºç°åœ¨å®ç°é˜¶æ®µï¼Œè€Œä¸æ˜¯åœ¨å°†äº§å“å‘é€ç»™å®¢æˆ·ä¹‹åã€‚æ¯•ç«Ÿï¼Œè¿™ä¸ªå¼‚å¸¸è¡¨ç¤ºç¼–ç¨‹é”™è¯¯ï¼šé”™è¯¯åœ°ä½¿ç”¨äº†ä¸€ä¸ªå…·ä½“å®ç°ã€‚</p></li></ol><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œä¸æ”¯æŒçš„æ“ä½œåªèƒ½åœ¨è¿è¡Œæ—¶æ£€æµ‹åˆ°ï¼Œå› æ­¤è¿™ä»£è¡¨åŠ¨æ€ç±»å‹æ£€æŸ¥ã€‚å¦‚æœä½ æ¥è‡ªåƒ C++ è¿™æ ·çš„é™æ€ç±»å‹è¯­è¨€ï¼ŒJava å¯èƒ½çœ‹èµ·æ¥åªæ˜¯å¦ä¸€ç§é™æ€ç±»å‹è¯­è¨€ã€‚å½“ç„¶ï¼Œ Java è‚¯å®šæœ‰é™æ€ç±»å‹æ£€æŸ¥ï¼Œä½†å®ƒä¹Ÿæœ‰å¤§é‡çš„åŠ¨æ€ç±»å‹ï¼Œå› æ­¤å¾ˆéš¾è¯´å®ƒåªæ˜¯é™æ€è¯­è¨€æˆ–åŠ¨æ€è¯­è¨€ã€‚ä¸€æ—¦ä½ å¼€å§‹æ³¨æ„åˆ°è¿™ä¸€ç‚¹ï¼Œä½ å°±ä¼šå¼€å§‹çœ‹åˆ° Java ä¸­åŠ¨æ€ç±»å‹æ£€æŸ¥çš„å…¶ä»–ç¤ºä¾‹ã€‚</p><!-- Unsupported Operations --><h3 id="ä¸æ”¯æŒçš„æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#ä¸æ”¯æŒçš„æ“ä½œ" aria-hidden="true">#</a> ä¸æ”¯æŒçš„æ“ä½œ</h3><p>ä¸æ”¯æŒçš„æ“ä½œçš„å¸¸è§æ¥æºæ˜¯ç”±å›ºå®šå¤§å°çš„æ•°æ®ç»“æ„æ‰€æ”¯æŒçš„é›†åˆã€‚ä½¿ç”¨ <code>Arrays.asList()</code> æ–¹æ³•å°†æ•°ç»„è½¬æ¢ä¸º <strong>List</strong> æ—¶ï¼Œå°±ä¼šå¾—åˆ°è¿™æ ·çš„é›†åˆã€‚æ­¤å¤–ï¼Œè¿˜å¯ä»¥é€‰æ‹©ä½¿ç”¨ <strong>Collections</strong> ç±»ä¸­çš„â€œä¸å¯ä¿®æ”¹ï¼ˆunmodifiableï¼‰â€æ–¹æ³•ä½¿ä»»ä½•é›†åˆï¼ˆåŒ…æ‹¬ <strong>Map</strong> ï¼‰æŠ›å‡º <strong>UnsupportedOperationException</strong> å¼‚å¸¸ã€‚æ­¤ç¤ºä¾‹å±•ç¤ºäº†è¿™ä¸¤ç§æƒ…å†µï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/Unsupported.java</span>
<span class="token comment">// Unsupported operations in Java collections</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Unsupported</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token keyword">void</span>
  <span class="token function">check</span><span class="token punctuation">(</span><span class="token class-name">String</span> description<span class="token punctuation">,</span> <span class="token class-name">Runnable</span> tst<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      tst<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>description <span class="token operator">+</span> <span class="token string">&quot;(): &quot;</span> <span class="token operator">+</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--- &quot;</span> <span class="token operator">+</span> msg <span class="token operator">+</span> <span class="token string">&quot; ---&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span> list<span class="token punctuation">;</span>
    <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> subList <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">subList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Copy of the sublist:</span>
    <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> c2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>subList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">check</span><span class="token punctuation">(</span><span class="token string">&quot;retainAll&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> c<span class="token punctuation">.</span><span class="token function">retainAll</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">check</span><span class="token punctuation">(</span><span class="token string">&quot;removeAll&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> c<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">check</span><span class="token punctuation">(</span><span class="token string">&quot;clear&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> c<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">check</span><span class="token punctuation">(</span><span class="token string">&quot;add&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> c<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;X&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">check</span><span class="token punctuation">(</span><span class="token string">&quot;addAll&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> c<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">check</span><span class="token punctuation">(</span><span class="token string">&quot;remove&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> c<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;C&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// The List.set() method modifies the value but</span>
    <span class="token comment">// doesn&#39;t change the size of the data structure:</span>
    <span class="token function">check</span><span class="token punctuation">(</span><span class="token string">&quot;List.set&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> list<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;X&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>
      <span class="token string">&quot;A B C D E F G H I J K L&quot;</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;Modifiable Copy&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;Arrays.asList()&quot;</span><span class="token punctuation">,</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;unmodifiableList()&quot;</span><span class="token punctuation">,</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">unmodifiableList</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
--- Modifiable Copy ---
--- Arrays.asList() ---
retainAll(): java.lang.UnsupportedOperationException
removeAll(): java.lang.UnsupportedOperationException
clear(): java.lang.UnsupportedOperationException
add(): java.lang.UnsupportedOperationException
addAll(): java.lang.UnsupportedOperationException
remove(): java.lang.UnsupportedOperationException
--- unmodifiableList() ---
retainAll(): java.lang.UnsupportedOperationException
removeAll(): java.lang.UnsupportedOperationException
clear(): java.lang.UnsupportedOperationException
add(): java.lang.UnsupportedOperationException
addAll(): java.lang.UnsupportedOperationException
remove(): java.lang.UnsupportedOperationException
List.set(): java.lang.UnsupportedOperationException
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å› ä¸º <code>Arrays.asList()</code> ç”Ÿæˆçš„ <strong>List</strong> ç”±ä¸€ä¸ªå›ºå®šå¤§å°çš„æ•°ç»„æ‰€æ”¯æŒï¼Œæ‰€ä»¥å”¯ä¸€æ”¯æŒçš„æ“ä½œæ˜¯é‚£äº›ä¸æ”¹å˜æ•°ç»„å¤§å°çš„æ“ä½œã€‚ä»»ä½•ä¼šå¯¼è‡´æ›´æ”¹åŸºç¡€æ•°æ®ç»“æ„å¤§å°çš„æ–¹æ³•éƒ½ä¼šäº§ç”Ÿ <strong>UnsupportedOperationException</strong> å¼‚å¸¸ï¼Œæ¥è¯´æ˜è¿™æ˜¯å¯¹ä¸æ”¯æŒçš„æ–¹æ³•çš„è°ƒç”¨ï¼ˆç¼–ç¨‹é”™è¯¯ï¼‰ã€‚</p><p>è¯·æ³¨æ„ï¼Œå§‹ç»ˆå¯ä»¥å°† <code>Arrays.asList()</code> çš„ç»“æœä½œä¸ºä¸€ä¸ªå‚æ•°ä¼ é€’ç»™ä»»ä½• <strong>Collection</strong> çš„æ„é€ æ–¹æ³•ï¼ˆæˆ–ä½¿ç”¨ <code>addAll()</code> æ–¹æ³•æˆ–é™æ€çš„ <code>Collections.addAll()</code> æ–¹æ³•ï¼‰æ¥åˆ›å»ºä¸€ä¸ªå…è®¸ä½¿ç”¨æ‰€æœ‰æ–¹æ³•çš„å¸¸è§„é›†åˆï¼Œåœ¨ä¸»æ–¹æ³•ä¸­ç¬¬ä¸€æ¬¡è°ƒç”¨ <code>test()</code> æ—¶æ˜¾ç¤ºäº†è¿™ç§æƒ…å†µã€‚è¿™ç§è°ƒç”¨äº§ç”Ÿäº†ä¸€ä¸ªæ–°çš„å¯è°ƒæ•´å¤§å°çš„åº•å±‚æ•°æ®ç»“æ„ã€‚</p><p><strong>Collections</strong> ç±»ä¸­çš„â€œunmodifiableâ€æ–¹æ³•ä¼šå°†é›†åˆåŒ…è£…ä¸€ä¸ªä»£ç†ä¸­ï¼Œå¦‚æœæ‰§è¡Œä»»ä½•æƒ³è¦ä¿®æ”¹é›†åˆçš„æ“ä½œï¼Œåˆ™è¯¥ä»£ç†ä¼šç”Ÿæˆ <strong>UnsupportedOperationException</strong> å¼‚å¸¸ã€‚ä½¿ç”¨è¿™äº›æ–¹æ³•çš„ç›®çš„æ˜¯ç”Ÿæˆä¸€ä¸ªâ€œå¸¸é‡â€é›†åˆå¯¹è±¡ã€‚ç¨åå°†æè¿°â€œunmodifiableâ€œé›†åˆæ–¹æ³•çš„å®Œæ•´åˆ—è¡¨ã€‚</p><p><code>test()</code> ä¸­çš„æœ€åä¸€ä¸ª <code>check()</code> ç”¨äºæµ‹è¯•<strong>List</strong> çš„ <code>set()</code> æ–¹æ³•ã€‚è¿™é‡Œï¼Œâ€œä¸æ”¯æŒçš„æ“ä½œâ€æŠ€æœ¯çš„ç²’åº¦ï¼ˆgranularityï¼‰å°±æ´¾ä¸Šç”¨åœºäº†ï¼Œå¾—åˆ°çš„â€œæ¥å£â€å¯ä»¥é€šè¿‡ä¸€ç§æ–¹æ³•åœ¨ <code>Arrays.asList()</code> è¿”å›çš„å¯¹è±¡å’Œ <code>Collections.unmodifiableList()</code> è¿”å›çš„å¯¹è±¡ä¹‹é—´å˜æ¢ã€‚ <code>Arrays.asList()</code> è¿”å›å›ºå®šå¤§å°çš„ <strong>List</strong> ï¼Œè€Œ <code>Collections.unmodifiableList()</code> ç”Ÿæˆæ— æ³•æ›´æ”¹çš„ <strong>List</strong> ã€‚å¦‚è¾“å‡ºä¸­æ‰€ç¤ºï¼Œ <code>Arrays.asList()</code> è¿”å›çš„ <strong>List</strong> ä¸­çš„å…ƒç´ æ˜¯å¯ä»¥ä¿®æ”¹çš„ï¼Œå› ä¸ºè¿™ä¸ä¼šè¿åè¯¥ <strong>List</strong> çš„â€œå›ºå®šå¤§å°â€ç‰¹æ€§ã€‚ä½†å¾ˆæ˜æ˜¾ï¼Œ <code>unmodifiableList()</code> çš„ç»“æœä¸åº”è¯¥ä»¥ä»»ä½•æ–¹å¼ä¿®æ”¹ã€‚å¦‚æœä½¿ç”¨æ¥å£æ¥æè¿°ï¼Œåˆ™éœ€è¦ä¸¤ä¸ªé¢å¤–çš„æ¥å£ï¼Œä¸€ä¸ªå…·æœ‰å¯ç”¨çš„ <code>set()</code> æ–¹æ³•ï¼Œè€Œå¦ä¸€ä¸ªæ²¡æœ‰ã€‚ <strong>Collection</strong> çš„å„ç§ä¸å¯ä¿®æ”¹çš„å­ç±»å‹éƒ½å°†éœ€è¦é¢å¤–çš„æ¥å£ã€‚</p><p>å¦‚æœä¸€ä¸ªæ–¹æ³•å°†ä¸€ä¸ªé›†åˆä½œä¸ºå®ƒçš„å‚æ•°ï¼Œé‚£ä¹ˆå®ƒçš„æ–‡æ¡£åº”è¯¥è¯´æ˜å¿…é¡»å®ç°å“ªäº›å¯é€‰æ–¹æ³•ã€‚</p><!-- Sets and Storage Order --><h2 id="setå’Œå­˜å‚¨é¡ºåº" tabindex="-1"><a class="header-anchor" href="#setå’Œå­˜å‚¨é¡ºåº" aria-hidden="true">#</a> Setå’Œå­˜å‚¨é¡ºåº</h2><p><a href="">ç¬¬åäºŒç«  é›†åˆ</a>ç« èŠ‚ä¸­çš„ <strong>Set</strong> æœ‰å…³ç¤ºä¾‹å¯¹ <strong>Set</strong> çš„åŸºæœ¬æ“ä½œåšäº†å¾ˆå¥½çš„ä»‹ç»ã€‚ ä½†æ˜¯ï¼Œè¿™äº›ç¤ºä¾‹å¯ä»¥æ–¹ä¾¿åœ°ä½¿ç”¨é¢„å®šä¹‰çš„ Java ç±»å‹ï¼Œä¾‹å¦‚ <strong>Integer</strong> å’Œ <strong>String</strong> ï¼Œå®ƒä»¬å¯ä»¥åœ¨é›†åˆä¸­ä½¿ç”¨ã€‚åœ¨åˆ›å»ºè‡ªå·±çš„ç±»å‹æ—¶è¯·æ³¨æ„ï¼Œ <strong>Set</strong> ï¼ˆä»¥åŠç¨åä¼šçœ‹åˆ°çš„ <strong>Map</strong> ï¼‰éœ€è¦ä¸€ç§ç»´æŠ¤å­˜å‚¨é¡ºåºçš„æ–¹æ³•ï¼Œè¯¥é¡ºåºå›  <strong>Set</strong> çš„ä¸åŒå®ç°è€Œå¼‚ã€‚å› æ­¤ï¼Œä¸åŒçš„ <strong>Set</strong> å®ç°ä¸ä»…å…·æœ‰ä¸åŒçš„è¡Œä¸ºï¼Œè€Œä¸”å®ƒä»¬å¯¹å¯ä»¥æ”¾å…¥ç‰¹å®š <strong>Set</strong> ä¸­çš„å¯¹è±¡ç±»å‹ä¹Ÿæœ‰ä¸åŒçš„è¦æ±‚ï¼š</p><table><thead><tr><th style="text-align:center;"><strong>Set</strong> ç±»å‹</th><th style="text-align:left;">çº¦æŸ</th></tr></thead><tbody><tr><td style="text-align:center;"><strong>Set(interface)</strong></td><td style="text-align:left;">æ·»åŠ åˆ° <strong>Set</strong> ä¸­çš„æ¯ä¸ªå…ƒç´ å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œå¦åˆ™ï¼Œ<strong>Set</strong> ä¸ä¼šæ·»åŠ é‡å¤å…ƒç´ ã€‚æ·»åŠ åˆ° <strong>Set</strong> çš„å…ƒç´ å¿…é¡»è‡³å°‘å®šä¹‰ <code>equals()</code> æ–¹æ³•ä»¥å»ºç«‹å¯¹è±¡å”¯ä¸€æ€§ã€‚ <strong>Set</strong> ä¸ <strong>Collection</strong> å…·æœ‰å®Œå…¨ç›¸åŒçš„æ¥å£ã€‚ <strong>Set</strong> æ¥å£ä¸ä¿è¯å®ƒå°†ä»¥ä»»ä½•ç‰¹å®šé¡ºåºç»´æŠ¤å…¶å…ƒç´ ã€‚</td></tr><tr><td style="text-align:center;"><strong>HashSet*</strong></td><td style="text-align:left;">æ³¨é‡å¿«é€ŸæŸ¥æ‰¾å…ƒç´ çš„é›†åˆï¼Œå…¶ä¸­å…ƒç´ å¿…é¡»å®šä¹‰ <code>hashCode()</code> å’Œ <code>equals()</code> æ–¹æ³•ã€‚</td></tr><tr><td style="text-align:center;"><strong>TreeSet</strong></td><td style="text-align:left;">ç”±æ ‘æ”¯æŒçš„æœ‰åº <strong>Set</strong>ã€‚è¿™æ ·ï¼Œå°±å¯ä»¥ä» <strong>Set</strong> ä¸­è·å–æœ‰åºåºåˆ—ï¼Œå…¶ä¸­å…ƒç´ å¿…é¡»å®ç° <strong>Comparable</strong> æ¥å£ã€‚</td></tr><tr><td style="text-align:center;"><strong>LinkedHashSet</strong></td><td style="text-align:left;">å…·æœ‰ <strong>HashSet</strong> çš„æŸ¥æ‰¾é€Ÿåº¦ï¼Œä½†åœ¨å†…éƒ¨ä½¿ç”¨é“¾è¡¨ç»´æŠ¤å…ƒç´ çš„æ’å…¥é¡ºåºã€‚å› æ­¤ï¼Œå½“åœ¨éå† <strong>Set</strong> æ—¶ï¼Œç»“æœå°†æŒ‰å…ƒç´ çš„æ’å…¥é¡ºåºæ˜¾ç¤ºã€‚å…ƒç´ å¿…é¡»å®šä¹‰ <code>hashCode()</code> å’Œ <code>equals()</code> æ–¹æ³•ã€‚</td></tr></tbody></table><p><strong>HashSet</strong> ä¸Šçš„æ˜Ÿå·è¡¨ç¤ºï¼Œåœ¨æ²¡æœ‰å…¶ä»–çº¦æŸçš„æƒ…å†µä¸‹ï¼Œè¿™åº”è¯¥æ˜¯ä½ çš„é»˜è®¤é€‰æ‹©ï¼Œå› ä¸ºå®ƒé’ˆå¯¹é€Ÿåº¦è¿›è¡Œäº†ä¼˜åŒ–ã€‚</p><p>å®šä¹‰ <code>hashCode()</code> æ–¹æ³•åœ¨<a href="">é™„å½•:ç†è§£equalså’ŒhashCodeæ–¹æ³•</a>ä¸­è¿›è¡Œäº†æè¿°ã€‚å¿…é¡»ä¸ºæ•£åˆ—å’Œæ ‘å­˜å‚¨ç»“æ„åˆ›å»º <code>equals()</code> æ–¹æ³•ï¼Œä½†åªæœ‰å½“æŠŠç±»æ”¾åœ¨ <strong>HashSet</strong> ä¸­æ—¶æ‰éœ€è¦ <code>hashCode()</code> ï¼ˆå½“ç„¶è¿™å¾ˆæœ‰å¯èƒ½ï¼Œå› ä¸º <strong>HashSet</strong> é€šå¸¸åº”è¯¥æ˜¯ä½œä¸º <strong>Set</strong> å®ç°çš„é¦–é€‰ï¼‰æˆ– <strong>LinkedHashSet</strong> ã€‚ ä½†æ˜¯ï¼Œä½œä¸ºä¸€ç§è‰¯å¥½çš„ç¼–ç¨‹é£æ ¼ï¼Œåœ¨è¦†ç›– <code>equals()</code> æ—¶åº”å§‹ç»ˆè¦†ç›– <code>hashCode()</code> ã€‚</p><p>ä¸‹é¢çš„ç¤ºä¾‹æ¼”ç¤ºäº†æˆåŠŸä½¿ç”¨å…·æœ‰ç‰¹å®š <strong>Set</strong> å®ç°çš„ç±»å‹æ‰€éœ€çš„æ–¹æ³•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/TypesForSets.java</span>
<span class="token comment">// Methods necessary to put your own type in a Set</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Objects</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SetType</span> <span class="token punctuation">{</span>
  <span class="token keyword">protected</span> <span class="token keyword">int</span> i<span class="token punctuation">;</span>
  <span class="token class-name">SetType</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span> i <span class="token operator">=</span> n<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> o <span class="token keyword">instanceof</span> <span class="token class-name">SetType</span> <span class="token operator">&amp;&amp;</span>
      <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">SetType</span><span class="token punctuation">)</span>o<span class="token punctuation">)</span><span class="token punctuation">.</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">HashType</span> <span class="token keyword">extends</span> <span class="token class-name">SetType</span> <span class="token punctuation">{</span>
  <span class="token class-name">HashType</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">super</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">TreeType</span> <span class="token keyword">extends</span> <span class="token class-name">SetType</span>
<span class="token keyword">implements</span> <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TreeType</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token class-name">TreeType</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">super</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token class-name">TreeType</span> arg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>arg<span class="token punctuation">.</span>i<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Equivalent to:</span>
    <span class="token comment">// return arg.i &lt; i ? -1 : (arg.i == i ? 0 : 1);</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TypesForSets</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">void</span>
  <span class="token function">fill</span><span class="token punctuation">(</span><span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> set<span class="token punctuation">,</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token comment">// Descending</span>
      set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>type<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token comment">// Ascending</span>
      set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>type<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">void</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> set<span class="token punctuation">,</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">fill</span><span class="token punctuation">(</span>set<span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">fill</span><span class="token punctuation">(</span>set<span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Try to add duplicates</span>
    <span class="token function">fill</span><span class="token punctuation">(</span>set<span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">HashType</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LinkedHashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">HashType</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">TreeType</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Things that don&#39;t work:</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">SetType</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">TreeType</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LinkedHashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">SetType</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LinkedHashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">TreeType</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">SetType</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">HashType</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
[10, 9, 8, 7, 6, 5, 0, 1, 2, 3, 4]
[10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
[1, 6, 8, 6, 2, 7, 8, 9, 4, 10, 7, 5, 1, 3, 4, 9, 9,
10, 5, 3, 2, 0, 4, 1, 2, 0, 8, 3, 0, 10, 6, 5, 7]
[3, 1, 4, 8, 7, 6, 9, 5, 3, 0, 10, 5, 5, 10, 7, 8, 8,
9, 1, 4, 10, 2, 6, 9, 1, 6, 0, 3, 2, 0, 7, 2, 4]
[10, 9, 8, 7, 6, 5, 0, 1, 2, 3, 4, 10, 9, 8, 7, 6, 5,
0, 1, 2, 3, 4, 10, 9, 8, 7, 6, 5, 0, 1, 2, 3, 4]
[10, 9, 8, 7, 6, 5, 0, 1, 2, 3, 4, 10, 9, 8, 7, 6, 5,
0, 1, 2, 3, 4, 10, 9, 8, 7, 6, 5, 0, 1, 2, 3, 4]
SetType cannot be cast to java.lang.Comparable
HashType cannot be cast to java.lang.Comparable
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸ºäº†è¯æ˜ç‰¹å®š <strong>Set</strong> éœ€è¦å“ªäº›æ–¹æ³•ï¼ŒåŒæ—¶é¿å…ä»£ç é‡å¤ï¼Œè¿™é‡Œåˆ›å»ºäº†ä¸‰ä¸ªç±»ã€‚åŸºç±» <strong>SetType</strong> å­˜å‚¨ä¸€ä¸ª <strong>int</strong> å€¼ï¼Œå¹¶é€šè¿‡ <code>toString()</code> æ–¹æ³•æ‰“å°å®ƒã€‚ç”±äºå­˜å‚¨åœ¨ <strong>Set</strong> ä¸­çš„æ‰€æœ‰ç±»éƒ½å¿…é¡»å…·æœ‰ <code>equals()</code> ï¼Œå› æ­¤è¯¥æ–¹æ³•ä¹Ÿæ”¾åœ¨åŸºç±»ä¸­ã€‚åŸºäº <code>int i</code> æ¥åˆ¤æ–­å…ƒç´ æ˜¯å¦ç›¸ç­‰ã€‚</p><p><strong>HashType</strong> ç»§æ‰¿è‡ª <strong>SetType</strong> ï¼Œå¹¶æ·»åŠ äº† <code>hashCode()</code> æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å¯¹äº <strong>Set</strong> çš„æ•£åˆ—å®ç°æ˜¯å¿…éœ€çš„ã€‚</p><p>è¦åœ¨ä»»ä½•ç±»å‹çš„æœ‰åºé›†åˆä¸­ä½¿ç”¨å¯¹è±¡ï¼Œç”± <strong>TreeType</strong> å®ç°çš„ <strong>Comparable</strong> æ¥å£éƒ½æ˜¯å¿…éœ€çš„ï¼Œä¾‹å¦‚ <strong>SortedSet</strong> ï¼ˆ <strong>TreeSet</strong> æ˜¯å…¶å”¯ä¸€å®ç°ï¼‰ã€‚åœ¨ <code>compareTo()</code> ä¸­ï¼Œè¯·æ³¨æ„æˆ‘æ²¡æœ‰ä½¿ç”¨â€œç®€å•æ˜äº†â€çš„å½¢å¼ï¼š <code>return i-i2</code> ã€‚è™½ç„¶è¿™æ˜¯ä¸€ä¸ªå¸¸è§çš„ç¼–ç¨‹é”™è¯¯ï¼Œä½†åªæœ‰å½“ <strong>i</strong> å’Œ <strong>i2</strong> æ˜¯â€œæ— ç¬¦å·ï¼ˆunsignedï¼‰â€æ•´å‹æ—¶æ‰èƒ½æ­£å¸¸å·¥ä½œï¼ˆå¦‚æœ Java æœ‰ä¸€ä¸ªâ€œunsignedâ€å…³é”®å­—çš„è¯ï¼Œä¸è¿‡å®ƒæ²¡æœ‰ï¼‰ã€‚å®ƒç ´åäº† Java çš„æœ‰ç¬¦å· <strong>int</strong> ï¼Œå®ƒä¸è¶³ä»¥ä»£è¡¨ä¸¤ä¸ªæœ‰ç¬¦å·æ•´æ•°çš„å·®å¼‚ã€‚å¦‚æœ <strong>i</strong> æ˜¯ä¸€ä¸ªå¤§çš„æ­£æ•´æ•°è€Œ <strong>j</strong> æ˜¯ä¸€ä¸ªå¤§çš„è´Ÿæ•´æ•°ï¼Œ <code>i-j</code> å°†æº¢å‡ºå¹¶è¿”å›ä¸€ä¸ªè´Ÿå€¼ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬æ‰€éœ€è¦çš„ã€‚</p><p>é€šå¸¸å¸Œæœ› <code>compareTo()</code> æ–¹æ³•ç”Ÿæˆä¸ <code>equals()</code> æ–¹æ³•ä¸€è‡´çš„è‡ªç„¶é¡ºåºã€‚å¦‚æœ <code>equals()</code> å¯¹äºç‰¹å®šæ¯”è¾ƒäº§ç”Ÿ <strong>true</strong>ï¼Œåˆ™ <code>compareTo()</code> åº”è¯¥ä¸ºè¯¥æ¯”è¾ƒè¿”å›ç»“æœ é›¶ï¼Œå¹¶ä¸”å¦‚æœ <code>equals()</code> ä¸ºæ¯”è¾ƒäº§ç”Ÿ <strong>false</strong> ï¼Œåˆ™ <code>compareTo()</code> åº”è¯¥ä¸ºè¯¥æ¯”è¾ƒäº§ç”Ÿéé›¶ç»“æœã€‚</p><p>åœ¨ <strong>TypesForSets</strong> ä¸­ï¼Œ <code>fill()</code> å’Œ <code>test()</code> éƒ½æ˜¯ä½¿ç”¨æ³›å‹å®šä¹‰çš„ï¼Œä»¥é˜²æ­¢ä»£ç é‡å¤ã€‚ä¸ºäº†éªŒè¯ <strong>Set</strong> çš„è¡Œä¸ºï¼Œ <code>test()</code> åœ¨æµ‹è¯•é›†ä¸Šè°ƒç”¨ <code>fill()</code> ä¸‰æ¬¡ï¼Œå°è¯•å¼•å…¥é‡å¤çš„å¯¹è±¡ã€‚ <code>fill()</code> æ–¹æ³•çš„å‚æ•°å¯ä»¥æ¥æ”¶ä»»æ„ä¸€ä¸ª <strong>Set</strong> ç±»å‹ï¼Œä»¥åŠç”Ÿæˆè¯¥ç±»å‹çš„ <strong>Function</strong> å¯¹è±¡ã€‚å› ä¸ºæ­¤ç¤ºä¾‹ä¸­ä½¿ç”¨çš„æ‰€æœ‰å¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå¸¦æœ‰å•ä¸ª <strong>int</strong> å‚æ•°çš„æ„é€ æ–¹æ³•ï¼Œæ‰€ä»¥å¯ä»¥å°†æ„é€ æ–¹æ³•ä½œä¸ºæ­¤ <strong>Function</strong> ä¼ é€’ï¼Œå®ƒå°†æä¾›ç”¨äºå¡«å…… <strong>Set</strong> çš„å¯¹è±¡ã€‚</p><p>è¯·æ³¨æ„ï¼Œ <code>fill()</code> æ–¹æ³•æŒ‰é™åºæ·»åŠ å‰äº”ä¸ªå…ƒç´ ï¼ŒæŒ‰å‡åºæ·»åŠ åäº”ä¸ªå…ƒç´ ï¼Œä»¥æ­¤æ¥æŒ‡å‡ºç”Ÿæˆçš„å­˜å‚¨é¡ºåºã€‚è¾“å‡ºæ˜¾ç¤º <strong>HashSet</strong> æŒ‰å‡åºä¿ç•™å…ƒç´ ï¼Œä½†æ˜¯ï¼Œåœ¨<a href="">é™„å½•:ç†è§£equalså’ŒhashCodeæ–¹æ³•</a>ä¸­ï¼Œä½ ä¼šå‘ç°è¿™åªæ˜¯å¶ç„¶çš„ï¼Œå› ä¸ºæ•£åˆ—ä¼šåˆ›å»ºè‡ªå·±çš„å­˜å‚¨é¡ºåºã€‚è¿™é‡Œåªæ˜¯å› ä¸ºå…ƒç´ æ˜¯ä¸€ä¸ªç®€å•çš„ <strong>int</strong> ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹å®ƒæ˜¯å‡åºçš„ã€‚ <strong>LinkedHashSet</strong> æŒ‰ç…§æ’å…¥é¡ºåºä¿å­˜å…ƒç´ ï¼Œ<strong>TreeSet</strong> æŒ‰æ’åºé¡ºåºç»´æŠ¤å…ƒç´ ï¼ˆåœ¨æ­¤ç¤ºä¾‹ä¸­å› ä¸º <code>compareTo()</code> çš„å®ç°æ–¹å¼ï¼Œæ‰€ä»¥å…ƒç´ æŒ‰é™åºæ’åˆ—ã€‚ï¼‰</p><p>ç‰¹å®šçš„ <strong>Set</strong> ç±»å‹ä¸€èˆ¬éƒ½æœ‰æ‰€å¿…éœ€çš„æ“ä½œï¼Œå¦‚æœå°è¯•ä½¿ç”¨æ²¡èƒ½æ­£ç¡®æ”¯æŒè¿™äº›æ“ä½œçš„ç±»å‹ï¼Œé‚£ä¹ˆäº‹æƒ…å°±ä¼šå‡ºé”™ã€‚å°†æ²¡æœ‰é‡æ–°å®šä¹‰ <code>hashCode()</code> æ–¹æ³•çš„ <strong>SetType</strong> æˆ– <strong>TreeType</strong> å¯¹è±¡æ”¾å…¥ä»»ä½•æ•£åˆ—å®ç°ä¼šå¯¼è‡´é‡å¤å€¼ï¼Œå› æ­¤è¿åäº† <strong>Set</strong> çš„ä¸»è¦å¥‘çº¦ã€‚ è¿™æ˜¯ç›¸å½“ä»¤äººä¸å®‰çš„ï¼Œå› ä¸ºè¿™ç”šè‡³ä¸äº§ç”Ÿè¿è¡Œæ—¶é”™è¯¯ã€‚ä½†æ˜¯ï¼Œé»˜è®¤çš„ <code>hashCode()</code> æ˜¯åˆæ³•çš„ï¼Œæ‰€ä»¥å³ä½¿å®ƒæ˜¯ä¸æ­£ç¡®çš„ï¼Œè¿™ä¹Ÿæ˜¯åˆæ³•çš„è¡Œä¸ºã€‚ç¡®ä¿æ­¤ç±»ç¨‹åºæ­£ç¡®æ€§çš„å”¯ä¸€å¯é æ–¹æ³•æ˜¯å°†å•å…ƒæµ‹è¯•åˆå¹¶åˆ°æ„å»ºç³»ç»Ÿä¸­ã€‚</p><p>å¦‚æœå°è¯•åœ¨ <strong>TreeSet</strong> ä¸­ä½¿ç”¨æ²¡æœ‰å®ç° <strong>Comparable</strong> æ¥å£çš„ç±»å‹ï¼Œåˆ™ä¼šå¾—åˆ°æ›´æ˜ç¡®çš„ç»“æœï¼šå½“ <strong>TreeSet</strong> å°è¯•å°†å¯¹è±¡ç”¨ä½œä¸€ä¸ª <strong>Comparable</strong> æ—¶ï¼Œå°†ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p><!-- SortedSet --><h3 id="sortedset" tabindex="-1"><a class="header-anchor" href="#sortedset" aria-hidden="true">#</a> SortedSet</h3><p><strong>SortedSet</strong> ä¸­çš„å…ƒç´ ä¿è¯æŒ‰æ’åºè§„åˆ™é¡ºåºï¼Œ <strong>SortedSet</strong> æ¥å£ä¸­çš„ä»¥ä¸‹æ–¹æ³•å¯ä»¥äº§ç”Ÿå…¶ä»–åŠŸèƒ½ï¼š</p><ul><li><code>Comparator comparator()</code> ï¼šç”Ÿæˆç”¨äºæ­¤ <strong>Set</strong> çš„<strong>Comparator</strong> æˆ– <strong>null</strong> æ¥ç”¨äºè‡ªç„¶æ’åºã€‚</li><li><code>Object first()</code> ï¼šè¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ ã€‚</li><li><code>Object last()</code> ï¼šè¿”å›æœ€åä¸€ä¸ªå…ƒç´ ã€‚</li><li><code>SortedSet subSet(fromElementï¼ŒtoElement)</code> ï¼šä½¿ç”¨ <strong>fromElement</strong> ï¼ˆåŒ…å«ï¼‰å’Œ <strong>toElement</strong> ï¼ˆä¸åŒ…æ‹¬ï¼‰ä¸­çš„å…ƒç´ ç”Ÿæˆæ­¤ <strong>Set</strong> çš„ä¸€ä¸ªè§†å›¾ã€‚</li><li><code>SortedSet headSet(toElement)</code> ï¼šä½¿ç”¨é¡ºåºåœ¨ <strong>toElement</strong> ä¹‹å‰çš„å…ƒç´ ç”Ÿæˆæ­¤ <strong>Set</strong> çš„ä¸€ä¸ªè§†å›¾ã€‚</li><li><code>SortedSet tailSet(fromElement)</code> ï¼šä½¿ç”¨é¡ºåºåœ¨ <strong>fromElement</strong> ä¹‹åï¼ˆåŒ…å« <strong>fromElement</strong> ï¼‰çš„å…ƒç´ ç”Ÿæˆæ­¤ <strong>Set</strong> çš„ä¸€ä¸ªè§†å›¾ã€‚</li></ul><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„æ¼”ç¤ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/SortedSetDemo.java</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token import static"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SortedSetDemo</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">SortedSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> sortedSet <span class="token operator">=</span>
      <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>
        <span class="token string">&quot;one two three four five six seven eight&quot;</span>
        <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token function">toCollection</span><span class="token punctuation">(</span><span class="token class-name">TreeSet</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sortedSet<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> low <span class="token operator">=</span> sortedSet<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> high <span class="token operator">=</span> sortedSet<span class="token punctuation">.</span><span class="token function">last</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>low<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>high<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> it <span class="token operator">=</span> sortedSet<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">6</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> low <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">6</span><span class="token punctuation">)</span> high <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">else</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>low<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>high<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sortedSet<span class="token punctuation">.</span><span class="token function">subSet</span><span class="token punctuation">(</span>low<span class="token punctuation">,</span> high<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sortedSet<span class="token punctuation">.</span><span class="token function">headSet</span><span class="token punctuation">(</span>high<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sortedSet<span class="token punctuation">.</span><span class="token function">tailSet</span><span class="token punctuation">(</span>low<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
[eight, five, four, one, seven, six, three, two]
eight
two
one
two
[one, seven, six, three]
[eight, five, four, one, seven, six, three]
[one, seven, six, three, two]
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ï¼Œ <strong>SortedSet</strong> è¡¨ç¤ºâ€œæ ¹æ®å¯¹è±¡çš„æ¯”è¾ƒå‡½æ•°è¿›è¡Œæ’åºâ€ï¼Œè€Œä¸æ˜¯â€œæ ¹æ®æ’å…¥é¡ºåºâ€ã€‚å¯ä»¥ä½¿ç”¨ <strong>LinkedHashSet</strong> ä¿ç•™å…ƒç´ çš„æ’å…¥é¡ºåºã€‚</p><!-- Queues --><h2 id="é˜Ÿåˆ—" tabindex="-1"><a class="header-anchor" href="#é˜Ÿåˆ—" aria-hidden="true">#</a> é˜Ÿåˆ—</h2><p>æœ‰è®¸å¤š <strong>Queue</strong> å®ç°ï¼Œå…¶ä¸­å¤§å¤šæ•°æ˜¯ä¸ºå¹¶å‘åº”ç”¨ç¨‹åºè®¾è®¡çš„ã€‚è®¸å¤šå®ç°éƒ½æ˜¯é€šè¿‡æ’åºè¡Œä¸ºè€Œä¸æ˜¯æ€§èƒ½æ¥åŒºåˆ†çš„ã€‚è¿™æ˜¯ä¸€ä¸ªæ¶‰åŠå¤§å¤šæ•° <strong>Queue</strong> å®ç°çš„åŸºæœ¬ç¤ºä¾‹ï¼ŒåŒ…æ‹¬åŸºäºå¹¶å‘çš„é˜Ÿåˆ—ã€‚é˜Ÿåˆ—å°†å…ƒç´ ä»ä¸€ç«¯æ”¾å…¥å¹¶ä»å¦ä¸€ç«¯å–å‡ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/QueueBehavior.java</span>
<span class="token comment">// Compares basic behavior</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QueueBehavior</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">strings</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token string">&quot;one two three four five six seven &quot;</span> <span class="token operator">+</span>
       <span class="token string">&quot;eight nine ten&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">,</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> queue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>id <span class="token operator">+</span> <span class="token string">&quot;: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">strings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>queue<span class="token operator">::</span><span class="token function">offer</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>queue<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>queue<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">PriorityQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ArrayBlockingQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ConcurrentLinkedQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">LinkedBlockingQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">PriorityBlockingQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ConcurrentLinkedDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">LinkedBlockingDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">LinkedTransferQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">SynchronousQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
1: one two three four five six seven eight nine ten
2: eight five four nine one seven six ten three two
3: one two three four five six seven eight nine ten
4: one two three four five six seven eight nine ten
5: one two three four five six seven eight nine ten
6: eight five four nine one seven six ten three two
7: one two three four five six seven eight nine ten
8: one two three four five six seven eight nine ten
9: one two three four five six seven eight nine ten
10: one two three four five six seven eight nine ten
11:
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Deque</strong> æ¥å£ä¹Ÿç»§æ‰¿è‡ª <strong>Queue</strong> ã€‚ é™¤ä¼˜å…ˆçº§é˜Ÿåˆ—å¤–ï¼Œ<strong>Queue</strong> æŒ‰ç…§å…ƒç´ çš„æ’å…¥é¡ºåºç”Ÿæˆå…ƒç´ ã€‚ åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œ<strong>SynchronousQueue</strong> ä¸ä¼šäº§ç”Ÿä»»ä½•ç»“æœï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªé˜»å¡é˜Ÿåˆ—ï¼Œå…¶ä¸­æ¯ä¸ªæ’å…¥æ“ä½œå¿…é¡»ç­‰å¾…å¦ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œç›¸åº”çš„åˆ é™¤æ“ä½œï¼Œåä¹‹äº¦ç„¶ã€‚</p><!-- Priority Queues --><h3 id="ä¼˜å…ˆçº§é˜Ÿåˆ—" tabindex="-1"><a class="header-anchor" href="#ä¼˜å…ˆçº§é˜Ÿåˆ—" aria-hidden="true">#</a> ä¼˜å…ˆçº§é˜Ÿåˆ—</h3><p>è€ƒè™‘ä¸€ä¸ªå¾…åŠäº‹é¡¹åˆ—è¡¨ï¼Œå…¶ä¸­æ¯ä¸ªå¯¹è±¡åŒ…å«ä¸€ä¸ª <strong>String</strong> ä»¥åŠä¸»è¦å’Œæ¬¡è¦ä¼˜å…ˆçº§å€¼ã€‚é€šè¿‡å®ç° <strong>Comparable</strong> æ¥å£æ¥æ§åˆ¶æ­¤å¾…åŠäº‹é¡¹åˆ—è¡¨çš„é¡ºåºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/ToDoList.java</span>
<span class="token comment">// A more complex use of PriorityQueue</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">ToDoItem</span> <span class="token keyword">implements</span> <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ToDoItem</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">char</span> primary<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> secondary<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> item<span class="token punctuation">;</span>
  <span class="token class-name">ToDoItem</span><span class="token punctuation">(</span><span class="token class-name">String</span> td<span class="token punctuation">,</span> <span class="token keyword">char</span> pri<span class="token punctuation">,</span> <span class="token keyword">int</span> sec<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    primary <span class="token operator">=</span> pri<span class="token punctuation">;</span>
    secondary <span class="token operator">=</span> sec<span class="token punctuation">;</span>
    item <span class="token operator">=</span> td<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token class-name">ToDoItem</span> arg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>primary <span class="token operator">&gt;</span> arg<span class="token punctuation">.</span>primary<span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>primary <span class="token operator">==</span> arg<span class="token punctuation">.</span>primary<span class="token punctuation">)</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>secondary <span class="token operator">&gt;</span> arg<span class="token punctuation">.</span>secondary<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>secondary <span class="token operator">==</span> arg<span class="token punctuation">.</span>secondary<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>primary<span class="token punctuation">)</span> <span class="token operator">+</span>
      secondary <span class="token operator">+</span> <span class="token string">&quot;: &quot;</span> <span class="token operator">+</span> item<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">ToDoList</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">PriorityQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ToDoItem</span><span class="token punctuation">&gt;</span></span> toDo <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">PriorityQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    toDo<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ToDoItem</span><span class="token punctuation">(</span><span class="token string">&quot;Empty trash&quot;</span><span class="token punctuation">,</span> <span class="token char">&#39;C&#39;</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    toDo<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ToDoItem</span><span class="token punctuation">(</span><span class="token string">&quot;Feed dog&quot;</span><span class="token punctuation">,</span> <span class="token char">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    toDo<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ToDoItem</span><span class="token punctuation">(</span><span class="token string">&quot;Feed bird&quot;</span><span class="token punctuation">,</span> <span class="token char">&#39;B&#39;</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    toDo<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ToDoItem</span><span class="token punctuation">(</span><span class="token string">&quot;Mow lawn&quot;</span><span class="token punctuation">,</span> <span class="token char">&#39;C&#39;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    toDo<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ToDoItem</span><span class="token punctuation">(</span><span class="token string">&quot;Water lawn&quot;</span><span class="token punctuation">,</span> <span class="token char">&#39;A&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    toDo<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ToDoItem</span><span class="token punctuation">(</span><span class="token string">&quot;Feed cat&quot;</span><span class="token punctuation">,</span> <span class="token char">&#39;B&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>toDo<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>toDo<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
A1: Water lawn
A2: Feed dog
B1: Feed cat
B7: Feed bird
C3: Mow lawn
C4: Empty trash
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™å±•ç¤ºäº†é€šè¿‡ä¼˜å…ˆçº§é˜Ÿåˆ—è‡ªåŠ¨æ’åºå¾…åŠäº‹é¡¹ã€‚</p><!-- Deque --><h3 id="åŒç«¯é˜Ÿåˆ—" tabindex="-1"><a class="header-anchor" href="#åŒç«¯é˜Ÿåˆ—" aria-hidden="true">#</a> åŒç«¯é˜Ÿåˆ—</h3><p><strong>Deque</strong> ï¼ˆåŒç«¯é˜Ÿåˆ—ï¼‰å°±åƒä¸€ä¸ªé˜Ÿåˆ—ï¼Œä½†æ˜¯å¯ä»¥ä»ä»»ä¸€ç«¯æ·»åŠ å’Œåˆ é™¤å…ƒç´ ã€‚ Java 6ä¸º <strong>Deque</strong> æ·»åŠ äº†ä¸€ä¸ªæ˜¾å¼æ¥å£ã€‚ä»¥ä¸‹æ˜¯å¯¹å®ç°äº† <strong>Deque</strong> çš„ç±»çš„æœ€åŸºæœ¬çš„ <strong>Deque</strong> æ–¹æ³•çš„æµ‹è¯•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/SimpleDeques.java</span>
<span class="token comment">// Very basic test of Deques</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">CountString</span> <span class="token keyword">implements</span> <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token class-name">CountString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token class-name">CountString</span><span class="token punctuation">(</span><span class="token keyword">int</span> start<span class="token punctuation">)</span> <span class="token punctuation">{</span> n <span class="token operator">=</span> start<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>n<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SimpleDeques</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> deque<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">CountString</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CountString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                s2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CountString</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> n <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">;</span> n<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        deque<span class="token punctuation">.</span><span class="token function">offerFirst</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        deque<span class="token punctuation">.</span><span class="token function">offerLast</span><span class="token punctuation">(</span>s2<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Same as offer()</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>deque<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> result <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>deque<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>deque<span class="token punctuation">.</span><span class="token function">peekFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      result <span class="token operator">+=</span> deque<span class="token punctuation">.</span><span class="token function">pollFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>deque<span class="token punctuation">.</span><span class="token function">peekLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      result <span class="token operator">+=</span> deque<span class="token punctuation">.</span><span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;LinkedList&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ArrayDeque&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;LinkedBlockingDeque&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LinkedBlockingDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ConcurrentLinkedDeque&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ConcurrentLinkedDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
LinkedList
[7, 6, 5, 4, 3, 2, 1, 0, 20, 21, 22, 23, 24, 25, 26,
27]
7 27 6 26 5 25 4 24 3 23 2 22 1 21 0 20
7 27 6 26 5 25 4 24 3 23 2 22 1 21 0 20
ArrayDeque
[7, 6, 5, 4, 3, 2, 1, 0, 20, 21, 22, 23, 24, 25, 26,
27]
7 27 6 26 5 25 4 24 3 23 2 22 1 21 0 20
7 27 6 26 5 25 4 24 3 23 2 22 1 21 0 20
LinkedBlockingDeque
[4, 3, 2, 1, 0, 20, 21, 22, 23, 24]
4 24 3 23 2 22 1 21 0 20
4 24 3 23 2 22 1 21 0 20
ConcurrentLinkedDeque
[7, 6, 5, 4, 3, 2, 1, 0, 20, 21, 22, 23, 24, 25, 26,
27]
7 27 6 26 5 25 4 24 3 23 2 22 1 21 0 20
7 27 6 26 5 25 4 24 3 23 2 22 1 21 0 20
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘åªä½¿ç”¨äº† <strong>Deque</strong> æ–¹æ³•çš„â€œofferâ€å’Œâ€œpollâ€ç‰ˆæœ¬ï¼Œå› ä¸ºå½“ <strong>LinkedBlockingDeque</strong> çš„å¤§å°æœ‰é™æ—¶ï¼Œè¿™äº›æ–¹æ³•ä¸ä¼šæŠ›å‡ºå¼‚å¸¸ã€‚è¯·æ³¨æ„ï¼Œ <strong>LinkedBlockingDeque</strong> ä»…å¡«å……åˆ°å®ƒçš„é™åˆ¶å¤§å°ä¸ºæ­¢ï¼Œç„¶åå¿½ç•¥é¢å¤–çš„æ·»åŠ ã€‚</p><!-- Understanding Maps --><h2 id="ç†è§£map" tabindex="-1"><a class="header-anchor" href="#ç†è§£map" aria-hidden="true">#</a> ç†è§£Map</h2><p>æ­£å¦‚åœ¨<a href="">ç¬¬åäºŒç«  é›†åˆ</a>ç« èŠ‚ä¸­æ‰€äº†è§£åˆ°çš„ï¼Œ<strong>Map</strong>ï¼ˆä¹Ÿç§°ä¸º <em>å…³è”æ•°ç»„</em> ï¼‰ç»´æŠ¤é”®å€¼å…³è”ï¼ˆå¯¹ï¼‰ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨é”®æ¥æŸ¥æ‰¾å€¼ã€‚æ ‡å‡† Java åº“åŒ…å«ä¸åŒçš„ <strong>Map</strong> åŸºæœ¬å®ç°ï¼Œä¾‹å¦‚ <strong>HashMap</strong> ï¼Œ <strong>TreeMap</strong> ï¼Œ <strong>LinkedHashMap</strong> ï¼Œ <strong>WeakHashMap</strong> ï¼Œ <strong>ConcurrentHashMap</strong> å’Œ <strong>IdentityHashMap</strong> ã€‚ å®ƒä»¬éƒ½å…·æœ‰ç›¸åŒçš„åŸºæœ¬ <strong>Map</strong> æ¥å£ï¼Œä½†å®ƒä»¬çš„è¡Œä¸ºä¸åŒï¼ŒåŒ…æ‹¬æ•ˆç‡ï¼Œé”®å€¼å¯¹çš„ä¿å­˜é¡ºåºå’Œå‘ˆç°é¡ºåºï¼Œä¿å­˜å¯¹è±¡çš„æ—¶é—´ï¼Œå¦‚ä½•åœ¨å¤šçº¿ç¨‹ç¨‹åºä¸­å·¥ä½œï¼Œä»¥åŠå¦‚ä½•ç¡®å®šé”®çš„ç›¸ç­‰æ€§ã€‚ <strong>Map</strong> æ¥å£çš„å®ç°æ•°é‡åº”è¯¥å‘Šè¯‰ä½ ä¸€äº›å…³äºæ­¤å·¥å…·é‡è¦æ€§çš„ä¿¡æ¯ã€‚</p><p>ä¸ºäº†æ›´æ·±å…¥åœ°äº†è§£ <strong>Map</strong> ï¼Œå­¦ä¹ å¦‚ä½•æ„é€ å…³è”æ•°ç»„ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„å®ç°ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/AssociativeArray.java</span>
<span class="token comment">// Associates keys with values</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AssociativeArray</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> pairs<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> index<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token class-name">AssociativeArray</span><span class="token punctuation">(</span><span class="token keyword">int</span> length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    pairs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">K</span> key<span class="token punctuation">,</span> <span class="token class-name">V</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>index <span class="token operator">&gt;=</span> pairs<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ArrayIndexOutOfBoundsException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pairs<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span> key<span class="token punctuation">,</span> value <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token string">&quot;unchecked&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">public</span> <span class="token class-name">V</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">K</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> index<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>key<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>pairs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">V</span><span class="token punctuation">)</span>pairs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// Did not find key</span>
  <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">StringBuilder</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> index<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>pairs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot; : &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>pairs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
        result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">AssociativeArray</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">AssociativeArray</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;sky&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;grass&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;ocean&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;dancing&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;tree&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;tall&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;earth&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;brown&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;sun&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;warm&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;extra&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Past the end</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">ArrayIndexOutOfBoundsException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Too many objects!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;ocean&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
Too many objects!
sky : blue
grass : green
ocean : dancing
tree : tall
earth : brown
sun : warm
dancing
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…³è”æ•°ç»„ä¸­çš„åŸºæœ¬æ–¹æ³•æ˜¯ <code>put()</code> å’Œ <code>get()</code> ï¼Œä½†ä¸ºäº†ä¾¿äºæ˜¾ç¤ºï¼Œé‡å†™äº† <code>toString()</code> æ–¹æ³•ä»¥æ‰“å°é”®å€¼å¯¹ã€‚ä¸ºäº†æ˜¾ç¤ºå®ƒçš„å·¥ä½œåŸç†ï¼Œä¸»æ–¹æ³•åŠ è½½ä¸€ä¸ªå¸¦æœ‰å­—ç¬¦ä¸²å¯¹çš„ <strong>AssociativeArray</strong> å¹¶æ‰“å°ç”Ÿæˆçš„æ˜ å°„ï¼Œç„¶åè°ƒç”¨å…¶ä¸­ä¸€ä¸ªå€¼çš„ <code>get()</code> æ–¹æ³•ã€‚</p><p>è¦ä½¿ç”¨ <code>get()</code> æ–¹æ³•ï¼Œå¯ä»¥ä¼ å…¥è¦æŸ¥æ‰¾çš„ <strong>key</strong> ï¼Œå®ƒå°†ç”Ÿæˆç›¸å…³è”çš„å€¼ä½œä¸ºç»“æœï¼Œå¦‚æœæ‰¾ä¸åˆ°åˆ™è¿”å› <strong>null</strong> ã€‚ <code>get()</code> æ–¹æ³•ä½¿ç”¨å¯èƒ½æ˜¯æ•ˆç‡æœ€ä½çš„æ–¹æ³•æ¥å®šä½å€¼ï¼šä»æ•°ç»„çš„å¤´éƒ¨å¼€å§‹å¹¶ä½¿ç”¨ <code>equals()</code> æ¥æ¯”è¾ƒé”®ã€‚ä½†è¿™é‡Œæ˜¯ä¾§é‡äºç®€å•ï¼Œè€Œä¸æ˜¯æ•ˆç‡ã€‚</p><p>è¿™ä¸ªç‰ˆæœ¬å¾ˆæœ‰å¯å‘æ€§ï¼Œä½†å®ƒä¸æ˜¯å¾ˆæœ‰æ•ˆï¼Œè€Œä¸”å®ƒåªæœ‰ä¸€ä¸ªå›ºå®šçš„å¤§å°ï¼Œè¿™æ˜¯ä¸çµæ´»çš„ã€‚å¹¸è¿çš„æ˜¯ï¼Œ <strong>java.util</strong> ä¸­çš„é‚£äº› <strong>Map</strong> æ²¡æœ‰è¿™äº›é—®é¢˜ã€‚</p><!-- Performance --><h3 id="æ€§èƒ½" tabindex="-1"><a class="header-anchor" href="#æ€§èƒ½" aria-hidden="true">#</a> æ€§èƒ½</h3><p>æ€§èƒ½æ˜¯ <strong>Map</strong> çš„åŸºæœ¬é—®é¢˜ï¼Œåœ¨ <code>get()</code> ä¸­ä½¿ç”¨çº¿æ€§æ–¹æ³•æœç´¢ä¸€ä¸ªé”®æ—¶ä¼šéå¸¸æ…¢ã€‚è¿™å°±æ˜¯ <strong>HashMap</strong> è¦åŠ é€Ÿçš„åœ°æ–¹ã€‚å®ƒä½¿ç”¨ä¸€ä¸ªç§°ä¸º <em>å“ˆå¸Œç </em> çš„ç‰¹æ®Šå€¼æ¥æ›¿ä»£æ…¢é€Ÿæœç´¢ä¸€ä¸ªé”®ã€‚å“ˆå¸Œç æ˜¯ä¸€ç§ä»ç›¸å…³å¯¹è±¡ä¸­è·å–ä¸€äº›ä¿¡æ¯å¹¶å°†å…¶è½¬æ¢ä¸ºè¯¥å¯¹è±¡çš„â€œç›¸å¯¹å”¯ä¸€â€ <strong>int</strong> çš„æ–¹æ³•ã€‚ <code>hashCode()</code> æ˜¯æ ¹ç±» <strong>Object</strong> ä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œå› æ­¤æ‰€æœ‰ Java å¯¹è±¡éƒ½å¯ä»¥ç”Ÿæˆå“ˆå¸Œç ã€‚ <strong>HashMap</strong> è·å–å¯¹è±¡çš„ <code>hashCode()</code> å¹¶ä½¿ç”¨å®ƒæ¥å¿«é€Ÿæœç´¢é”®ã€‚è¿™å°±ä½¿å¾—æ€§èƒ½æœ‰äº†æ˜¾è‘—çš„æå‡ã€‚[^3]</p><p>ä»¥ä¸‹æ˜¯åŸºæœ¬çš„ <strong>Map</strong> å®ç°ã€‚ <strong>HashMap</strong>ä¸Šçš„æ˜Ÿå·è¡¨ç¤ºï¼Œåœ¨æ²¡æœ‰å…¶ä»–çº¦æŸçš„æƒ…å†µä¸‹ï¼Œè¿™åº”è¯¥æ˜¯ä½ çš„é»˜è®¤é€‰æ‹©ï¼Œå› ä¸ºå®ƒé’ˆå¯¹é€Ÿåº¦è¿›è¡Œäº†ä¼˜åŒ–ã€‚å…¶ä»–å®ç°å¼ºè°ƒå…¶ä»–ç‰¹æ€§ï¼Œå› æ­¤ä¸å¦‚ <strong>HashMap</strong> å¿«ã€‚</p><table><thead><tr><th style="text-align:center;"><strong>Map</strong> å®ç°</th><th style="text-align:left;">æè¿°</th></tr></thead><tbody><tr><td style="text-align:center;"><strong>HashMap*</strong></td><td style="text-align:left;">åŸºäºå“ˆå¸Œè¡¨çš„å®ç°ã€‚ï¼ˆä½¿ç”¨æ­¤ç±»æ¥ä»£æ›¿ <strong>Hashtable</strong> ã€‚ï¼‰ä¸ºæ’å…¥å’Œå®šä½é”®å€¼å¯¹æä¾›äº†å¸¸æ•°æ—¶é—´æ€§èƒ½ã€‚å¯ä»¥é€šè¿‡æ„é€ æ–¹æ³•è°ƒæ•´æ€§èƒ½ï¼Œè¿™äº›æ„é€ æ–¹æ³•å…è®¸ä½ è®¾ç½®å“ˆå¸Œè¡¨çš„å®¹é‡å’Œè£…å¡«å› å­ã€‚</td></tr><tr><td style="text-align:center;"><strong>LinkedHashMap</strong></td><td style="text-align:left;">ä¸ <strong>HashMap</strong> ç±»ä¼¼ï¼Œä½†æ˜¯å½“éå†æ—¶ï¼Œå¯ä»¥æŒ‰æ’å…¥é¡ºåºæˆ–æœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼ˆLRUï¼‰é¡ºåºè·å–é”®å€¼å¯¹ã€‚åªæ¯” <strong>HashMap</strong> ç•¥æ…¢ï¼Œä¸€ä¸ªä¾‹å¤–æ˜¯åœ¨è¿­ä»£æ—¶ï¼Œç”±äºå…¶ä½¿ç”¨é“¾è¡¨ç»´æŠ¤å†…éƒ¨é¡ºåºï¼Œæ‰€ä»¥ä¼šæ›´å¿«äº›ã€‚</td></tr><tr><td style="text-align:center;"><strong>TreeMap</strong></td><td style="text-align:left;">åŸºäºçº¢é»‘æ ‘çš„å®ç°ã€‚å½“æŸ¥çœ‹é”®æˆ–é”®å€¼å¯¹æ—¶ï¼Œå®ƒä»¬æŒ‰æ’åºé¡ºåºï¼ˆç”± <strong>Comparable</strong> æˆ– <strong>Comparator</strong> ç¡®å®šï¼‰ã€‚ <strong>TreeMap</strong> çš„ä¾§é‡ç‚¹æ˜¯æŒ‰æ’åºé¡ºåºè·å¾—ç»“æœã€‚ <strong>TreeMap</strong> æ˜¯å”¯ä¸€ä½¿ç”¨ <code>subMap()</code> æ–¹æ³•çš„ <strong>Map</strong> ï¼Œå®ƒè¿”å›çº¢é»‘æ ‘çš„ä¸€éƒ¨åˆ†ã€‚</td></tr><tr><td style="text-align:center;"><strong>WeakHashMap</strong></td><td style="text-align:left;">ä¸€ç§å…·æœ‰ <em>å¼±é”®</em>ï¼ˆweak keysï¼‰ çš„ <strong>Map</strong> ï¼Œä¸ºäº†è§£å†³æŸäº›ç±»å‹çš„é—®é¢˜ï¼Œå®ƒå…è®¸é‡Šæ”¾ <strong>Map</strong> æ‰€å¼•ç”¨çš„å¯¹è±¡ã€‚å¦‚æœåœ¨ <strong>Map</strong> å¤–æ²¡æœ‰å¯¹ç‰¹å®šé”®çš„å¼•ç”¨ï¼Œåˆ™å¯ä»¥å¯¹è¯¥é”®è¿›è¡Œåƒåœ¾å›æ”¶ã€‚</td></tr><tr><td style="text-align:center;"><strong>ConcurrentHashMap</strong></td><td style="text-align:left;">ä¸ä½¿ç”¨åŒæ­¥é”å®šçš„çº¿ç¨‹å®‰å…¨ <strong>Map</strong> ã€‚è¿™åœ¨<a href="">ç¬¬äºŒåå››ç«  å¹¶å‘ç¼–ç¨‹</a> ä¸€ç« ä¸­è®¨è®ºã€‚</td></tr><tr><td style="text-align:center;"><strong>IdentityHashMap</strong></td><td style="text-align:left;">ä½¿ç”¨ <code>==</code> è€Œä¸æ˜¯ <code>equals()</code> æ¥æ¯”è¾ƒé”®ã€‚ä»…ç”¨äºè§£å†³ç‰¹æ®Šé—®é¢˜ï¼Œä¸é€‚ç”¨äºä¸€èˆ¬ç”¨é€”ã€‚</td></tr></tbody></table><p>æ•£åˆ—æ˜¯åœ¨ <strong>Map</strong> ä¸­å­˜å‚¨å…ƒç´ çš„æœ€å¸¸ç”¨æ–¹æ³•ã€‚</p><p><strong>Map</strong> ä¸­ä½¿ç”¨çš„é”®çš„è¦æ±‚ä¸ <strong>Set</strong> ä¸­çš„å…ƒç´ çš„è¦æ±‚ç›¸åŒã€‚å¯ä»¥åœ¨ <strong>TypesForSets.java</strong> ä¸­çœ‹åˆ°è¿™äº›ã€‚ä»»ä½•é”®å¿…é¡»å…·æœ‰ <code>equals()</code> æ–¹æ³•ã€‚å¦‚æœé”®ç”¨äºæ•£åˆ—æ˜ å°„ï¼Œåˆ™å®ƒè¿˜å¿…é¡»å…·æœ‰æ­£ç¡®çš„ <code>hashCode()</code> æ–¹æ³•ã€‚å¦‚æœé”®åœ¨ <strong>TreeMap</strong> ä¸­ä½¿ç”¨ï¼Œåˆ™å¿…é¡»å®ç° <strong>Comparable</strong> æ¥å£ã€‚</p><p>ä»¥ä¸‹ç¤ºä¾‹ä½¿ç”¨å…ˆå‰å®šä¹‰çš„ <strong>CountMap</strong> æµ‹è¯•æ•°æ®é›†æ˜¾ç¤ºé€šè¿‡ <strong>Map</strong> æ¥å£å¯ç”¨çš„æ“ä½œï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/MapOps.java</span>
<span class="token comment">// Things you can do with Maps</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MapOps</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span>
  <span class="token keyword">void</span> <span class="token function">printKeys</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;Size = &quot;</span> <span class="token operator">+</span> map<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;Keys: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Produce a Set of the keys:</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span>
  <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      map<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">putAll</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CountMap</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Map has &#39;Set&#39; behavior for keys:</span>
    map<span class="token punctuation">.</span><span class="token function">putAll</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CountMap</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printKeys</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Producing a Collection of the values:</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;Values: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;map.containsKey(11): &quot;</span> <span class="token operator">+</span>
      map<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;map.get(11): &quot;</span> <span class="token operator">+</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;map.containsValue(\&quot;F0\&quot;): &quot;</span>
      <span class="token operator">+</span> map<span class="token punctuation">.</span><span class="token function">containsValue</span><span class="token punctuation">(</span><span class="token string">&quot;F0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Integer</span> key <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;First key in map: &quot;</span> <span class="token operator">+</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printKeys</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;map.isEmpty(): &quot;</span> <span class="token operator">+</span> map<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">putAll</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CountMap</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Operations on the Set change the Map:</span>
    map<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;map.isEmpty(): &quot;</span> <span class="token operator">+</span> map<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TreeMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LinkedHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">IdentityHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ConcurrentHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">WeakHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output: (First 11 Lines)
HashMap
Size = 25, Keys: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11,
12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24]
Values: [A0, B0, C0, D0, E0, F0, G0, H0, I0, J0, K0,
L0, M0, N0, O0, P0, Q0, R0, S0, T0, U0, V0, W0, X0, Y0]
{0=A0, 1=B0, 2=C0, 3=D0, 4=E0, 5=F0, 6=G0, 7=H0, 8=I0,
9=J0, 10=K0, 11=L0, 12=M0, 13=N0, 14=O0, 15=P0, 16=Q0,
17=R0, 18=S0, 19=T0, 20=U0, 21=V0, 22=W0, 23=X0, 24=Y0}
map.containsKey(11): true
map.get(11): L0
map.containsValue(&quot;F0&quot;): true
First key in map: 0
Size = 24, Keys: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11,
12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24]
map.isEmpty(): true
map.isEmpty(): true
                  ...
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>printKeys()</code> æ–¹æ³•æ¼”ç¤ºäº†å¦‚ä½•ç”Ÿæˆ <strong>Map</strong> çš„ <strong>Collection</strong> è§†å›¾ã€‚ <code>keySet()</code> æ–¹æ³•ç”Ÿæˆä¸€ä¸ªç”± <strong>Map</strong> ä¸­çš„é”®ç»„æˆçš„ <strong>Set</strong> ã€‚ æ‰“å° <code>values()</code> æ–¹æ³•çš„ç»“æœä¼šç”Ÿæˆä¸€ä¸ªåŒ…å« <strong>Map</strong> ä¸­æ‰€æœ‰å€¼çš„ <strong>Collection</strong> ã€‚ï¼ˆè¯·æ³¨æ„ï¼Œé”®å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œä½†å€¼å¯ä»¥åŒ…å«é‡å¤é¡¹ã€‚ï¼‰ç”±äºè¿™äº› <strong>Collection</strong> ç”± <strong>Map</strong> æ”¯æŒï¼Œå› æ­¤ <strong>Collection</strong> ä¸­çš„ä»»ä½•æ›´æ”¹éƒ½ä¼šåæ˜ åœ¨æ‰€å…³è”çš„ <strong>Map</strong> ä¸­ã€‚</p><p>ç¨‹åºçš„å…¶ä½™éƒ¨åˆ†æä¾›äº†æ¯ä¸ª <strong>Map</strong> æ“ä½œçš„ç®€å•ç¤ºä¾‹ï¼Œå¹¶æµ‹è¯•äº†æ¯ç§åŸºæœ¬ç±»å‹çš„ <strong>Map</strong> ã€‚</p><!-- SortedMap --><h3 id="sortedmap" tabindex="-1"><a class="header-anchor" href="#sortedmap" aria-hidden="true">#</a> SortedMap</h3><p>ä½¿ç”¨ <strong>SortedMap</strong> ï¼ˆç”± <strong>TreeMap</strong> æˆ– <strong>ConcurrentSkipListMap</strong> å®ç°ï¼‰ï¼Œé”®ä¿è¯æŒ‰æ’åºé¡ºåºï¼Œè¿™å…è®¸åœ¨ <strong>SortedMap</strong> æ¥å£ä¸­ä½¿ç”¨è¿™äº›æ–¹æ³•æ¥æä¾›å…¶ä»–åŠŸèƒ½ï¼š</p><ul><li><code>Comparator comparator()</code> ï¼šç”Ÿæˆç”¨äºæ­¤ <strong>Map</strong> çš„æ¯”è¾ƒå™¨ï¼Œ <strong>null</strong> è¡¨ç¤ºè‡ªç„¶æ’åºã€‚</li><li><code>T firstKey()</code> ï¼šè¿”å›ç¬¬ä¸€ä¸ªé”®ã€‚</li><li><code>T lastKey()</code> ï¼šè¿”å›æœ€åä¸€ä¸ªé”®ã€‚</li><li><code>SortedMap subMap(fromKeyï¼ŒtoKey)</code> ï¼šç”Ÿæˆæ­¤ <strong>Map</strong> çš„è§†å›¾ï¼Œå…¶ä¸­é”®ä» <strong>fromKey</strong>ï¼ˆåŒ…æ‹¬ï¼‰ï¼Œåˆ° <strong>toKey</strong> ï¼ˆä¸åŒ…æ‹¬ï¼‰ã€‚</li><li><code>SortedMap headMap(toKey)</code> ï¼šä½¿ç”¨å°äº <strong>toKey</strong> çš„é”®ç”Ÿæˆæ­¤ <strong>Map</strong> çš„è§†å›¾ã€‚</li><li><code>SortedMap tailMap(fromKey)</code> ï¼šä½¿ç”¨å¤§äºæˆ–ç­‰äº <strong>fromKey</strong> çš„é”®ç”Ÿæˆæ­¤ <strong>Map</strong> çš„è§†å›¾ã€‚</li></ul><p>è¿™æ˜¯ä¸€ä¸ªç±»ä¼¼äº <strong>SortedSetDemo.java</strong> çš„ç¤ºä¾‹ï¼Œæ˜¾ç¤ºäº† <strong>TreeMap</strong> çš„è¿™ç§é¢å¤–è¡Œä¸ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/SortedMapDemo.java</span>
<span class="token comment">// What you can do with a TreeMap</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SortedMapDemo</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">TreeMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> sortedMap <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">TreeMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CountMap</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sortedMap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Integer</span> low <span class="token operator">=</span> sortedMap<span class="token punctuation">.</span><span class="token function">firstKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Integer</span> high <span class="token operator">=</span> sortedMap<span class="token punctuation">.</span><span class="token function">lastKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>low<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>high<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> it <span class="token operator">=</span>
      sortedMap<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">6</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> low <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">6</span><span class="token punctuation">)</span> high <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">else</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>low<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>high<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sortedMap<span class="token punctuation">.</span><span class="token function">subMap</span><span class="token punctuation">(</span>low<span class="token punctuation">,</span> high<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sortedMap<span class="token punctuation">.</span><span class="token function">headMap</span><span class="token punctuation">(</span>high<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sortedMap<span class="token punctuation">.</span><span class="token function">tailMap</span><span class="token punctuation">(</span>low<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
{0=A0, 1=B0, 2=C0, 3=D0, 4=E0, 5=F0, 6=G0, 7=H0, 8=I0,
9=J0}
0
9
3
7
{3=D0, 4=E0, 5=F0, 6=G0}
{0=A0, 1=B0, 2=C0, 3=D0, 4=E0, 5=F0, 6=G0}
{3=D0, 4=E0, 5=F0, 6=G0, 7=H0, 8=I0, 9=J0}
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œï¼Œé”®å€¼å¯¹æŒ‰ç…§é”®çš„æ’åºé¡ºåºè¿›è¡Œæ’åºã€‚å› ä¸º <strong>TreeMap</strong> ä¸­å­˜åœ¨é¡ºåºæ„Ÿï¼Œæ‰€ä»¥â€œä½ç½®â€çš„æ¦‚å¿µå¾ˆæœ‰æ„ä¹‰ï¼Œå› æ­¤å¯ä»¥æ‹¥æœ‰ç¬¬ä¸€ä¸ªã€æœ€åä¸€ä¸ªå…ƒç´ æˆ–å­å›¾ã€‚</p><!-- LinkedHashMap --><h3 id="linkedhashmap" tabindex="-1"><a class="header-anchor" href="#linkedhashmap" aria-hidden="true">#</a> LinkedHashMap</h3><p><strong>LinkedHashMap</strong> é’ˆå¯¹é€Ÿåº¦è¿›è¡Œå“ˆå¸Œå¤„ç†ï¼Œä½†åœ¨éå†æœŸé—´ä¹Ÿä¼šæŒ‰æ’å…¥é¡ºåºç”Ÿæˆé”®å€¼å¯¹ï¼ˆ <code>System.out.println()</code> å¯ä»¥éå†å®ƒï¼Œå› æ­¤å¯ä»¥çœ‹åˆ°éå†çš„ç»“æœï¼‰ã€‚ æ­¤å¤–ï¼Œå¯ä»¥åœ¨æ„é€ æ–¹æ³•ä¸­é…ç½® <strong>LinkedHashMap</strong> ä»¥ä½¿ç”¨åŸºäºè®¿é—®çš„ <em>æœ€è¿‘æœ€å°‘ä½¿ç”¨</em>ï¼ˆLRUï¼‰ ç®—æ³•ï¼Œå› æ­¤æœªè®¿é—®çš„å…ƒç´ ï¼ˆå› æ­¤æ˜¯åˆ é™¤çš„å€™é€‰è€…ï¼‰ä¼šå‡ºç°åœ¨åˆ—è¡¨çš„å‰é¢ã€‚ è¿™æ ·å¯ä»¥è½»æ¾åˆ›å»ºä¸€ä¸ªèƒ½å¤Ÿå®šæœŸæ¸…ç†ä»¥èŠ‚çœç©ºé—´çš„ç¨‹åºã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªæ˜¾ç¤ºè¿™ä¸¤ä¸ªåŠŸèƒ½çš„ç®€å•ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/LinkedHashMapDemo.java</span>
<span class="token comment">// What you can do with a LinkedHashMap</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LinkedHashMapDemo</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">LinkedHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> linkedMap <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">LinkedHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CountMap</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>linkedMap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Least-recently-used order:</span>
    linkedMap <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">LinkedHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">0.75f</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    linkedMap<span class="token punctuation">.</span><span class="token function">putAll</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CountMap</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>linkedMap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
      linkedMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>linkedMap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    linkedMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>linkedMap<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
{0=A0, 1=B0, 2=C0, 3=D0, 4=E0, 5=F0, 6=G0, 7=H0, 8=I0}
{0=A0, 1=B0, 2=C0, 3=D0, 4=E0, 5=F0, 6=G0, 7=H0, 8=I0}
{6=G0, 7=H0, 8=I0, 0=A0, 1=B0, 2=C0, 3=D0, 4=E0, 5=F0}
{6=G0, 7=H0, 8=I0, 1=B0, 2=C0, 3=D0, 4=E0, 5=F0, 0=A0}
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™äº›é”®å€¼å¯¹ç¡®å®æ˜¯æŒ‰ç…§æ’å…¥é¡ºåºè¿›è¡Œéå†ï¼Œå³ä½¿å¯¹äºLRUç‰ˆæœ¬ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ ä½†æ˜¯ï¼Œåœ¨LRUç‰ˆæœ¬ä¸­è®¿é—®å‰å…­é¡¹ï¼ˆä»…é™ï¼‰åï¼Œæœ€åä¸‰é¡¹å°†ç§»è‡³åˆ—è¡¨çš„å‰é¢ã€‚ç„¶åï¼Œå½“å†æ¬¡è®¿é—®â€œ <strong>0</strong> â€åï¼Œå®ƒç§»åŠ¨åˆ°äº†åˆ—è¡¨çš„åé¢ã€‚</p><!-- Utilities --><h2 id="é›†åˆå·¥å…·ç±»" tabindex="-1"><a class="header-anchor" href="#é›†åˆå·¥å…·ç±»" aria-hidden="true">#</a> é›†åˆå·¥å…·ç±»</h2><p>é›†åˆæœ‰è®¸å¤šç‹¬ç«‹çš„å®ç”¨å·¥å…·ç¨‹åºï¼Œåœ¨ <strong>java.util.Collections</strong> ä¸­è¡¨ç¤ºä¸ºé™æ€æ–¹æ³•ã€‚ä¹‹å‰å·²ç»è§è¿‡å…¶ä¸­ä¸€äº›ï¼Œä¾‹å¦‚ <code>addAll()</code> ï¼Œ <code>reverseOrder()</code> å’Œ <code>binarySearch()</code> ã€‚ä»¥ä¸‹æ˜¯å…¶ä»–å†…å®¹ï¼ˆåŒæ­¥å’Œä¸å¯ä¿®æ”¹çš„å®ç”¨å·¥å…·ç¨‹åºå°†åœ¨åé¢çš„ç« èŠ‚ä¸­ä»‹ç»ï¼‰ã€‚åœ¨æ­¤è¡¨ä¸­ï¼Œåœ¨éœ€è¦çš„æ—¶å€™ä½¿ç”¨äº†æ³›å‹ï¼š</p><table><thead><tr><th style="text-align:left;">æ–¹æ³•</th><th style="text-align:left;">æè¿°</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>checkedCollection(Collection&lt;T&gt; c, Class&lt;T&gt; type)</strong> <br><br> <strong>checkedList(List&lt;T&gt; list, Class&lt;T&gt; type)</strong> <br><br> <strong>checkedMap(Map&lt;K, V&gt; m, Class&lt;K&gt; keyType, Class&lt;V&gt; valueType)</strong> <br><br> <strong>checkedSet(Set&lt;T&gt; s, Class&lt;T&gt; type)</strong> <br><br> <strong>checkedSortedMap(SortedMap&lt;K, V&gt; m, Class&lt;K&gt; keyType, Class&lt;V&gt; valueType)</strong> <br><br> <strong>checkedSortedSet(SortedSet&lt;T&gt; s, Class&lt;T&gt; type)</strong></td><td style="text-align:left;">ç”Ÿæˆ <strong>Collection</strong> çš„åŠ¨æ€ç±»å‹å®‰å…¨è§†å›¾æˆ– <strong>Collection</strong> çš„ç‰¹å®šå­ç±»å‹ã€‚ å½“æ— æ³•ä½¿ç”¨é™æ€æ£€æŸ¥ç‰ˆæœ¬æ—¶ä½¿ç”¨è¿™ä¸ªç‰ˆæœ¬ã€‚ <br><br> è¿™äº›æ–¹æ³•çš„ä½¿ç”¨åœ¨<a href="">ç¬¬ä¹ç«  å¤šæ€</a>ç« èŠ‚çš„â€œåŠ¨æ€ç±»å‹å®‰å…¨â€æ ‡é¢˜ä¸‹è¿›è¡Œäº†å±•ç¤ºã€‚</td></tr><tr><td style="text-align:left;"><strong>max(Collection)</strong> <br><br> <strong>min(Collection)</strong></td><td style="text-align:left;">ä½¿ç”¨ <strong>Collection</strong> ä¸­å¯¹è±¡çš„è‡ªç„¶æ¯”è¾ƒæ–¹æ³•ç”Ÿæˆå‚æ•°é›†åˆä¸­çš„æœ€å¤§æˆ–æœ€å°å…ƒç´ ã€‚</td></tr><tr><td style="text-align:left;"><strong>max(Collection, Comparator)</strong> <br><br> <strong>min(Collection, Comparator)</strong></td><td style="text-align:left;">ä½¿ç”¨ <strong>Comparator</strong> æŒ‡å®šçš„æ¯”è¾ƒæ–¹æ³•ç”Ÿæˆå‚æ•°é›†åˆä¸­çš„æœ€å¤§æˆ–æœ€å°å…ƒç´ ã€‚</td></tr><tr><td style="text-align:left;"><strong>indexOfSubList(List source, List target)</strong></td><td style="text-align:left;">è¿”å› <strong>target</strong> åœ¨ <strong>source</strong> å†…ç¬¬ä¸€æ¬¡å‡ºç°çš„èµ·å§‹ç´¢å¼•ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å› -1ã€‚</td></tr><tr><td style="text-align:left;"><strong>lastIndexOfSubList(List source, List target)</strong></td><td style="text-align:left;">è¿”å› <strong>target</strong> åœ¨ <strong>source</strong> å†…æœ€åä¸€æ¬¡å‡ºç°çš„èµ·å§‹ç´¢å¼•ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¿”å› -1ã€‚</td></tr><tr><td style="text-align:left;"><strong>replaceAll(List&lt;T&gt; list, T oldVal, T newVal)</strong></td><td style="text-align:left;">ç”¨ <strong>newVal</strong> æ›¿æ¢åˆ—è¡¨ä¸­æ‰€æœ‰çš„ <strong>oldVal</strong> ã€‚</td></tr><tr><td style="text-align:left;"><strong>reverse(List)</strong></td><td style="text-align:left;">åè½¬åˆ—è¡¨</td></tr><tr><td style="text-align:left;"><strong>reverseOrder()</strong> <br><br> <strong>reverseOrder(Comparator&lt;T&gt;)</strong></td><td style="text-align:left;">è¿”å›ä¸€ä¸ª <strong>Comparator</strong> ï¼Œå®ƒä¸é›†åˆä¸­å®ç°äº† <strong>comparable&lt;T&gt;</strong> æ¥å£çš„å¯¹è±¡çš„è‡ªç„¶é¡ºåºç›¸åã€‚ç¬¬äºŒä¸ªç‰ˆæœ¬é¢ å€’äº†æ‰€æä¾›çš„ <strong>Comparator</strong> çš„é¡ºåºã€‚</td></tr><tr><td style="text-align:left;"><strong>rotate(List, int distance)</strong></td><td style="text-align:left;">å°†æ‰€æœ‰å…ƒç´ å‘å‰ç§»åŠ¨ <strong>distance</strong> ï¼Œå°†å°¾éƒ¨çš„å…ƒç´ ç§»åˆ°å¼€å¤´ã€‚ï¼ˆè¯‘è€…æ³¨ï¼šå³å¾ªç¯ç§»åŠ¨ï¼‰</td></tr><tr><td style="text-align:left;"><strong>shuffle(List)</strong> <br><br> <strong>shuffle(List, Random)</strong></td><td style="text-align:left;">éšæœºç½®æ¢æŒ‡å®šåˆ—è¡¨ï¼ˆå³æ‰“ä¹±é¡ºåºï¼‰ã€‚ç¬¬ä¸€ä¸ªç‰ˆæœ¬ä½¿ç”¨äº†é»˜è®¤çš„éšæœºåŒ–æºï¼Œæˆ–è€…ä¹Ÿå¯ä»¥ä½¿ç”¨ç¬¬äºŒä¸ªç‰ˆæœ¬ï¼Œæä¾›è‡ªå·±çš„éšæœºåŒ–æºã€‚</td></tr><tr><td style="text-align:left;"><strong>sort(List&lt;T&gt;)</strong> <br><br> <strong>sort(List&lt;T&gt;, Comparator&lt;? super T&gt; c)</strong></td><td style="text-align:left;">ç¬¬ä¸€ä¸ªç‰ˆæœ¬ä½¿ç”¨å…ƒç´ çš„è‡ªç„¶é¡ºåºæ’åºè¯¥ <strong>List&lt;T&gt;</strong> ã€‚ç¬¬äºŒä¸ªç‰ˆæœ¬æ ¹æ®æä¾›çš„ <strong>Comparator</strong> æ’åºã€‚</td></tr><tr><td style="text-align:left;"><strong>copy(List&lt;? super T&gt; dest, List&lt;? extends T&gt; src)</strong></td><td style="text-align:left;">å°† <strong>src</strong> ä¸­çš„å…ƒç´ å¤åˆ¶åˆ° <strong>dest</strong> ã€‚</td></tr><tr><td style="text-align:left;"><strong>swap(List, int i, int j)</strong></td><td style="text-align:left;">äº¤æ¢ <strong>List</strong> ä¸­ä½ç½® <strong>i</strong> å’Œ ä½ç½® <strong>j</strong> çš„å…ƒç´ ã€‚å¯èƒ½æ¯”ä½ æ‰‹å·¥ç¼–å†™çš„é€Ÿåº¦å¿«ã€‚</td></tr><tr><td style="text-align:left;"><strong>fill(List&lt;? super T&gt;, T x)</strong></td><td style="text-align:left;">ç”¨ <strong>x</strong> æ›¿æ¢ <strong>List</strong> ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚</td></tr><tr><td style="text-align:left;"><strong>nCopies(int n, T x)</strong></td><td style="text-align:left;">è¿”å›å¤§å°ä¸º <strong>n</strong> çš„ä¸å¯å˜ <strong>List&lt;T&gt;</strong> ï¼Œå…¶å¼•ç”¨éƒ½æŒ‡å‘ <strong>x</strong> ã€‚</td></tr><tr><td style="text-align:left;"><strong>disjoint(Collection, Collection)</strong></td><td style="text-align:left;">å¦‚æœä¸¤ä¸ªé›†åˆæ²¡æœ‰å…±åŒå…ƒç´ ï¼Œåˆ™è¿”å› <strong>true</strong> ã€‚</td></tr><tr><td style="text-align:left;"><strong>frequency(Collection, Object x)</strong></td><td style="text-align:left;">è¿”å› <strong>Collection</strong> ä¸­ï¼Œç­‰äº <strong>x</strong> çš„å…ƒç´ ä¸ªæ•°ã€‚</td></tr><tr><td style="text-align:left;"><strong>emptyList()</strong> <br><br> <strong>emptyMap()</strong> <br><br> <strong>emptySet()</strong></td><td style="text-align:left;">è¿”å›ä¸å¯å˜çš„ç©º <strong>List</strong> ï¼Œ <strong>Map</strong> æˆ– <strong>Set</strong> ã€‚è¿™äº›æ˜¯æ³›å‹çš„ï¼Œå› æ­¤ç”Ÿæˆçš„ <strong>Collection</strong> å¯ä»¥è¢«å‚æ•°åŒ–ä¸ºæ‰€éœ€çš„ç±»å‹ã€‚</td></tr><tr><td style="text-align:left;"><strong>singleton(T x)</strong> <br><br> <strong>singletonList(T x)</strong> <br><br> <strong>singletonMap(K key, V value)</strong></td><td style="text-align:left;">ç”Ÿæˆä¸€ä¸ªä¸å¯å˜çš„ <strong>List</strong> ï¼Œ <strong>Set</strong> æˆ– <strong>Map</strong> ï¼Œå…¶ä¸­åªåŒ…å«åŸºäºç»™å®šå‚æ•°çš„å•ä¸ªå…ƒç´ ã€‚</td></tr><tr><td style="text-align:left;"><strong>list(Enumeration&lt;T&gt; e)</strong></td><td style="text-align:left;">ç”Ÿæˆä¸€ä¸ª <strong>ArrayList&lt;T&gt;</strong> ï¼Œå…¶ä¸­å…ƒç´ ä¸ºï¼ˆæ—§å¼ï¼‰ <strong>Enumeration</strong> ï¼ˆ <strong>Iterator</strong> çš„å‰èº«ï¼‰ä¸­çš„å…ƒç´ ã€‚ç”¨äºä»é—ç•™ä»£ç å‘æ–°å¼è½¬æ¢ã€‚</td></tr><tr><td style="text-align:left;"><strong>enumeration(Collection&lt;T&gt;)</strong></td><td style="text-align:left;">ä¸ºå‚æ•°é›†åˆç”Ÿæˆä¸€ä¸ªæ—§å¼çš„ <strong>Enumeration&lt;T&gt;</strong> ã€‚</td></tr></tbody></table><p>è¯·æ³¨æ„ï¼Œ <code>minï¼ˆ)</code> å’Œ <code>max()</code> ä½¿ç”¨ <strong>Collection</strong> å¯¹è±¡ï¼Œè€Œä¸ä½¿ç”¨ <strong>List</strong> ï¼Œå› æ­¤ä¸å¿…æ‹…å¿ƒæ˜¯å¦åº”å¯¹ <strong>Collection</strong> è¿›è¡Œæ’åºã€‚ï¼ˆå¦‚å‰æ‰€è¿°ï¼Œåœ¨æ‰§è¡Œ <code>binarySearch()</code> ä¹‹å‰ï¼Œå°†ä¼šå¯¹ <strong>List</strong> æˆ–æ•°ç»„è¿›è¡Œ<code>sort()</code> æ’åºã€‚ï¼‰</p><p>ä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå±•ç¤ºäº†ä¸Šè¡¨ä¸­å¤§å¤šæ•°å®ç”¨å·¥å…·ç¨‹åºçš„åŸºæœ¬ç”¨æ³•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/Utilities.java</span>
<span class="token comment">// Simple demonstrations of the Collections utilities</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Utilities</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>
    <span class="token string">&quot;one Two three Four five six one&quot;</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&#39;list&#39; disjoint (Four)?: &quot;</span> <span class="token operator">+</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">disjoint</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span>
        <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">singletonList</span><span class="token punctuation">(</span><span class="token string">&quot;Four&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;max: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;min: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;max w/ comparator: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span>
      <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token constant">CASE_INSENSITIVE_ORDER</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;min w/ comparator: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span>
      <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token constant">CASE_INSENSITIVE_ORDER</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> sublist <span class="token operator">=</span>
      <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;Four five six&quot;</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;indexOfSubList: &quot;</span> <span class="token operator">+</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">indexOfSubList</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> sublist<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;lastIndexOfSubList: &quot;</span> <span class="token operator">+</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">lastIndexOfSubList</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> sublist<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token string">&quot;one&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Yo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;replaceAll: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;reverse: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;rotate: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> source <span class="token operator">=</span>
      <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;in the matrix&quot;</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> source<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;copy: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">swap</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;swap: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">shuffle</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token number">47</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;shuffled: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token string">&quot;pop&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;fill: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;frequency of &#39;pop&#39;: &quot;</span> <span class="token operator">+</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">frequency</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token string">&quot;pop&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> dups <span class="token operator">=</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">nCopies</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;snap&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;dups: &quot;</span> <span class="token operator">+</span> dups<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&#39;list&#39; disjoint &#39;dups&#39;?: &quot;</span> <span class="token operator">+</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">disjoint</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> dups<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Getting an old-style Enumeration:</span>
    <span class="token class-name">Enumeration</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> e <span class="token operator">=</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">enumeration</span><span class="token punctuation">(</span>dups<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Vector</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> v <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vector</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">hasMoreElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      v<span class="token punctuation">.</span><span class="token function">addElement</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">nextElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Converting an old-style Vector</span>
    <span class="token comment">// to a List via an Enumeration:</span>
    <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> arrayList <span class="token operator">=</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">elements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;arrayList: &quot;</span> <span class="token operator">+</span> arrayList<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
[one, Two, three, Four, five, six, one]
&#39;list&#39; disjoint (Four)?: false
max: three
min: Four
max w/ comparator: Two
min w/ comparator: five
indexOfSubList: 3
lastIndexOfSubList: 3
replaceAll: [Yo, Two, three, Four, five, six, Yo]
reverse: [Yo, six, five, Four, three, Two, Yo]
rotate: [three, Two, Yo, Yo, six, five, Four]
copy: [in, the, matrix, Yo, six, five, Four]
swap: [Four, the, matrix, Yo, six, five, in]
shuffled: [six, matrix, the, Four, Yo, five, in]
fill: [pop, pop, pop, pop, pop, pop, pop]
frequency of &#39;pop&#39;: 7
dups: [snap, snap, snap]
&#39;list&#39; disjoint &#39;dups&#39;?: true
arrayList: [snap, snap, snap]
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¾“å‡ºè§£é‡Šäº†æ¯ç§å®ç”¨æ–¹æ³•çš„è¡Œä¸ºã€‚è¯·æ³¨æ„ç”±äºå¤§å°å†™çš„ç¼˜æ•…ï¼Œæ™®é€šç‰ˆæœ¬çš„ <code>min()</code> å’Œ <code>max()</code> ä¸å¸¦æœ‰ <strong>String.CASE_INSENSITIVE_ORDER</strong> æ¯”è¾ƒå™¨å‚æ•°çš„ç‰ˆæœ¬çš„åŒºåˆ«ã€‚</p><!-- Sorting and Searching Lists --><h3 id="æ’åºå’Œæœç´¢åˆ—è¡¨" tabindex="-1"><a class="header-anchor" href="#æ’åºå’Œæœç´¢åˆ—è¡¨" aria-hidden="true">#</a> æ’åºå’Œæœç´¢åˆ—è¡¨</h3><p>ç”¨äºæ‰§è¡Œæ’åºå’Œæœç´¢ <strong>List</strong> çš„å®ç”¨å·¥å…·ç¨‹åºä¸ç”¨äºæ’åºå¯¹è±¡æ•°ç»„çš„ç¨‹åºå…·æœ‰ç›¸åŒçš„åå­—å’Œæ–¹æ³•ç­¾åï¼Œåªä¸è¿‡æ˜¯ <strong>Collections</strong> çš„é™æ€æ–¹æ³•è€Œä¸æ˜¯ <strong>Arrays</strong> ã€‚ è¿™æ˜¯ä¸€ä¸ªä½¿ç”¨ <strong>Utilities.java</strong> ä¸­çš„ <strong>list</strong> æ•°æ®çš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/ListSortSearch.java</span>
<span class="token comment">// Sorting/searching Lists with Collections utilities</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ListSortSearch</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Utilities</span><span class="token punctuation">.</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span><span class="token class-name">Utilities</span><span class="token punctuation">.</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">shuffle</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token number">47</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Shuffled: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Use ListIterator to trim off last elements:</span>
    <span class="token class-name">ListIterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> it <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">listIterator</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      it<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Trimmed: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Sorted: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> key <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">binarySearch</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;Location of &quot;</span> <span class="token operator">+</span> key <span class="token operator">+</span> <span class="token string">&quot; is &quot;</span> <span class="token operator">+</span> index <span class="token operator">+</span>
      <span class="token string">&quot;, list.get(&quot;</span> <span class="token operator">+</span> index <span class="token operator">+</span> <span class="token string">&quot;) = &quot;</span> <span class="token operator">+</span>
      list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span>
      <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token constant">CASE_INSENSITIVE_ORDER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;Case-insensitive sorted: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    key <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    index <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">binarySearch</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> key<span class="token punctuation">,</span>
      <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token constant">CASE_INSENSITIVE_ORDER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;Location of &quot;</span> <span class="token operator">+</span> key <span class="token operator">+</span> <span class="token string">&quot; is &quot;</span> <span class="token operator">+</span> index <span class="token operator">+</span>
      <span class="token string">&quot;, list.get(&quot;</span> <span class="token operator">+</span> index <span class="token operator">+</span> <span class="token string">&quot;) = &quot;</span> <span class="token operator">+</span>
      list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
[one, Two, three, Four, five, six, one, one, Two,
three, Four, five, six, one]
Shuffled: [Four, five, one, one, Two, six, six, three,
three, five, Four, Two, one, one]
Trimmed: [Four, five, one, one, Two, six, six, three,
three, five]
Sorted: [Four, Two, five, five, one, one, six, six,
three, three]
Location of six is 7, list.get(7) = six
Case-insensitive sorted: [five, five, Four, one, one,
six, six, three, three, Two]
Location of three is 7, list.get(7) = three
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å°±åƒä½¿ç”¨æ•°ç»„è¿›è¡Œæœç´¢å’Œæ’åºä¸€æ ·ï¼Œå¦‚æœä½¿ç”¨ <strong>Comparator</strong> è¿›è¡Œæ’åºï¼Œåˆ™å¿…é¡»ä½¿ç”¨ç›¸åŒçš„ <strong>Comparator</strong> æ‰§è¡Œ <code>binarySearch()</code> ã€‚</p><p>è¯¥ç¨‹åºè¿˜æ¼”ç¤ºäº† <strong>Collections</strong> ä¸­çš„ <code>shuffle()</code> æ–¹æ³•ï¼Œè¯¥æ–¹æ³•éšæœºæ‰“ä¹±äº† <strong>List</strong> çš„é¡ºåºã€‚ <strong>ListIterator</strong> æ˜¯åœ¨æ‰“ä¹±åçš„åˆ—è¡¨ä¸­çš„ç‰¹å®šä½ç½®åˆ›å»ºçš„ï¼Œç”¨äºä»è¯¥ä½ç½®åˆ é™¤å…ƒç´ ï¼Œç›´åˆ°åˆ—è¡¨æœ«å°¾ã€‚</p><!-- Making a Collection or Map Unmodifiable --><h3 id="åˆ›å»ºä¸å¯ä¿®æ”¹çš„-collection-æˆ–-map" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºä¸å¯ä¿®æ”¹çš„-collection-æˆ–-map" aria-hidden="true">#</a> åˆ›å»ºä¸å¯ä¿®æ”¹çš„ Collection æˆ– Map</h3><p>é€šå¸¸ï¼Œåˆ›å»º <strong>Collection</strong> æˆ– <strong>Map</strong> çš„åªè¯»ç‰ˆæœ¬ä¼šå¾ˆæ–¹ä¾¿ã€‚ <strong>Collections</strong> ç±»é€šè¿‡å°†åŸå§‹é›†åˆä¼ é€’ç»™ä¸€ä¸ªæ–¹æ³•ç„¶åè¿”å›ä¸€ä¸ªåªè¯»ç‰ˆæœ¬çš„é›†åˆã€‚ å¯¹äº <strong>Collection</strong> ï¼ˆå¦‚æœä¸èƒ½å°† <strong>Collection</strong> è§†ä¸ºæ›´å…·ä½“çš„ç±»å‹ï¼‰ï¼Œ <strong>List</strong> ï¼Œ <strong>Set</strong> å’Œ <strong>Map</strong> ï¼Œè¿™ç±»æ–¹æ³•æœ‰è®¸å¤šå˜ä½“ã€‚è¿™ä¸ªç¤ºä¾‹å±•ç¤ºäº†é’ˆå¯¹æ¯ç§ç±»å‹ï¼Œæ­£ç¡®æ„å»ºåªè¯»ç‰ˆæœ¬é›†åˆçš„æ–¹æ³•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/ReadOnly.java</span>
<span class="token comment">// Using the Collections.unmodifiable methods</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ReadOnly</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> data <span class="token operator">=</span>
    <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Countries</span><span class="token punctuation">.</span><span class="token function">names</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">unmodifiableCollection</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Reading is OK</span>
    <span class="token comment">//- c.add(&quot;one&quot;); // Can&#39;t change it</span>

    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> a <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">unmodifiableList</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">ListIterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> lit <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">listIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>lit<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Reading is OK</span>
    <span class="token comment">//- lit.add(&quot;one&quot;); // Can&#39;t change it</span>

    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> s <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">unmodifiableSet</span><span class="token punctuation">(</span>
      <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Reading is OK</span>
    <span class="token comment">//- s.add(&quot;one&quot;); // Can&#39;t change it</span>

    <span class="token comment">// For a SortedSet:</span>
    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> ss <span class="token operator">=</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">unmodifiableSortedSet</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> m <span class="token operator">=</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">unmodifiableMap</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Countries</span><span class="token punctuation">.</span><span class="token function">capitals</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Reading is OK</span>
    <span class="token comment">//- m.put(&quot;Ralph&quot;, &quot;Howdy!&quot;);</span>

    <span class="token comment">// For a SortedMap:</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> sm <span class="token operator">=</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">unmodifiableSortedMap</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">TreeMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Countries</span><span class="token punctuation">.</span><span class="token function">capitals</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
[ALGERIA, ANGOLA, BENIN, BOTSWANA, BURKINA FASO,
BURUNDI]
ALGERIA
[BENIN, BOTSWANA, ANGOLA, BURKINA FASO, ALGERIA,
BURUNDI]
{BENIN=Porto-Novo, BOTSWANA=Gaberone, ANGOLA=Luanda,
BURKINA FASO=Ouagadougou, ALGERIA=Algiers,
BURUNDI=Bujumbura}
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸ºç‰¹å®šç±»å‹è°ƒç”¨ â€œunmodifiableâ€ æ–¹æ³•ä¸ä¼šå¯¼è‡´ç¼–è¯‘æ—¶æ£€æŸ¥ï¼Œä½†æ˜¯ä¸€æ—¦å‘ç”Ÿè½¬æ¢ï¼Œå¯¹ä¿®æ”¹ç‰¹å®šé›†åˆå†…å®¹çš„ä»»ä½•æ–¹æ³•è°ƒç”¨éƒ½å°†äº§ç”Ÿ <strong>UnsupportedOperationException</strong> å¼‚å¸¸ã€‚</p><p>åœ¨æ¯ç§æƒ…å†µä¸‹ï¼Œåœ¨å°†é›†åˆè®¾ç½®ä¸ºåªè¯»ä¹‹å‰ï¼Œå¿…é¡»ä½¿ç”¨æœ‰æ„ä¹‰çš„æ•°æ®å¡«å……é›†åˆã€‚å¡«å……å®Œæˆåï¼Œæœ€å¥½çš„æ–¹æ³•æ˜¯ç”¨ â€œunmodifiableâ€ æ–¹æ³•è°ƒç”¨ç”Ÿæˆçš„å¼•ç”¨æ›¿æ¢ç°æœ‰å¼•ç”¨ã€‚è¿™æ ·ï¼Œä¸€æ—¦ä½¿å¾—å†…å®¹æ— æ³•ä¿®æ”¹ï¼Œé‚£ä¹ˆå°±ä¸ä¼šå†’æœ‰æ„å¤–æ›´æ”¹å†…å®¹çš„é£é™©ã€‚å¦ä¸€æ–¹é¢ï¼Œæ­¤å·¥å…·è¿˜å…è®¸å°†å¯ä¿®æ”¹çš„é›†åˆä¿ç•™ä¸ºç±»ä¸­çš„<strong>ç§æœ‰</strong>é›†åˆï¼Œå¹¶ä»æ–¹æ³•è°ƒç”¨å¤„è¿”å›å¯¹è¯¥é›†åˆçš„åªè¯»å¼•ç”¨ã€‚æ‰€ä»¥ï¼Œä½ å¯ä»¥åœ¨ç±»å†…ä¿®æ”¹å®ƒï¼Œä½†å…¶ä»–äººåªèƒ½è¯»å®ƒã€‚</p><!-- Synchronizing a Collection or Map --><h3 id="åŒæ­¥-collection-æˆ–-map" tabindex="-1"><a class="header-anchor" href="#åŒæ­¥-collection-æˆ–-map" aria-hidden="true">#</a> åŒæ­¥ Collection æˆ– Map</h3><p><strong>synchronized</strong> å…³é”®å­—æ˜¯å¤šçº¿ç¨‹ä¸»é¢˜çš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œæ›´å¤æ‚çš„å†…å®¹åœ¨<a href="">ç¬¬äºŒåå››ç«  å¹¶å‘ç¼–ç¨‹</a>ä¸­ä»‹ç»ã€‚åœ¨è¿™é‡Œï¼Œåªéœ€è¦æ³¨æ„åˆ° <strong>Collections</strong> ç±»åŒ…å«ä¸€ç§è‡ªåŠ¨åŒæ­¥æ•´ä¸ªé›†åˆçš„æ–¹æ³•ã€‚ è¯­æ³•ç±»ä¼¼äº â€œunmodifiableâ€ æ–¹æ³•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/Synchronization.java</span>
<span class="token comment">// Using the Collections.synchronized methods</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Synchronization</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">synchronizedCollection</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token class-name">Collections</span>
      <span class="token punctuation">.</span><span class="token function">synchronizedList</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> s <span class="token operator">=</span> <span class="token class-name">Collections</span>
      <span class="token punctuation">.</span><span class="token function">synchronizedSet</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> ss <span class="token operator">=</span> <span class="token class-name">Collections</span>
      <span class="token punctuation">.</span><span class="token function">synchronizedSortedSet</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> m <span class="token operator">=</span> <span class="token class-name">Collections</span>
      <span class="token punctuation">.</span><span class="token function">synchronizedMap</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> sm <span class="token operator">=</span> <span class="token class-name">Collections</span>
      <span class="token punctuation">.</span><span class="token function">synchronizedSortedMap</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TreeMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æœ€å¥½ç«‹å³é€šè¿‡é€‚å½“çš„ â€œsynchronizedâ€ æ–¹æ³•ä¼ é€’æ–°é›†åˆï¼Œå¦‚ä¸Šæ‰€ç¤ºã€‚è¿™æ ·ï¼Œå°±ä¸ä¼šæ„å¤–åœ°æš´éœ²å‡ºéåŒæ­¥ç‰ˆæœ¬ã€‚</p><!-- Fail Fast --><h4 id="fail-fast" tabindex="-1"><a class="header-anchor" href="#fail-fast" aria-hidden="true">#</a> Fail Fast</h4><p>Java é›†åˆè¿˜å…·æœ‰é˜²æ­¢å¤šä¸ªè¿›ç¨‹ä¿®æ”¹é›†åˆå†…å®¹çš„æœºåˆ¶ã€‚å¦‚æœå½“å‰æ­£åœ¨è¿­ä»£é›†åˆï¼Œç„¶åæœ‰å…¶ä»–ä¸€äº›è¿›ç¨‹ä»‹å…¥å¹¶æ’å…¥ï¼Œåˆ é™¤æˆ–æ›´æ”¹è¯¥é›†åˆä¸­çš„å¯¹è±¡ï¼Œåˆ™ä¼šå‡ºç°æ­¤é—®é¢˜ã€‚ä¹Ÿè®¸åœ¨é›†åˆä¸­å·²ç»éå†è¿‡äº†é‚£ä¸ªå…ƒç´ ï¼Œä¹Ÿè®¸è¿˜æ²¡æœ‰éå†åˆ°ï¼Œä¹Ÿè®¸åœ¨è°ƒç”¨ <code>size()</code> ä¹‹åé›†åˆçš„å¤§å°ä¼šç¼©å°...æœ‰è®¸å¤šç¾éš¾æƒ…æ™¯ã€‚ Java é›†åˆåº“ä½¿ç”¨ä¸€ç§ <em>fail-fast</em> çš„æœºåˆ¶ï¼Œè¯¥æœºåˆ¶å¯ä»¥æ£€æµ‹åˆ°é™¤äº†å½“å‰è¿›ç¨‹å¼•èµ·çš„æ›´æ”¹ä¹‹å¤–ï¼Œå…¶å®ƒä»»ä½•å¯¹é›†åˆçš„æ›´æ”¹æ“ä½œã€‚å¦‚æœå®ƒæ£€æµ‹åˆ°å…¶ä»–äººæ­£åœ¨ä¿®æ”¹é›†åˆï¼Œåˆ™ä¼šç«‹å³ç”Ÿæˆ <strong>ConcurrentModificationException</strong> å¼‚å¸¸ã€‚è¿™å°±æ˜¯â€œfail-fastâ€çš„å«ä¹‰â€”â€”å®ƒä¸ä¼šåœ¨ä»¥åä½¿ç”¨æ›´å¤æ‚çš„ç®—æ³•å°è¯•æ£€æµ‹é—®é¢˜ï¼ˆå¿«é€Ÿå¤±è´¥ï¼‰ã€‚</p><p>é€šè¿‡åˆ›å»ºè¿­ä»£å™¨å¹¶å‘è¿­ä»£å™¨æŒ‡å‘çš„é›†åˆä¸­æ·»åŠ å…ƒç´ ï¼Œå¯ä»¥å¾ˆå®¹æ˜“åœ°çœ‹åˆ°æ“ä½œä¸­çš„ fail-fast æœºåˆ¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/FailFast.java</span>
<span class="token comment">// Demonstrates the &quot;fail-fast&quot; behavior</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FailFast</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> it <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;An object&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token class-name">String</span> s <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">ConcurrentModificationException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
java.util.ConcurrentModificationException
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¼‚å¸¸æ¥è‡ªäºåœ¨ä»é›†åˆä¸­è·å¾—è¿­ä»£å™¨ä¹‹åï¼Œåˆå°è¯•åœ¨é›†åˆä¸­æ·»åŠ å…ƒç´ ã€‚ç¨‹åºçš„ä¸¤ä¸ªéƒ¨åˆ†å¯èƒ½ä¼šä¿®æ”¹åŒä¸€ä¸ªé›†åˆï¼Œè¿™ç§å¯èƒ½æ€§çš„å­˜åœ¨ä¼šäº§ç”Ÿä¸ç¡®å®šçŠ¶æ€ï¼Œå› æ­¤å¼‚å¸¸ä¼šé€šçŸ¥ä½ æ›´æ”¹ä»£ç ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåº”å…ˆå°†æ‰€æœ‰å…ƒç´ æ·»åŠ åˆ°é›†åˆï¼Œç„¶åå†è·å–è¿­ä»£å™¨ã€‚</p><p><strong>ConcurrentHashMap</strong> ï¼Œ <strong>CopyOnWriteArrayList</strong> å’Œ <strong>CopyOnWriteArraySet</strong> ä½¿ç”¨äº†ç‰¹å®šçš„æŠ€æœ¯æ¥é¿å…äº§ç”Ÿ <strong>ConcurrentModificationException</strong> å¼‚å¸¸ã€‚</p><!-- Holding References --><h2 id="æŒæœ‰å¼•ç”¨" tabindex="-1"><a class="header-anchor" href="#æŒæœ‰å¼•ç”¨" aria-hidden="true">#</a> æŒæœ‰å¼•ç”¨</h2><p><strong>java.lang.ref</strong> ä¸­åº“åŒ…å«ä¸€ç»„ç±»ï¼Œè¿™äº›ç±»å…è®¸åƒåœ¾æ”¶é›†å…·æœ‰æ›´å¤§çš„çµæ´»æ€§ã€‚ç‰¹åˆ«æ˜¯å½“æ‹¥æœ‰å¯èƒ½å¯¼è‡´å†…å­˜è€—å°½çš„å¤§å¯¹è±¡æ—¶ï¼Œè¿™äº›ç±»ç‰¹åˆ«æœ‰ç”¨ã€‚è¿™é‡Œæœ‰ä¸‰ä¸ªä»æŠ½è±¡ç±» <strong>Reference</strong> ç»§æ‰¿æ¥çš„ç±»ï¼š <strong>SoftReference</strong> ï¼ˆè½¯å¼•ç”¨ï¼‰ï¼Œ <strong>WeakReference</strong> ï¼ˆå¼±å¼•ç”¨ï¼‰å’Œ <strong>PhantomReference</strong> ï¼ˆè™šå¼•ç”¨ï¼‰ç»§æ‰¿äº†ä¸‰ä¸ªç±»ã€‚å¦‚æœä¸€ä¸ªå¯¹è±¡åªèƒ½é€šè¿‡è¿™å…¶ä¸­çš„ä¸€ä¸ª <strong>Reference</strong> å¯¹è±¡è®¿é—®ï¼Œé‚£ä¹ˆè¿™ä¸‰ç§ç±»å‹æ¯ä¸ªéƒ½ä¸ºåƒåœ¾æ”¶é›†å™¨æä¾›ä¸åŒçº§åˆ«çš„é—´æ¥å¼•ç”¨ï¼ˆindirectionï¼‰ã€‚</p><p>å¦‚æœä¸€ä¸ªå¯¹è±¡æ˜¯ <em>å¯è¾¾çš„</em>ï¼ˆreachableï¼‰ï¼Œé‚£ä¹ˆæ„å‘³ç€åœ¨ç¨‹åºä¸­çš„æŸä¸ªä½ç½®å¯ä»¥æ‰¾åˆ°è¯¥å¯¹è±¡ã€‚è¿™å¯èƒ½æ„å‘³ç€åœ¨æ ˆä¸Šæœ‰ä¸€ä¸ªç›´æ¥å¼•ç”¨è¯¥å¯¹è±¡çš„æ™®é€šå¼•ç”¨ï¼Œä½†ä¹Ÿæœ‰å¯èƒ½æ˜¯å¼•ç”¨äº†ä¸€ä¸ªå¯¹è¯¥å¯¹è±¡æœ‰å¼•ç”¨çš„å¯¹è±¡ï¼Œè¿™å¯ä»¥æœ‰å¾ˆå¤šä¸­é—´ç¯èŠ‚ã€‚å¦‚æœæŸä¸ªå¯¹è±¡æ˜¯å¯è¾¾çš„ï¼Œåˆ™åƒåœ¾æ”¶é›†å™¨æ— æ³•é‡Šæ”¾å®ƒï¼Œå› ä¸ºå®ƒä»ç„¶è¢«ç¨‹åºæ‰€ä½¿ç”¨ã€‚å¦‚æœæŸä¸ªå¯¹è±¡æ˜¯ä¸å¯è¾¾çš„ï¼Œåˆ™ç¨‹åºæ— æ³•ä½¿ç”¨å®ƒï¼Œé‚£ä¹ˆåƒåœ¾æ”¶é›†å™¨å›æ”¶è¯¥å¯¹è±¡å°±æ˜¯å®‰å…¨çš„ã€‚</p><p>ä½¿ç”¨ <strong>Reference</strong> å¯¹è±¡ç»§ç»­ä¿æŒå¯¹è¯¥å¯¹è±¡çš„å¼•ç”¨ï¼Œä»¥åˆ°è¾¾è¯¥å¯¹è±¡ï¼Œä½†ä¹Ÿå…è®¸åƒåœ¾æ”¶é›†å™¨é‡Šæ”¾è¯¥å¯¹è±¡ã€‚å› æ­¤ï¼Œç¨‹åºå¯ä»¥ä½¿ç”¨è¯¥å¯¹è±¡ï¼Œä½†å¦‚æœå†…å­˜å³å°†è€—å°½ï¼Œåˆ™å…è®¸é‡Šæ”¾è¯¥å¯¹è±¡ã€‚</p><p>å¯ä»¥é€šè¿‡ä½¿ç”¨ <strong>Reference</strong> å¯¹è±¡ä½œä¸ºä½ å’Œæ™®é€šå¼•ç”¨ä¹‹é—´çš„ä¸­ä»‹ï¼ˆä»£ç†ï¼‰æ¥å®ç°æ­¤ç›®çš„ã€‚æ­¤å¤–ï¼Œå¿…é¡»æ²¡æœ‰å¯¹è±¡çš„æ™®é€šå¼•ç”¨ï¼ˆæœªåŒ…å«åœ¨ <strong>Reference</strong> å¯¹è±¡ä¸­çš„å¯¹è±¡ï¼‰ã€‚å¦‚æœåƒåœ¾æ”¶é›†å™¨å‘ç°å¯¹è±¡å¯é€šè¿‡æ™®é€šå¼•ç”¨è®¿é—®ï¼Œåˆ™å®ƒä¸ä¼šé‡Šæ”¾è¯¥å¯¹è±¡ã€‚</p><p>æŒ‰ç…§ <strong>SoftReference</strong> ï¼Œ <strong>WeakReference</strong> å’Œ <strong>PhantomReference</strong> çš„é¡ºåºï¼Œæ¯ä¸ªéƒ½æ¯”å‰ä¸€ä¸ªæ›´â€œå¼±â€ï¼Œå¹¶ä¸”å¯¹åº”äºä¸åŒçš„å¯è¾¾æ€§çº§åˆ«ã€‚è½¯å¼•ç”¨ç”¨äºå®ç°å¯¹å†…å­˜æ•æ„Ÿçš„ç¼“å­˜ã€‚å¼±å¼•ç”¨ç”¨äºå®ç°â€œè§„èŒƒåŒ–æ˜ å°„â€ï¼ˆ canonicalized mappingsï¼‰â€”â€”å¯¹è±¡çš„å®ä¾‹å¯ä»¥åœ¨ç¨‹åºçš„å¤šä¸ªä½ç½®åŒæ—¶ä½¿ç”¨ï¼Œä»¥èŠ‚çœå­˜å‚¨ï¼Œä½†ä¸ä¼šé˜»æ­¢å…¶é”®ï¼ˆæˆ–å€¼ï¼‰è¢«å›æ”¶ã€‚è™šå¼•ç”¨ç”¨äºè°ƒåº¦ pre-mortem æ¸…ç†æ“ä½œï¼Œè¿™æ˜¯ä¸€ç§æ¯” Java ç»ˆç»“æœºåˆ¶ï¼ˆJava finalization mechanismï¼‰æ›´çµæ´»çš„æ–¹å¼ã€‚</p><p>ä½¿ç”¨ <strong>SoftReference</strong> å’Œ <strong>WeakReference</strong> ï¼Œå¯ä»¥é€‰æ‹©æ˜¯å¦å°†å®ƒä»¬æ”¾åœ¨ <strong>ReferenceQueue</strong> ï¼ˆç”¨äº pre-mortem æ¸…ç†æ“ä½œçš„è®¾å¤‡ï¼‰ä¸­ï¼Œä½† <strong>PhantomReference</strong> åªèƒ½åœ¨ <strong>ReferenceQueue</strong> ä¸Šæ„å»ºã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„æ¼”ç¤ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/References.java</span>
<span class="token comment">// Demonstrates Reference objects</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>ref<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">VeryBig</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token constant">SIZE</span> <span class="token operator">=</span> <span class="token number">10000</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">long</span><span class="token punctuation">[</span><span class="token punctuation">]</span> la <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">long</span><span class="token punctuation">[</span><span class="token constant">SIZE</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> ident<span class="token punctuation">;</span>
  <span class="token class-name">VeryBig</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span> ident <span class="token operator">=</span> id<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> ident<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Finalizing &quot;</span> <span class="token operator">+</span> ident<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">References</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">ReferenceQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">VeryBig</span><span class="token punctuation">&gt;</span></span> rq <span class="token operator">=</span>
    <span class="token keyword">new</span> <span class="token class-name">ReferenceQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">checkQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Reference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">VeryBig</span><span class="token punctuation">&gt;</span></span> inq <span class="token operator">=</span> rq<span class="token punctuation">.</span><span class="token function">poll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>inq <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;In queue: &quot;</span> <span class="token operator">+</span> inq<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token comment">// Or, choose size via the command line:</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
      size <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SoftReference</span><span class="token punctuation">&lt;</span><span class="token class-name">VeryBig</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> sa <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      sa<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SoftReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">VeryBig</span><span class="token punctuation">(</span><span class="token string">&quot;Soft &quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">,</span> rq<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
        <span class="token string">&quot;Just created: &quot;</span> <span class="token operator">+</span> sa<span class="token punctuation">.</span><span class="token function">getLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">checkQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">WeakReference</span><span class="token punctuation">&lt;</span><span class="token class-name">VeryBig</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> wa <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      wa<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">WeakReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">VeryBig</span><span class="token punctuation">(</span><span class="token string">&quot;Weak &quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">,</span> rq<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
        <span class="token string">&quot;Just created: &quot;</span> <span class="token operator">+</span> wa<span class="token punctuation">.</span><span class="token function">getLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">checkQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">SoftReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">VeryBig</span><span class="token punctuation">&gt;</span></span> s <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">SoftReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">VeryBig</span><span class="token punctuation">(</span><span class="token string">&quot;Soft&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">WeakReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">VeryBig</span><span class="token punctuation">&gt;</span></span> w <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">WeakReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">VeryBig</span><span class="token punctuation">(</span><span class="token string">&quot;Weak&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">gc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">PhantomReference</span><span class="token punctuation">&lt;</span><span class="token class-name">VeryBig</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> pa <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      pa<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PhantomReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">VeryBig</span><span class="token punctuation">(</span><span class="token string">&quot;Phantom &quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">,</span> rq<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
        <span class="token string">&quot;Just created: &quot;</span> <span class="token operator">+</span> pa<span class="token punctuation">.</span><span class="token function">getLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">checkQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output: (First and Last 10 Lines)
Just created: java.lang.ref.SoftReference@15db9742
Just created: java.lang.ref.SoftReference@6d06d69c
Just created: java.lang.ref.SoftReference@7852e922
Just created: java.lang.ref.SoftReference@4e25154f
Just created: java.lang.ref.SoftReference@70dea4e
Just created: java.lang.ref.SoftReference@5c647e05
Just created: java.lang.ref.SoftReference@33909752
Just created: java.lang.ref.SoftReference@55f96302
Just created: java.lang.ref.SoftReference@3d4eac69
Just created: java.lang.ref.SoftReference@42a57993
...________...________...________...________...
Just created: java.lang.ref.PhantomReference@45ee12a7
In queue: null
Just created: java.lang.ref.PhantomReference@330bedb4
In queue: null
Just created: java.lang.ref.PhantomReference@2503dbd3
In queue: null
Just created: java.lang.ref.PhantomReference@4b67cf4d
In queue: null
Just created: java.lang.ref.PhantomReference@7ea987ac
In queue: null
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“è¿è¡Œæ­¤ç¨‹åºï¼ˆå°†è¾“å‡ºé‡å®šå‘åˆ°æ–‡æœ¬æ–‡ä»¶ä»¥æŸ¥çœ‹é¡µé¢ä¸­çš„è¾“å‡ºï¼‰æ—¶ï¼Œå°†ä¼šçœ‹åˆ°å¯¹è±¡æ˜¯è¢«åƒåœ¾æ”¶é›†äº†çš„ï¼Œè™½ç„¶ä»ç„¶å¯ä»¥é€šè¿‡ <strong>Reference</strong> å¯¹è±¡è®¿é—®å®ƒä»¬ï¼ˆä½¿ç”¨ <code>get()</code> æ¥è·å–å®é™…çš„å¯¹è±¡å¼•ç”¨ï¼‰ã€‚ è¿˜å¯ä»¥çœ‹åˆ° <strong>ReferenceQueue</strong> å§‹ç»ˆç”ŸæˆåŒ…å« <strong>null</strong> å¯¹è±¡çš„ <strong>Reference</strong> ã€‚ è¦ä½¿ç”¨å®ƒï¼Œè¯·ä»ç‰¹å®šçš„ <strong>Reference</strong> ç±»ç»§æ‰¿ï¼Œå¹¶ä¸ºæ–°ç±»æ·»åŠ æ›´å¤šæœ‰ç”¨çš„æ–¹æ³•ã€‚</p><!-- The WeakHashMap --><h3 id="weakhashmap" tabindex="-1"><a class="header-anchor" href="#weakhashmap" aria-hidden="true">#</a> WeakHashMap</h3><p>é›†åˆç±»åº“ä¸­æœ‰ä¸€ä¸ªç‰¹æ®Šçš„ <strong>Map</strong> æ¥ä¿å­˜å¼±å¼•ç”¨ï¼š <strong>WeakHashMap</strong> ã€‚ æ­¤ç±»å¯ä»¥æ›´è½»æ¾åœ°åˆ›å»ºè§„èŒƒåŒ–æ˜ å°„ã€‚åœ¨è¿™ç§æ˜ å°„ä¸­ï¼Œå¯ä»¥é€šè¿‡ä»…ä»…åˆ›å»ºä¸€ä¸ªç‰¹å®šå€¼çš„å®ä¾‹æ¥èŠ‚çœå­˜å‚¨ç©ºé—´ã€‚å½“ç¨‹åºéœ€è¦è¯¥å€¼æ—¶ï¼Œå®ƒä¼šæŸ¥æ‰¾æ˜ å°„ä¸­çš„ç°æœ‰å¯¹è±¡å¹¶ä½¿ç”¨å®ƒï¼ˆè€Œä¸æ˜¯ä»å¤´å¼€å§‹åˆ›å»ºä¸€ä¸ªï¼‰ã€‚ è¯¥æ˜ å°„å¯ä»¥å°†å€¼ä½œä¸ºå…¶åˆå§‹åŒ–çš„ä¸€éƒ¨åˆ†ï¼Œä½†æ›´æœ‰å¯èƒ½çš„æ˜¯åœ¨éœ€è¦æ—¶åˆ›å»ºè¯¥å€¼ã€‚</p><p>ç”±äºè¿™æ˜¯ä¸€ç§èŠ‚çœå­˜å‚¨ç©ºé—´çš„æŠ€æœ¯ï¼Œå› æ­¤ <strong>WeakHashMap</strong> å…è®¸åƒåœ¾æ”¶é›†å™¨è‡ªåŠ¨æ¸…ç†é”®å’Œå€¼ï¼Œè¿™æ˜¯éå¸¸æ–¹ä¾¿çš„ã€‚ä¸èƒ½å¯¹æ”¾åœ¨ <strong>WeakHashMap</strong> ä¸­çš„é”®å’Œå€¼åšä»»ä½•ç‰¹æ®Šæ“ä½œï¼Œå®ƒä»¬ç”± map è‡ªåŠ¨åŒ…è£…åœ¨ <strong>WeakReference</strong> ä¸­ã€‚å½“é”®ä¸å†è¢«ä½¿ç”¨çš„æ—¶å€™æ‰å…è®¸æ¸…ç†ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/CanonicalMapping.java</span>
<span class="token comment">// Demonstrates WeakHashMap</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Element</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> ident<span class="token punctuation">;</span>
  <span class="token class-name">Element</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span> ident <span class="token operator">=</span> id<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> ident<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span>ident<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> r <span class="token keyword">instanceof</span> <span class="token class-name">Element</span> <span class="token operator">&amp;&amp;</span>
      <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>ident<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Element</span><span class="token punctuation">)</span>r<span class="token punctuation">)</span><span class="token punctuation">.</span>ident<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Finalizing &quot;</span> <span class="token operator">+</span>
      <span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> ident<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Key</span> <span class="token keyword">extends</span> <span class="token class-name">Element</span> <span class="token punctuation">{</span>
  <span class="token class-name">Key</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">super</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Value</span> <span class="token keyword">extends</span> <span class="token class-name">Element</span> <span class="token punctuation">{</span>
  <span class="token class-name">Value</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">super</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CanonicalMapping</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> size <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>
    <span class="token comment">// Or, choose size via the command line:</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
      size <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Key</span><span class="token punctuation">[</span><span class="token punctuation">]</span> keys <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Key</span><span class="token punctuation">[</span>size<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token class-name">WeakHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Key</span><span class="token punctuation">,</span><span class="token class-name">Value</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">WeakHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">Key</span> k <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Key</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">Value</span> v <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Value</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">3</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
        keys<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> k<span class="token punctuation">;</span> <span class="token comment">// Save as &quot;real&quot; references</span>
      map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">gc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Key</strong> ç±»å¿…é¡»å…·æœ‰ <code>hashCode()</code> å’Œ <code>equals()</code> ï¼Œå› ä¸ºå®ƒå°†è¢«ç”¨ä½œæ•£åˆ—æ•°æ®ç»“æ„ä¸­çš„é”®ã€‚ <code>hashCode()</code> çš„å†…å®¹åœ¨<a href="">é™„å½•ï¼šç†è§£hashCodeå’Œequalsæ–¹æ³•</a>ä¸­è¿›è¡Œäº†æè¿°ã€‚</p><p>è¿è¡Œç¨‹åºï¼Œä½ ä¼šçœ‹åˆ°åƒåœ¾æ”¶é›†å™¨æ¯ä¸‰ä¸ªé”®è·³è¿‡ä¸€æ¬¡ã€‚å¯¹è¯¥é”®çš„æ™®é€šå¼•ç”¨ä¹Ÿè¢«æ”¾ç½®åœ¨ <strong>keys</strong> æ•°ç»„ä¸­ï¼Œå› æ­¤è¿™äº›å¯¹è±¡ä¸èƒ½è¢«åƒåœ¾æ”¶é›†ã€‚</p><!-- Java 1.0/1.1 Collections --><h2 id="java-1-0-1-1-çš„é›†åˆç±»" tabindex="-1"><a class="header-anchor" href="#java-1-0-1-1-çš„é›†åˆç±»" aria-hidden="true">#</a> Java 1.0 / 1.1 çš„é›†åˆç±»</h2><p>ä¸å¹¸çš„æ˜¯ï¼Œè®¸å¤šä»£ç æ˜¯ä½¿ç”¨ Java 1.0 / 1.1 ä¸­çš„é›†åˆç¼–å†™çš„ï¼Œç”šè‡³æ–°ä»£ç æœ‰æ—¶ä¹Ÿæ˜¯ä½¿ç”¨è¿™äº›ç±»ç¼–å†™çš„ã€‚ç¼–å†™æ–°ä»£ç æ—¶åˆ‡å‹¿ä½¿ç”¨æ—§é›†åˆã€‚æ—§çš„é›†åˆç±»æœ‰é™ï¼Œæ‰€ä»¥å…³äºå®ƒä»¬çš„è®¨è®ºä¸å¤šã€‚ç”±äºå®ƒä»¬æ˜¯ä¸åˆæ—¶å®œçš„ï¼Œæ‰€ä»¥æˆ‘ä¼šå°½é‡é¿å…è¿‡åˆ†å¼ºè°ƒä¸€äº›å¯æ€•çš„è®¾è®¡å†³å®šã€‚</p><!-- Vector & Enumeration --><h3 id="vector-å’Œ-enumeration" tabindex="-1"><a class="header-anchor" href="#vector-å’Œ-enumeration" aria-hidden="true">#</a> Vector å’Œ Enumeration</h3><p>Java 1.0 / 1.1 ä¸­å”¯ä¸€çš„è‡ªæ‰©å±•åºåˆ—æ˜¯ <strong>Vector</strong> ï¼Œå› æ­¤å®ƒè¢«ç”¨äºå¾ˆå¤šåœ°æ–¹ã€‚å®ƒçš„ç¼ºé™·å¤ªå¤šäº†ï¼Œæ— æ³•åœ¨è¿™é‡Œæè¿°ï¼ˆå‚è§ã€ŠJavaç¼–ç¨‹æ€æƒ³ã€‹ç¬¬1ç‰ˆï¼Œå¯ä»<a href="www.OnJava8.com">www.OnJava8.com</a>å…è´¹ä¸‹è½½ï¼‰ã€‚åŸºæœ¬ä¸Šï¼Œä½ å¯ä»¥å°†å®ƒçœ‹ä½œæ˜¯å…·æœ‰å†—é•¿ä¸”ç¬¨æ‹™çš„æ–¹æ³•åç§°çš„ <strong>ArrayList</strong> ã€‚åœ¨ä¿®è®¢åçš„ Java é›†åˆåº“ä¸­ï¼Œ<strong>Vector</strong> å·²ç»è¢«è°ƒæ•´é€‚é…è¿‡ï¼Œå› æ­¤å¯ä»¥ä½œä¸º <strong>Collection</strong> å’Œ <strong>List</strong> æ¥ä½¿ç”¨ã€‚äº‹å®è¯æ˜è¿™æœ‰ç‚¹ä¸æ­£å¸¸ï¼Œé›†åˆç±»åº“ä»ç„¶åŒ…å«å®ƒåªæ˜¯ä¸ºäº†æ”¯æŒæ—§çš„ Java ä»£ç ï¼Œä½†è¿™ä¼šè®©ä¸€äº›äººè¯¯ä»¥ä¸º <strong>Vector</strong> å·²ç»å˜å¾—æ›´å¥½äº†ã€‚</p><p>è¿­ä»£å™¨çš„ Java 1.0 / 1.1 ç‰ˆæœ¬é€‰æ‹©åˆ›å»ºä¸€ä¸ªæ–°åç§°â€œenumerationâ€ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æ¯ä¸ªäººéƒ½ç†Ÿæ‚‰çš„æœ¯è¯­ï¼ˆâ€œiteratorâ€ï¼‰ã€‚ <strong>Enumeration</strong> æ¥å£å°äº <strong>Iterator</strong> ï¼ŒåªåŒ…å«ä¸¤ä¸ªæ–¹æ³•ï¼Œå¹¶ä¸”å®ƒä½¿ç”¨æ›´é•¿çš„æ–¹æ³•åç§°ï¼šå¦‚æœè¿˜æœ‰æ›´å¤šå…ƒç´ ï¼Œåˆ™ <code>boolean hasMoreElements()</code> è¿”å› <code>true</code> ï¼Œ <code>Object nextElement()</code> è¿”å›æ­¤enumerationçš„ä¸‹ä¸€ä¸ªå…ƒç´  ï¼ˆå¦åˆ™ä¼šæŠ›å‡ºå¼‚å¸¸ï¼‰ã€‚</p><p><strong>Enumeration</strong> åªæ˜¯ä¸€ä¸ªæ¥å£ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå®ç°ï¼Œç”šè‡³æ–°çš„ç±»åº“æœ‰æ—¶ä»ç„¶ä½¿ç”¨æ—§çš„ <strong>Enumeration</strong> ï¼Œè¿™æ˜¯ä¸å¹¸çš„ï¼Œä½†é€šå¸¸æ˜¯æ— å®³çš„ã€‚åº”è¯¥æ€»æ˜¯åœ¨è‡ªå·±çš„ä»£ç ä¸­ä½¿ç”¨ <strong>Iterator</strong> ï¼Œä½†è¦åšå¥½å‡†å¤‡åº”å¯¹é‚£äº›æä¾› <strong>Enumeration</strong> çš„ç±»åº“ã€‚</p><p>æ­¤å¤–ï¼Œå¯ä»¥ä½¿ç”¨ <code>Collections.enumeration()</code> æ–¹æ³•ä¸ºä»»ä½• <strong>Collection</strong> ç”Ÿæˆ <strong>Enumeration</strong> ï¼Œå¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/Enumerations.java</span>
<span class="token comment">// Java 1.0/1.1 Vector and Enumeration</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Enumerations</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Vector</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> v <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">Vector</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Countries</span><span class="token punctuation">.</span><span class="token function">names</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Enumeration</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> e <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">elements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">hasMoreElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">nextElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Produce an Enumeration from a Collection:</span>
    e <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">enumeration</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
ALGERIA, ANGOLA, BENIN, BOTSWANA, BURKINA FASO,
BURUNDI, CAMEROON, CAPE VERDE, CENTRAL AFRICAN
REPUBLIC, CHAD,
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¦ç”Ÿæˆ <strong>Enumeration</strong> ï¼Œå¯ä»¥è°ƒç”¨ <code>elements()</code> ï¼Œç„¶åå¯ä»¥ä½¿ç”¨å®ƒæ¥æ‰§è¡Œå‘å‰è¿­ä»£ã€‚</p><p>æœ€åä¸€è¡Œåˆ›å»ºä¸€ä¸ª <strong>ArrayList</strong> ï¼Œå¹¶ä½¿ç”¨ <code>enumeration() </code> æ¥å°† <strong>ArrayList</strong> é€‚é…ä¸ºä¸€ä¸ª <strong>Enumeration</strong> ã€‚ å› æ­¤ï¼Œå¦‚æœæœ‰æ—§ä»£ç éœ€è¦ä½¿ç”¨ <strong>Enumeration</strong> ï¼Œä½ ä»ç„¶å¯ä»¥ä½¿ç”¨æ–°é›†åˆã€‚</p><!-- Hashtable --><h3 id="hashtable" tabindex="-1"><a class="header-anchor" href="#hashtable" aria-hidden="true">#</a> Hashtable</h3><p>æ­£å¦‚ä½ åœ¨æœ¬é™„å½•ä¸­çš„æ€§èƒ½æ¯”è¾ƒä¸­æ‰€çœ‹åˆ°çš„ï¼ŒåŸºæœ¬çš„ <strong>Hashtable</strong> ä¸ <strong>HashMap</strong> éå¸¸ç›¸ä¼¼ï¼Œç”šè‡³æ–¹æ³•åç§°éƒ½ç›¸ä¼¼ã€‚åœ¨æ–°ä»£ç ä¸­æ²¡æœ‰ç†ç”±ä½¿ç”¨ <strong>Hashtable</strong> è€Œä¸æ˜¯ <strong>HashMap</strong> ã€‚</p><!-- Stack --><h3 id="stack" tabindex="-1"><a class="header-anchor" href="#stack" aria-hidden="true">#</a> Stack</h3><p>ä¹‹å‰ä½¿ç”¨ <strong>LinkedList</strong> å¼•å…¥äº†æ ˆçš„æ¦‚å¿µã€‚ Java 1.0 / 1.1 <strong>Stack</strong> çš„å¥‡æ€ªä¹‹å¤„åœ¨äºï¼Œä¸æ˜¯ä»¥ç»„åˆæ–¹å¼ä½¿ç”¨ <strong>Vector</strong> ï¼Œè€Œæ˜¯ç»§æ‰¿è‡ª <strong>Vector</strong> ã€‚ å› æ­¤å®ƒå…·æœ‰ <strong>Vector</strong> çš„æ‰€æœ‰ç‰¹å¾å’Œè¡Œä¸ºä»¥åŠä¸€äº›é¢å¤–çš„ <strong>Stack</strong> è¡Œä¸ºã€‚å¾ˆéš¾å»çŸ¥é“è®¾è®¡å¸ˆæ˜¯å¦æœ‰æ„è¯†åœ°è®¤ä¸ºè¿™æ ·åšæ˜¯æœ‰ç”¨çš„ï¼Œæˆ–è€…å®ƒæ˜¯å¦åªæ˜¯å¤ªå¤©çœŸäº†ï¼Œæ— è®ºå¦‚ä½•ï¼Œå®ƒåœ¨è¿›å…¥å‘è¡Œç‰ˆä¹‹å‰æ˜¾ç„¶æ²¡æœ‰ç»è¿‡å®¡æŸ¥ï¼Œæ‰€ä»¥è¿™ä¸ªç³Ÿç³•çš„è®¾è®¡ä»ç„¶å­˜åœ¨ï¼ˆä½†ä¸è¦ä½¿ç”¨å®ƒï¼‰ã€‚</p><p>è¿™æ˜¯ <strong>Stack</strong> çš„ç®€å•æ¼”ç¤ºï¼Œå‘æ ˆä¸­æ”¾å…¥æšä¸¾ä¸­æ¯ä¸€ä¸ªç±»å‹çš„ <strong>String</strong> å½¢å¼ã€‚å®ƒè¿˜å±•ç¤ºäº†å¦‚ä½•è½»æ¾åœ°å°† <strong>LinkedList</strong> ç”¨ä½œæ ˆï¼Œæˆ–è€…ä½¿ç”¨åœ¨<a href="">ç¬¬åäºŒç« ï¼šé›†åˆ</a>ç« èŠ‚ä¸­åˆ›å»ºçš„ <strong>Stack</strong> ç±»ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/Stacks.java</span>
<span class="token comment">// Demonstration of Stack Class</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">enum</span> <span class="token class-name">Month</span> <span class="token punctuation">{</span> <span class="token constant">JANUARY</span><span class="token punctuation">,</span> <span class="token constant">FEBRUARY</span><span class="token punctuation">,</span> <span class="token constant">MARCH</span><span class="token punctuation">,</span> <span class="token constant">APRIL</span><span class="token punctuation">,</span>
  <span class="token constant">MAY</span><span class="token punctuation">,</span> <span class="token constant">JUNE</span><span class="token punctuation">,</span> <span class="token constant">JULY</span><span class="token punctuation">,</span> <span class="token constant">AUGUST</span><span class="token punctuation">,</span> <span class="token constant">SEPTEMBER</span><span class="token punctuation">,</span>
  <span class="token constant">OCTOBER</span><span class="token punctuation">,</span> <span class="token constant">NOVEMBER</span> <span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Stacks</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Month</span> m <span class="token operator">:</span> <span class="token class-name">Month</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;stack = &quot;</span> <span class="token operator">+</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Treating a stack as a Vector:</span>
    stack<span class="token punctuation">.</span><span class="token function">addElement</span><span class="token punctuation">(</span><span class="token string">&quot;The last line&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;element 5 = &quot;</span> <span class="token operator">+</span> stack<span class="token punctuation">.</span><span class="token function">elementAt</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;popping elements:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Using a LinkedList as a Stack:</span>
    <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> lstack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Month</span> m <span class="token operator">:</span> <span class="token class-name">Month</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      lstack<span class="token punctuation">.</span><span class="token function">addFirst</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;lstack = &quot;</span> <span class="token operator">+</span> lstack<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>lstack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>lstack<span class="token punctuation">.</span><span class="token function">removeFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Using the Stack class from</span>
    <span class="token comment">// the Collections Chapter:</span>
    <span class="token class-name"><span class="token namespace">onjava<span class="token punctuation">.</span></span>Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> stack2 <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name"><span class="token namespace">onjava<span class="token punctuation">.</span></span>Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Month</span> m <span class="token operator">:</span> <span class="token class-name">Month</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      stack2<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;stack2 = &quot;</span> <span class="token operator">+</span> stack2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>stack2<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>stack2<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
stack = [JANUARY, FEBRUARY, MARCH, APRIL, MAY, JUNE,
JULY, AUGUST, SEPTEMBER, OCTOBER, NOVEMBER]
element 5 = JUNE
popping elements:
The last line NOVEMBER OCTOBER SEPTEMBER AUGUST JULY
JUNE MAY APRIL MARCH FEBRUARY JANUARY lstack =
[NOVEMBER, OCTOBER, SEPTEMBER, AUGUST, JULY, JUNE, MAY,
APRIL, MARCH, FEBRUARY, JANUARY]
NOVEMBER OCTOBER SEPTEMBER AUGUST JULY JUNE MAY APRIL
MARCH FEBRUARY JANUARY stack2 = [NOVEMBER, OCTOBER,
SEPTEMBER, AUGUST, JULY, JUNE, MAY, APRIL, MARCH,
FEBRUARY, JANUARY]
NOVEMBER OCTOBER SEPTEMBER AUGUST JULY JUNE MAY APRIL
MARCH FEBRUARY JANUARY
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>String</strong> å½¢å¼æ˜¯ç”± <strong>Month</strong> ä¸­çš„æšä¸¾å¸¸é‡ç”Ÿæˆçš„ï¼Œä½¿ç”¨ <code>push()</code> å‹å…¥åˆ°æ ˆä¸­ï¼Œç„¶åä½¿ç”¨ <code>pop()</code> ä»æ ˆé¡¶éƒ¨å–å‡ºã€‚ä¸ºäº†è¯´æ˜ä¸€ç‚¹ï¼Œå°† <strong>Vector</strong> çš„æ“ä½œä¹Ÿåœ¨ <strong>Stack</strong> å¯¹è±¡ä¸Šæ‰§è¡Œï¼Œ è¿™æ˜¯å¯èƒ½çš„ï¼Œå› ä¸ºå‡­å€Ÿç»§æ‰¿ï¼Œ <strong>Stack</strong> æ˜¯ <strong>Vector</strong> ã€‚ å› æ­¤ï¼Œå¯ä»¥åœ¨ <strong>Vector</strong> ä¸Šæ‰§è¡Œçš„æ‰€æœ‰æ“ä½œä¹Ÿå¯ä»¥åœ¨ <strong>Stack</strong> ä¸Šæ‰§è¡Œï¼Œä¾‹å¦‚ <code>elementAt()</code> ã€‚</p><p>å¦‚å‰æ‰€è¿°ï¼Œåœ¨éœ€è¦æ ˆè¡Œä¸ºæ—¶ä½¿ç”¨ <strong>LinkedList</strong> ï¼Œæˆ–è€…ä» <strong>LinkedList</strong> ç±»åˆ›å»ºçš„ <strong>onjava.Stack</strong> ç±»ã€‚</p><!-- BitSet --><h3 id="bitset" tabindex="-1"><a class="header-anchor" href="#bitset" aria-hidden="true">#</a> BitSet</h3><p><strong>BitSet</strong> ç”¨äºæœ‰æ•ˆåœ°å­˜å‚¨å¤§é‡çš„å¼€å…³ä¿¡æ¯ã€‚ä»…ä»å°ºå¯¸å¤§å°çš„è§’åº¦æ¥çœ‹å®ƒæ˜¯æœ‰æ•ˆçš„ï¼Œå¦‚æœä½ æ­£åœ¨å¯»æ‰¾æœ‰æ•ˆçš„è®¿é—®ï¼Œå®ƒæ¯”ä½¿ç”¨æœ¬æœºæ•°ç»„ï¼ˆnative arrayï¼‰ç¨æ…¢ã€‚</p><p>æ­¤å¤–ï¼Œ <strong>BitSet</strong> çš„æœ€å°å¤§å°æ˜¯ <strong>long</strong> ï¼š64ä½ã€‚è¿™æ„å‘³ç€å¦‚æœä½ è¦å­˜å‚¨æ›´å°çš„ä¸œè¥¿ï¼Œæ¯”å¦‚8ä½ï¼Œ <strong>BitSet</strong> å°±æ˜¯æµªè´¹ï¼Œå¦‚æœå°ºå¯¸æœ‰é—®é¢˜ï¼Œä½ æœ€å¥½åˆ›å»ºè‡ªå·±çš„ç±»ï¼Œæˆ–è€…åªæ˜¯ç”¨ä¸€ä¸ªæ•°ç»„æ¥ä¿å­˜ä½ çš„æ ‡å¿—ã€‚ï¼ˆåªæœ‰åœ¨ä½ åˆ›å»ºè®¸å¤šåŒ…å«å¼€å…³ä¿¡æ¯åˆ—è¡¨çš„å¯¹è±¡æ—¶æ‰ä¼šå‡ºç°è¿™ç§æƒ…å†µï¼Œå¹¶ä¸”åªåº”æ ¹æ®åˆ†æå’Œå…¶ä»–æŒ‡æ ‡æ¥å†³å®šã€‚å¦‚æœä½ åšå‡ºæ­¤å†³å®šåªæ˜¯å› ä¸ºæ‚¨è®¤ä¸º <strong>BitSet</strong> å¤ªå¤§ï¼Œé‚£ä¹ˆæœ€ç»ˆä¼šäº§ç”Ÿä¸å¿…è¦çš„å¤æ‚æ€§å¹¶ä¸”æµªè´¹å¤§é‡æ—¶é—´ã€‚ï¼‰</p><p>å½“æ·»åŠ æ›´å¤šå…ƒç´ æ—¶ï¼Œæ™®é€šé›†åˆä¼šæ‰©å±•ï¼Œ <strong>BitSet</strong>ä¹Ÿä¼šè¿™æ ·åšã€‚ä»¥ä¸‹ç¤ºä¾‹æ˜¾ç¤ºäº† <strong>BitSet</strong> çš„å·¥ä½œåŸç†ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// collectiontopics/Bits.java</span>
<span class="token comment">// Demonstration of BitSet</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Bits</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">printBitSet</span><span class="token punctuation">(</span><span class="token class-name">BitSet</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;bits: &quot;</span> <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">StringBuilder</span> bbits <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> b<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
      bbits<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;1&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;bit pattern: &quot;</span> <span class="token operator">+</span> bbits<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Random</span> rand <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token number">47</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Take the LSB of nextInt():</span>
    <span class="token keyword">byte</span> bt <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span>rand<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">BitSet</span> bb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BitSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> i<span class="token punctuation">)</span> <span class="token operator">&amp;</span>  bt<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
        bb<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">else</span>
        bb<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;byte value: &quot;</span> <span class="token operator">+</span> bt<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printBitSet</span><span class="token punctuation">(</span>bb<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">short</span> st <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">short</span><span class="token punctuation">)</span>rand<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">BitSet</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BitSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> i<span class="token punctuation">)</span> <span class="token operator">&amp;</span>  st<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
        bs<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">else</span>
        bs<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;short value: &quot;</span> <span class="token operator">+</span> st<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printBitSet</span><span class="token punctuation">(</span>bs<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">int</span> it <span class="token operator">=</span> rand<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">BitSet</span> bi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BitSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">31</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> i<span class="token punctuation">)</span> <span class="token operator">&amp;</span>  it<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
        bi<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">else</span>
        bi<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;int value: &quot;</span> <span class="token operator">+</span> it<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printBitSet</span><span class="token punctuation">(</span>bi<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Test bitsets &gt;= 64 bits:</span>
    <span class="token class-name">BitSet</span> b127 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BitSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    b127<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">127</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;set bit 127: &quot;</span> <span class="token operator">+</span> b127<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">BitSet</span> b255 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BitSet</span><span class="token punctuation">(</span><span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    b255<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;set bit 255: &quot;</span> <span class="token operator">+</span> b255<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">BitSet</span> b1023 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BitSet</span><span class="token punctuation">(</span><span class="token number">512</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    b1023<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">1023</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    b1023<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;set bit 1023: &quot;</span> <span class="token operator">+</span> b1023<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
byte value: -107
bits: {0, 2, 4, 7}
bit pattern: 101010010000000000000000000000000000000000
0000000000000000000000
short value: 1302
bits: {1, 2, 4, 8, 10}
bit pattern: 011010001010000000000000000000000000000000
0000000000000000000000
int value: -2014573909
bits: {0, 1, 3, 5, 7, 9, 11, 18, 19, 21, 22, 23, 24,
25, 26, 31}
bit pattern: 110101010101000000110111111000010000000000
0000000000000000000000
set bit 127: {127}
set bit 255: {255}
set bit 1023: {1023, 1024}
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>éšæœºæ•°ç”Ÿæˆå™¨ç”¨äºåˆ›å»ºéšæœº <strong>byte</strong> ï¼Œ <strong>short</strong> å’Œ <strong>int</strong> ï¼Œå¹¶ä¸”æ¯ä¸ªéƒ½åœ¨ <strong>BitSet</strong> ä¸­è½¬æ¢ä¸ºç›¸åº”çš„ä½æ¨¡å¼ã€‚è¿™æ ·å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œå› ä¸º <strong>BitSet</strong> æ˜¯64ä½ï¼Œæ‰€ä»¥è¿™äº›éƒ½ä¸ä¼šå¯¼è‡´å®ƒçš„å¤§å°å¢åŠ ï¼Œç„¶ååˆ›å»ºæ›´å¤§çš„ <strong>BitSet</strong> ã€‚ è¯·æ³¨æ„ï¼Œ <strong>BitSet</strong> ä¼šæ ¹æ®éœ€è¦è¿›è¡Œæ‰©å±•ã€‚</p><p>å¯¹äºå¯ä»¥å‘½åçš„å›ºå®šæ ‡å¿—é›†ï¼Œ <strong>EnumSet</strong> ï¼ˆå‚è§<a href="">ç¬¬äºŒåäºŒç« ï¼šæšä¸¾</a>ç« èŠ‚ï¼‰é€šå¸¸æ¯” <strong>BitSet</strong> æ›´å¥½ï¼Œå› ä¸º <strong>EnumSet</strong> å…è®¸æ“ä½œåç§°è€Œä¸æ˜¯æ•°å­—ä½ä½ç½®ï¼Œä»è€Œå¯ä»¥å‡å°‘é”™è¯¯ã€‚ <strong>EnumSet</strong> è¿˜å¯ä»¥é˜²æ­¢æ„å¤–åœ°æ·»åŠ æ–°çš„æ ‡è®°ä½ç½®ï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´ä¸€äº›ä¸¥é‡çš„ï¼Œéš¾ä»¥å‘ç°çš„é”™è¯¯ã€‚ä½¿ç”¨ <strong>BitSet</strong> è€Œä¸æ˜¯ <strong>EnumSet</strong> çš„å”¯ä¸€åŸå› æ˜¯ï¼Œä¸çŸ¥é“åœ¨è¿è¡Œæ—¶éœ€è¦å¤šå°‘æ ‡å¿—ï¼Œæˆ–è€…ä¸ºæ ‡å¿—åˆ†é…åç§°æ˜¯ä¸åˆç†çš„ï¼Œæˆ–è€…éœ€è¦ <strong>BitSet</strong> ä¸­çš„ä¸€ä¸ªç‰¹æ®Šæ“ä½œï¼ˆè¯·å‚é˜… <strong>BitSet</strong> å’Œ <strong>EnumSet</strong> çš„ JDK æ–‡æ¡£ï¼‰ã€‚</p><!-- Summary --><h2 id="æœ¬ç« å°ç»“" tabindex="-1"><a class="header-anchor" href="#æœ¬ç« å°ç»“" aria-hidden="true">#</a> æœ¬ç« å°ç»“</h2><p>é›†åˆå¯ä»¥è¯´æ˜¯ç¼–ç¨‹è¯­è¨€ä¸­æœ€å¸¸ç”¨çš„å·¥å…·ã€‚æœ‰äº›è¯­è¨€ï¼ˆä¾‹å¦‚Pythonï¼‰ç”šè‡³å°†åŸºæœ¬é›†åˆç»„ä»¶ï¼ˆåˆ—è¡¨ï¼Œæ˜ å°„å’Œé›†åˆï¼‰ä½œä¸ºå†…ç½®å‡½æ•°åŒ…å«åœ¨å…¶ä¸­ã€‚</p><p>æ­£å¦‚åœ¨<a href="">ç¬¬åäºŒç« ï¼šé›†åˆ</a>ç« èŠ‚ä¸­çœ‹åˆ°çš„é‚£æ ·ï¼Œå¯ä»¥ä½¿ç”¨é›†åˆæ‰§è¡Œè®¸å¤šéå¸¸æœ‰ç”¨çš„æ“ä½œï¼Œè€Œä¸éœ€è¦å¤ªå¤šåŠªåŠ›ã€‚ä½†æ˜¯ï¼Œåœ¨æŸäº›æ—¶å€™ï¼Œä¸ºäº†æ­£ç¡®åœ°ä½¿ç”¨å®ƒä»¬è€Œä¸å¾—ä¸æ›´å¤šåœ°äº†è§£é›†åˆï¼Œç‰¹åˆ«æ˜¯ï¼Œå¿…é¡»å……åˆ†äº†è§£æ•£åˆ—æ“ä½œä»¥ç¼–å†™è‡ªå·±çš„ <code>hashCode()</code> æ–¹æ³•ï¼ˆå¹¶ä¸”å¿…é¡»çŸ¥é“ä½•æ—¶éœ€è¦ï¼‰ï¼Œå¹¶ä¸”ä½ å¿…é¡»å……åˆ†äº†è§£å„ç§é›†åˆå®ç°ï¼Œä»¥æ ¹æ®ä½ çš„éœ€æ±‚é€‰æ‹©åˆé€‚çš„é›†åˆã€‚æœ¬é™„å½•æ¶µç›–äº†è¿™äº›æ¦‚å¿µï¼Œå¹¶è®¨è®ºäº†æœ‰å…³é›†åˆåº“çš„å…¶ä»–æœ‰ç”¨è¯¦ç»†ä¿¡æ¯ã€‚ä½ ç°åœ¨åº”è¯¥å·²ç»å‡†å¤‡å¥½åœ¨æ—¥å¸¸ç¼–ç¨‹ä»»åŠ¡ä¸­ä½¿ç”¨ Java é›†åˆäº†ã€‚</p><p>é›†åˆåº“çš„è®¾è®¡å¾ˆå›°éš¾ï¼ˆå¤§å¤šæ•°åº“è®¾è®¡é—®é¢˜éƒ½æ˜¯å¦‚æ­¤ï¼‰ã€‚åœ¨ C++ ä¸­ï¼Œé›†åˆç±»æ¶µç›–äº†è®¸å¤šä¸åŒç±»çš„åŸºç¡€ã€‚è¿™æ¯”ä¹‹å‰å¯ç”¨çš„ C++ é›†åˆç±»æ›´å¥½ï¼Œä½†å®ƒæ²¡æœ‰å¾ˆå¥½åœ°è½¬æ¢ä¸º Java ã€‚åœ¨å¦ä¸€ä¸ªæç«¯ï¼Œæˆ‘çœ‹åˆ°äº†ä¸€ä¸ªç”±å•ä¸ªç±»â€œcollectionâ€ç»„æˆçš„é›†åˆåº“ï¼Œå®ƒåŒæ—¶å……å½“çº¿æ€§åºåˆ—å’Œå…³è”æ•°ç»„ã€‚ Java é›†åˆåº“è¯•å›¾åœ¨åŠŸèƒ½å’Œå¤æ‚æ€§ä¹‹é—´å–å¾—å¹³è¡¡ã€‚ç»“æœåœ¨æŸäº›åœ°æ–¹çœ‹èµ·æ¥æœ‰ç‚¹å¥‡æ€ªã€‚ä¸æ—©æœŸ Java åº“ä¸­çš„ä¸€äº›å†³ç­–ä¸åŒï¼Œè¿™äº›å¥‡æ€ªçš„ä¸æ˜¯äº‹æ•…ï¼Œè€Œæ˜¯åœ¨åŸºäºå¤æ‚æ€§çš„æƒè¡¡ä¸‹è€Œä»”ç»†è€ƒè™‘çš„å†³ç­–ã€‚</p><p>[^1]: <strong>java.util</strong> ä¸­çš„ <strong>Map</strong> ä½¿ç”¨ <strong>Map</strong> çš„ <code>getKey()</code> å’Œ <code>getValue()</code> æ‰§è¡Œæ‰¹é‡å¤åˆ¶ï¼Œå› æ­¤è¿™æ˜¯æœ‰æ•ˆçš„ã€‚å¦‚æœè‡ªå®šä¹‰ <strong>Map</strong> åªæ˜¯å¤åˆ¶æ•´ä¸ª <strong>Map.Entry</strong> ï¼Œé‚£ä¹ˆè¿™ç§æ–¹æ³•å°±ä¼šå‡ºç°é—®é¢˜ã€‚</p><p>[^2]: è™½ç„¶å½“æˆ‘ç”¨è¿™ç§æ–¹å¼æè¿°å®ƒçš„æ—¶å€™å¬èµ·æ¥å¾ˆå¥‡æ€ªè€Œä¸”å¥½åƒæ²¡ä»€ä¹ˆç”¨å¤„ï¼Œä½†åœ¨<a href="">ç¬¬åä¹ç«  ç±»å‹ä¿¡æ¯</a>ç« èŠ‚ä¸­å·²ç»çœ‹åˆ°è¿‡ï¼Œè¿™ç§åŠ¨æ€è¡Œä¸ºä¹Ÿå¯ä»¥éå¸¸å¼ºå¤§æœ‰ç”¨ã€‚</p><p>[^3]: å¦‚æœè¿™äº›åŠ é€Ÿä»ç„¶æ— æ³•æ»¡è¶³æ€§èƒ½éœ€æ±‚ï¼Œåˆ™å¯ä»¥é€šè¿‡ç¼–å†™è‡ªå·±çš„ <strong>Map</strong> å¹¶å°†å…¶è‡ªå®šä¹‰ä¸ºç‰¹å®šç±»å‹æ¥è¿›ä¸€æ­¥åŠ é€Ÿè¡¨æŸ¥æ‰¾ï¼Œä»¥é¿å…å› å‘ <strong>å¯¹è±¡</strong> è½¬æ¢è€Œå¯¼è‡´çš„å»¶è¿Ÿã€‚ä¸ºäº†è¾¾åˆ°æ›´é«˜çš„æ€§èƒ½æ°´å¹³ï¼Œé€Ÿåº¦çˆ±å¥½è€…å¯ä»¥ä½¿ç”¨ Donald Knuth çš„ã€Šè®¡ç®—æœºç¨‹åºè®¾è®¡è‰ºæœ¯ï¼ˆç¬¬3å·ï¼‰ï¼šæ’åºä¸æŸ¥æ‰¾ã€‹ï¼ˆç¬¬äºŒç‰ˆï¼‰ï¼Œå°†æº¢å‡ºæ¡¶åˆ—è¡¨ï¼ˆoverflow bucket listsï¼‰æ›¿æ¢ä¸ºå…·æœ‰ä¸¤ä¸ªé¢å¤–ä¼˜åŠ¿çš„é˜µåˆ—ï¼šå®ƒä»¬å¯ä»¥é’ˆå¯¹ç£ç›˜å­˜å‚¨è¿›è¡Œä¼˜åŒ–ï¼Œå¹¶ä¸”å®ƒä»¬å¯ä»¥èŠ‚çœå¤§éƒ¨åˆ†åˆ›å»ºå’Œå›æ”¶ä¸ªåˆ«è®°å½•ï¼ˆindividual recordsï¼‰çš„æ—¶é—´ã€‚</p><!-- åˆ†é¡µ --><div style="page-break-after:always;"></div></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/xszhu522/OnJava8/edit/vuepress-theme-hope/docs/book/Appendix-Collection-Topics.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: 1326670425@qq.com">1326670425</span>,<!--]--><!--[--><span class="contributor" title="email: lingcoder@gmail.com">LingCoder</span>,<!--]--><!--[--><span class="contributor" title="email: 1184264181@qq.com">Hao Lin</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a aria-label="é™„å½•:é™æ€è¯­è¨€ç±»å‹æ£€æŸ¥" class="vp-link nav-link prev nav-link prev" href="/OnJava8/book/Appendix-Benefits-and-Costs-of-Static-Type-Checking.html"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->é™„å½•:é™æ€è¯­è¨€ç±»å‹æ£€æŸ¥</div></a><a aria-label="é™„å½•:æ•°æ®å‹ç¼©" class="vp-link nav-link next nav-link next" href="/OnJava8/book/Appendix-Data-Compression.html"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">é™„å½•:æ•°æ®å‹ç¼©<!----></div></a></nav><div id="comment" class="giscus-wrapper input-top" style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><!----><div class="vp-copyright">Copyright Â© 2023 xszhu522</div></footer></div><!--]--><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/OnJava8/assets/app-8cd7c144.js" defer></script>
  </body>
</html>
