<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-beta.67" />
    <meta name="theme" content="VuePress Theme Hope" />
    <meta property="og:url" content="https://xszhu522.github.io/OnJava8/book/18-Strings.html"><meta property="og:site_name" content="On Java 8"><meta property="og:title" content="ç¬¬åå…«ç«  å­—ç¬¦ä¸²"><meta property="og:description" content="[TOC] å­—ç¬¦ä¸²æ“ä½œæ¯«æ— ç–‘é—®æ˜¯è®¡ç®—æœºç¨‹åºè®¾è®¡ä¸­æœ€å¸¸è§çš„è¡Œä¸ºä¹‹ä¸€ã€‚ åœ¨ Java å¤§å±•æ‹³è„šçš„ Web ç³»ç»Ÿä¸­æ›´æ˜¯å¦‚æ­¤ã€‚åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥å­¦ä¹ åœ¨ Java è¯­è¨€ä¸­åº”ç”¨æœ€å¹¿æ³›çš„ String ç±»ï¼Œå¹¶ç ”ç©¶ä¸ä¹‹ç›¸å…³çš„ç±»åŠå·¥å…·ã€‚ å­—ç¬¦ä¸²çš„ä¸å¯å˜ String å¯¹è±¡æ˜¯ä¸å¯å˜çš„ã€‚æŸ¥çœ‹ JDK æ–‡æ¡£ä½ å°±ä¼šå‘ç°ï¼ŒString ç±»ä¸­æ¯ä¸€ä¸ªçœ‹èµ·æ¥ä¼šä¿®æ”¹ String å€¼çš„..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2020-10-09T08:11:51.000Z"><meta property="article:author" content="xszhu522"><meta property="article:modified_time" content="2020-10-09T08:11:51.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"ç¬¬åå…«ç«  å­—ç¬¦ä¸²","image":[""],"dateModified":"2020-10-09T08:11:51.000Z","author":[{"@type":"Person","name":"xszhu522","url":"https://xszhu522.github.io"}]}</script><title>ç¬¬åå…«ç«  å­—ç¬¦ä¸² | On Java 8</title><meta name="description" content="[TOC] å­—ç¬¦ä¸²æ“ä½œæ¯«æ— ç–‘é—®æ˜¯è®¡ç®—æœºç¨‹åºè®¾è®¡ä¸­æœ€å¸¸è§çš„è¡Œä¸ºä¹‹ä¸€ã€‚ åœ¨ Java å¤§å±•æ‹³è„šçš„ Web ç³»ç»Ÿä¸­æ›´æ˜¯å¦‚æ­¤ã€‚åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥å­¦ä¹ åœ¨ Java è¯­è¨€ä¸­åº”ç”¨æœ€å¹¿æ³›çš„ String ç±»ï¼Œå¹¶ç ”ç©¶ä¸ä¹‹ç›¸å…³çš„ç±»åŠå·¥å…·ã€‚ å­—ç¬¦ä¸²çš„ä¸å¯å˜ String å¯¹è±¡æ˜¯ä¸å¯å˜çš„ã€‚æŸ¥çœ‹ JDK æ–‡æ¡£ä½ å°±ä¼šå‘ç°ï¼ŒString ç±»ä¸­æ¯ä¸€ä¸ªçœ‹èµ·æ¥ä¼šä¿®æ”¹ String å€¼çš„...">
    <style>
      :root {
        --bg-color: #fff;
      }

      html[data-theme="dark"] {
        --bg-color: #1d1e1f;
      }

      html,
      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <link rel="preload" href="/OnJava8/assets/style-3fb0a506.css" as="style"><link rel="stylesheet" href="/OnJava8/assets/style-3fb0a506.css">
    <link rel="modulepreload" href="/OnJava8/assets/app-f910849f.js"><link rel="modulepreload" href="/OnJava8/assets/18-Strings.html-b6d7176a.js"><link rel="modulepreload" href="/OnJava8/assets/18-Strings.html-7d668196.js"><link rel="modulepreload" href="/OnJava8/assets/plugin-vue_export-helper-c27b6911.js"><link rel="prefetch" href="/OnJava8/assets/index.html-9040ef01.js" as="script"><link rel="prefetch" href="/OnJava8/assets/coverpage.html-2d7c242d.js" as="script"><link rel="prefetch" href="/OnJava8/assets/00-Introduction.html-eaf49a2e.js" as="script"><link rel="prefetch" href="/OnJava8/assets/00-On-Java-8.html-a8fe88ea.js" as="script"><link rel="prefetch" href="/OnJava8/assets/00-Preface.html-33e8e601.js" as="script"><link rel="prefetch" href="/OnJava8/assets/01-What-is-an-Object.html-f37b3b40.js" as="script"><link rel="prefetch" href="/OnJava8/assets/02-Installing-Java-and-the-Book-Examples.html-c84afff7.js" as="script"><link rel="prefetch" href="/OnJava8/assets/03-Objects-Everywhere.html-beea03fa.js" as="script"><link rel="prefetch" href="/OnJava8/assets/04-Operators.html-323f3057.js" as="script"><link rel="prefetch" href="/OnJava8/assets/05-Control-Flow.html-bf18cc56.js" as="script"><link rel="prefetch" href="/OnJava8/assets/06-Housekeeping.html-e508181e.js" as="script"><link rel="prefetch" href="/OnJava8/assets/07-Implementation-Hiding.html-9af46ea9.js" as="script"><link rel="prefetch" href="/OnJava8/assets/08-Reuse.html-f97f523b.js" as="script"><link rel="prefetch" href="/OnJava8/assets/09-Polymorphism.html-41b7d772.js" as="script"><link rel="prefetch" href="/OnJava8/assets/10-Interfaces.html-afcf9254.js" as="script"><link rel="prefetch" href="/OnJava8/assets/11-Inner-Classes.html-adbf7418.js" as="script"><link rel="prefetch" href="/OnJava8/assets/12-Collections.html-dc2016be.js" as="script"><link rel="prefetch" href="/OnJava8/assets/13-Functional-Programming.html-368d74ac.js" as="script"><link rel="prefetch" href="/OnJava8/assets/14-Streams.html-edb0d6ae.js" as="script"><link rel="prefetch" href="/OnJava8/assets/15-Exceptions.html-162f70de.js" as="script"><link rel="prefetch" href="/OnJava8/assets/16-Validating-Your-Code.html-dff757e2.js" as="script"><link rel="prefetch" href="/OnJava8/assets/17-Files.html-838bdaa3.js" as="script"><link rel="prefetch" href="/OnJava8/assets/19-Type-Information.html-1d0b2d38.js" as="script"><link rel="prefetch" href="/OnJava8/assets/20-Generics.html-e5bc5ce5.js" as="script"><link rel="prefetch" href="/OnJava8/assets/21-Arrays.html-dfd4b9c2.js" as="script"><link rel="prefetch" href="/OnJava8/assets/22-Enumerations.html-86f0e001.js" as="script"><link rel="prefetch" href="/OnJava8/assets/23-Annotations.html-0c47a09d.js" as="script"><link rel="prefetch" href="/OnJava8/assets/24-Concurrent-Programming.html-294153f0.js" as="script"><link rel="prefetch" href="/OnJava8/assets/25-Patterns.html-3d56a821.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Becoming-a-Programmer.html-cc89cd30.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Benefits-and-Costs-of-Static-Type-Checking.html-24edb6d7.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Collection-Topics.html-52d49969.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Data-Compression.html-228c62f5.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-IO-Streams.html-5d583abd.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Javadoc.html-c66f92ca.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Low-Level-Concurrency.html-7339dbfe.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-New-IO.html-c5368fa3.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Object-Serialization.html-17708ac0.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Passing-and-Returning-Objects.html-c7f2017f.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Programming-Guidelines.html-7da455c2.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Standard-IO.html-84dd3a9b.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Supplements.html-ad0c06dd.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-The-Positive-Legacy-of-C-plus-plus-and-Java.html-7a78a5af.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Understanding-equals-and-hashCode.html-f96f89b9.js" as="script"><link rel="prefetch" href="/OnJava8/assets/GLOSSARY.html-601bb92d.js" as="script"><link rel="prefetch" href="/OnJava8/assets/MYWORD.html-46d53d67.js" as="script"><link rel="prefetch" href="/OnJava8/assets/index.html-63c1d859.js" as="script"><link rel="prefetch" href="/OnJava8/assets/404.html-04cd5334.js" as="script"><link rel="prefetch" href="/OnJava8/assets/index.html-6224b1d9.js" as="script"><link rel="prefetch" href="/OnJava8/assets/coverpage.html-a5f4edd0.js" as="script"><link rel="prefetch" href="/OnJava8/assets/00-Introduction.html-937176cc.js" as="script"><link rel="prefetch" href="/OnJava8/assets/00-On-Java-8.html-45ff47f3.js" as="script"><link rel="prefetch" href="/OnJava8/assets/00-Preface.html-c622168b.js" as="script"><link rel="prefetch" href="/OnJava8/assets/01-What-is-an-Object.html-258aab78.js" as="script"><link rel="prefetch" href="/OnJava8/assets/02-Installing-Java-and-the-Book-Examples.html-6c2ef8fe.js" as="script"><link rel="prefetch" href="/OnJava8/assets/03-Objects-Everywhere.html-cb22980a.js" as="script"><link rel="prefetch" href="/OnJava8/assets/04-Operators.html-45217991.js" as="script"><link rel="prefetch" href="/OnJava8/assets/05-Control-Flow.html-c874afbf.js" as="script"><link rel="prefetch" href="/OnJava8/assets/06-Housekeeping.html-972e969a.js" as="script"><link rel="prefetch" href="/OnJava8/assets/07-Implementation-Hiding.html-ec574ec5.js" as="script"><link rel="prefetch" href="/OnJava8/assets/08-Reuse.html-1c0b0e71.js" as="script"><link rel="prefetch" href="/OnJava8/assets/09-Polymorphism.html-ee1b1915.js" as="script"><link rel="prefetch" href="/OnJava8/assets/10-Interfaces.html-5f3a8bbe.js" as="script"><link rel="prefetch" href="/OnJava8/assets/11-Inner-Classes.html-2d056c94.js" as="script"><link rel="prefetch" href="/OnJava8/assets/12-Collections.html-70b65c83.js" as="script"><link rel="prefetch" href="/OnJava8/assets/13-Functional-Programming.html-986a44dd.js" as="script"><link rel="prefetch" href="/OnJava8/assets/14-Streams.html-6c131f04.js" as="script"><link rel="prefetch" href="/OnJava8/assets/15-Exceptions.html-632887e6.js" as="script"><link rel="prefetch" href="/OnJava8/assets/16-Validating-Your-Code.html-fc22a0a5.js" as="script"><link rel="prefetch" href="/OnJava8/assets/17-Files.html-1c0f933a.js" as="script"><link rel="prefetch" href="/OnJava8/assets/19-Type-Information.html-68020d96.js" as="script"><link rel="prefetch" href="/OnJava8/assets/20-Generics.html-698e4347.js" as="script"><link rel="prefetch" href="/OnJava8/assets/21-Arrays.html-7cf7c7c5.js" as="script"><link rel="prefetch" href="/OnJava8/assets/22-Enumerations.html-3be9ddac.js" as="script"><link rel="prefetch" href="/OnJava8/assets/23-Annotations.html-5437a43a.js" as="script"><link rel="prefetch" href="/OnJava8/assets/24-Concurrent-Programming.html-3cd1a98f.js" as="script"><link rel="prefetch" href="/OnJava8/assets/25-Patterns.html-7b04b960.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Becoming-a-Programmer.html-5373cc90.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Benefits-and-Costs-of-Static-Type-Checking.html-394f2e11.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Collection-Topics.html-8cddbcd6.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Data-Compression.html-3b3583b3.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-IO-Streams.html-4616b021.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Javadoc.html-192b7ef3.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Low-Level-Concurrency.html-11c25911.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-New-IO.html-0b06b27e.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Object-Serialization.html-e9c2f80d.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Passing-and-Returning-Objects.html-806dc68f.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Programming-Guidelines.html-0625925c.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Standard-IO.html-b4843c59.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Supplements.html-ba97e2f3.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-The-Positive-Legacy-of-C-plus-plus-and-Java.html-739640c3.js" as="script"><link rel="prefetch" href="/OnJava8/assets/Appendix-Understanding-equals-and-hashCode.html-78b8eff1.js" as="script"><link rel="prefetch" href="/OnJava8/assets/GLOSSARY.html-2e9e6137.js" as="script"><link rel="prefetch" href="/OnJava8/assets/MYWORD.html-ce242754.js" as="script"><link rel="prefetch" href="/OnJava8/assets/index.html-40036f93.js" as="script"><link rel="prefetch" href="/OnJava8/assets/404.html-e7bcc212.js" as="script"><link rel="prefetch" href="/OnJava8/assets/giscus-0b7adcf8.js" as="script"><link rel="prefetch" href="/OnJava8/assets/photoswipe.esm-1464cdb9.js" as="script"><link rel="prefetch" href="/OnJava8/assets/SearchResult-3a48235e.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="vp-link vp-brand vp-brand" href="/OnJava8/"><img class="vp-nav-logo" src="/OnJava8/LogoMark.png" alt="On Java 8"><!----><span class="vp-site-name hide-in-pad">On Java 8</span></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="nav-item hide-in-mobile"><a aria-label="é¡¹ç›®ä¸»é¡µ" class="vp-link nav-link nav-link" href="/OnJava8/"><span class="font-icon icon fa-fw fa-sm fas fa-home" style=""></span>é¡¹ç›®ä¸»é¡µ<!----></a></div><div class="nav-item hide-in-mobile"><a aria-label="OnJava8" class="vp-link nav-link active nav-link active" href="/OnJava8/book/"><span class="font-icon icon fa-fw fa-sm fas fa-book" style=""></span>OnJava8<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><div class="nav-item vp-repo"><a class="vp-repo-link" href="https://github.com/xszhu522/OnJava8" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><svg xmlns="http://www.w3.org/2000/svg" class="icon github-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="github icon" style="width:1.25rem;height:1.25rem;vertical-align:middle;"><path d="M511.957 21.333C241.024 21.333 21.333 240.981 21.333 512c0 216.832 140.544 400.725 335.574 465.664 24.49 4.395 32.256-10.07 32.256-23.083 0-11.69.256-44.245 0-85.205-136.448 29.61-164.736-64.64-164.736-64.64-22.315-56.704-54.4-71.765-54.4-71.765-44.587-30.464 3.285-29.824 3.285-29.824 49.195 3.413 75.179 50.517 75.179 50.517 43.776 75.008 114.816 53.333 142.762 40.79 4.523-31.66 17.152-53.377 31.19-65.537-108.971-12.458-223.488-54.485-223.488-242.602 0-53.547 19.114-97.323 50.517-131.67-5.035-12.33-21.93-62.293 4.779-129.834 0 0 41.258-13.184 134.912 50.346a469.803 469.803 0 0 1 122.88-16.554c41.642.213 83.626 5.632 122.88 16.554 93.653-63.488 134.784-50.346 134.784-50.346 26.752 67.541 9.898 117.504 4.864 129.834 31.402 34.347 50.474 78.123 50.474 131.67 0 188.586-114.73 230.016-224.042 242.09 17.578 15.232 33.578 44.672 33.578 90.454v135.85c0 13.142 7.936 27.606 32.854 22.87C862.25 912.597 1002.667 728.747 1002.667 512c0-271.019-219.648-490.667-490.71-490.667z"></path></svg></a></div><div class="nav-item hide-in-mobile"><button type="button" class="outlook-button" tabindex="-1" aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" class="icon outlook-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="outlook icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4 38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32 51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0 102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2 6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4 0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2 9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224 419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4 470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0 22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6 12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128 505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2 16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8 86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4 80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6 6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg><div class="outlook-dropdown"><!----></div></button></div><!--[--><button type="button" class="search-pro-button" role="search" aria-label="æœç´¢"><svg xmlns="http://www.w3.org/2000/svg" class="icon search-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="search icon"><path d="M192 480a256 256 0 1 1 512 0 256 256 0 0 1-512 0m631.776 362.496-143.2-143.168A318.464 318.464 0 0 0 768 480c0-176.736-143.264-320-320-320S128 303.264 128 480s143.264 320 320 320a318.016 318.016 0 0 0 184.16-58.592l146.336 146.368c12.512 12.48 32.768 12.48 45.28 0 12.48-12.512 12.48-32.768 0-45.28"></path></svg><div class="search-pro-placeholder">æœç´¢</div><div class="search-pro-key-hints"><kbd class="search-pro-key">Ctrl</kbd><kbd class="search-pro-key">K</kbd></div></button><!--]--><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><!--[--><a aria-label="ç›®å½•" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/"><!---->ç›®å½•<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="è¯‘è€…çš„è¯" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/MYWORD.html"><!---->è¯‘è€…çš„è¯<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="å°é¢" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/00-On-Java-8.html"><!---->å°é¢<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="å‰è¨€" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/00-Preface.html"><!---->å‰è¨€<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç®€ä»‹" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/00-Introduction.html"><!---->ç®€ä»‹<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬ä¸€ç«  å¯¹è±¡çš„æ¦‚å¿µ" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/01-What-is-an-Object.html"><!---->ç¬¬ä¸€ç«  å¯¹è±¡çš„æ¦‚å¿µ<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬äºŒç«  å®‰è£…Javaå’Œæœ¬ä¹¦ç”¨ä¾‹" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/02-Installing-Java-and-the-Book-Examples.html"><!---->ç¬¬äºŒç«  å®‰è£…Javaå’Œæœ¬ä¹¦ç”¨ä¾‹<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬ä¸‰ç«  ä¸‡ç‰©çš†å¯¹è±¡" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/03-Objects-Everywhere.html"><!---->ç¬¬ä¸‰ç«  ä¸‡ç‰©çš†å¯¹è±¡<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬å››ç«  è¿ç®—ç¬¦" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/04-Operators.html"><!---->ç¬¬å››ç«  è¿ç®—ç¬¦<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬äº”ç«  æ§åˆ¶æµ" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/05-Control-Flow.html"><!---->ç¬¬äº”ç«  æ§åˆ¶æµ<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬å…­ç«  åˆå§‹åŒ–å’Œæ¸…ç†" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/06-Housekeeping.html"><!---->ç¬¬å…­ç«  åˆå§‹åŒ–å’Œæ¸…ç†<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬ä¸ƒç«  å°è£…" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/07-Implementation-Hiding.html"><!---->ç¬¬ä¸ƒç«  å°è£…<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬å…«ç«  å¤ç”¨" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/08-Reuse.html"><!---->ç¬¬å…«ç«  å¤ç”¨<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬ä¹ç«  å¤šæ€" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/09-Polymorphism.html"><!---->ç¬¬ä¹ç«  å¤šæ€<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬åç«  æ¥å£" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/10-Interfaces.html"><!---->ç¬¬åç«  æ¥å£<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬åä¸€ç«  å†…éƒ¨ç±»" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/11-Inner-Classes.html"><!---->ç¬¬åä¸€ç«  å†…éƒ¨ç±»<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬åäºŒç«  é›†åˆ" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/12-Collections.html"><!---->ç¬¬åäºŒç«  é›†åˆ<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬åä¸‰ç«  å‡½æ•°å¼ç¼–ç¨‹" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/13-Functional-Programming.html"><!---->ç¬¬åä¸‰ç«  å‡½æ•°å¼ç¼–ç¨‹<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬åå››ç«  æµå¼ç¼–ç¨‹" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/14-Streams.html"><!---->ç¬¬åå››ç«  æµå¼ç¼–ç¨‹<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬åäº”ç«  å¼‚å¸¸" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/15-Exceptions.html"><!---->ç¬¬åäº”ç«  å¼‚å¸¸<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬åå…­ç«  ä»£ç æ ¡éªŒ" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/16-Validating-Your-Code.html"><!---->ç¬¬åå…­ç«  ä»£ç æ ¡éªŒ<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬åä¸ƒç«  æ–‡ä»¶" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/17-Files.html"><!---->ç¬¬åä¸ƒç«  æ–‡ä»¶<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬åå…«ç«  å­—ç¬¦ä¸²" class="vp-link nav-link active vp-sidebar-link vp-sidebar-page active nav-link active vp-sidebar-link vp-sidebar-page active" href="/OnJava8/book/18-Strings.html"><!---->ç¬¬åå…«ç«  å­—ç¬¦ä¸²<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="å­—ç¬¦ä¸²çš„ä¸å¯å˜" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#å­—ç¬¦ä¸²çš„ä¸å¯å˜"><!---->å­—ç¬¦ä¸²çš„ä¸å¯å˜<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="+ çš„é‡è½½ä¸ StringBuilder" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#çš„é‡è½½ä¸-stringbuilder"><!---->+ çš„é‡è½½ä¸ StringBuilder<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æ„å¤–é€’å½’" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#æ„å¤–é€’å½’"><!---->æ„å¤–é€’å½’<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="å­—ç¬¦ä¸²æ“ä½œ" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#å­—ç¬¦ä¸²æ“ä½œ"><!---->å­—ç¬¦ä¸²æ“ä½œ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æ ¼å¼åŒ–è¾“å‡º" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#æ ¼å¼åŒ–è¾“å‡º"><!---->æ ¼å¼åŒ–è¾“å‡º<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="printf()" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#printf"><!---->printf()<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="System.out.format()" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#system-out-format"><!---->System.out.format()<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Formatter ç±»" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#formatter-ç±»"><!---->Formatter ç±»<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æ ¼å¼åŒ–ä¿®é¥°ç¬¦" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#æ ¼å¼åŒ–ä¿®é¥°ç¬¦"><!---->æ ¼å¼åŒ–ä¿®é¥°ç¬¦<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Formatter è½¬æ¢" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#formatter-è½¬æ¢"><!---->Formatter è½¬æ¢<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="String.format()" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#string-format"><!---->String.format()<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æ­£åˆ™è¡¨è¾¾å¼" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#æ­£åˆ™è¡¨è¾¾å¼"><!---->æ­£åˆ™è¡¨è¾¾å¼<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="åŸºç¡€" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#åŸºç¡€"><!---->åŸºç¡€<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼"><!---->åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="é‡è¯" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#é‡è¯"><!---->é‡è¯<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="CharSequence" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#charsequence"><!---->CharSequence<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Pattern å’Œ Matcher" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#pattern-å’Œ-matcher"><!---->Pattern å’Œ Matcher<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="find()" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#find"><!---->find()<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ç»„ï¼ˆGroupsï¼‰" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#ç»„-groups"><!---->ç»„ï¼ˆGroupsï¼‰<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="start() å’Œ end()" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#start-å’Œ-end"><!---->start() å’Œ end()<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="Pattern æ ‡è®°" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#pattern-æ ‡è®°"><!---->Pattern æ ‡è®°<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="split()" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#split"><!---->split()<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æ›¿æ¢æ“ä½œ" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#æ›¿æ¢æ“ä½œ"><!---->æ›¿æ¢æ“ä½œ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="reset()" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#reset"><!---->reset()<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æ­£åˆ™è¡¨è¾¾å¼ä¸ Java I/O" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#æ­£åˆ™è¡¨è¾¾å¼ä¸-java-i-o"><!---->æ­£åˆ™è¡¨è¾¾å¼ä¸ Java I/O<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æ‰«æè¾“å…¥" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#æ‰«æè¾“å…¥"><!---->æ‰«æè¾“å…¥<!----></a><ul class="vp-sidebar-sub-headers"><li class="vp-sidebar-sub-header"><a aria-label="Scanner åˆ†éš”ç¬¦" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#scanner-åˆ†éš”ç¬¦"><!---->Scanner åˆ†éš”ç¬¦<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="ç”¨æ­£åˆ™è¡¨è¾¾å¼æ‰«æ" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#ç”¨æ­£åˆ™è¡¨è¾¾å¼æ‰«æ"><!---->ç”¨æ­£åˆ™è¡¨è¾¾å¼æ‰«æ<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul></li><li class="vp-sidebar-sub-header"><a aria-label="StringTokenizerç±»" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#stringtokenizerç±»"><!---->StringTokenizerç±»<!----></a><ul class="vp-sidebar-sub-headers"></ul></li><li class="vp-sidebar-sub-header"><a aria-label="æœ¬ç« å°ç»“" class="vp-link nav-link vp-sidebar-link vp-heading nav-link vp-sidebar-link vp-heading" href="/OnJava8/book/18-Strings.html#æœ¬ç« å°ç»“"><!---->æœ¬ç« å°ç»“<!----></a><ul class="vp-sidebar-sub-headers"></ul></li></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬åä¹ç«  ç±»å‹ä¿¡æ¯" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/19-Type-Information.html"><!---->ç¬¬åä¹ç«  ç±»å‹ä¿¡æ¯<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬äºŒåç«  æ³›å‹" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/20-Generics.html"><!---->ç¬¬äºŒåç«  æ³›å‹<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬äºŒåä¸€ç«  æ•°ç»„" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/21-Arrays.html"><!---->ç¬¬äºŒåä¸€ç«  æ•°ç»„<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬äºŒåäºŒç«  æšä¸¾" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/22-Enumerations.html"><!---->ç¬¬äºŒåäºŒç«  æšä¸¾<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬äºŒåä¸‰ç«  æ³¨è§£" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/23-Annotations.html"><!---->ç¬¬äºŒåä¸‰ç«  æ³¨è§£<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬äºŒåå››ç«  å¹¶å‘ç¼–ç¨‹" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/24-Concurrent-Programming.html"><!---->ç¬¬äºŒåå››ç«  å¹¶å‘ç¼–ç¨‹<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="ç¬¬äºŒåäº”ç«  è®¾è®¡æ¨¡å¼" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/25-Patterns.html"><!---->ç¬¬äºŒåäº”ç«  è®¾è®¡æ¨¡å¼<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:æˆä¸ºä¸€åç¨‹åºå‘˜" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-Becoming-a-Programmer.html"><!---->é™„å½•:æˆä¸ºä¸€åç¨‹åºå‘˜<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:é™æ€è¯­è¨€ç±»å‹æ£€æŸ¥" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-Benefits-and-Costs-of-Static-Type-Checking.html"><!---->é™„å½•:é™æ€è¯­è¨€ç±»å‹æ£€æŸ¥<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:é›†åˆä¸»é¢˜" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-Collection-Topics.html"><!---->é™„å½•:é›†åˆä¸»é¢˜<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:æ•°æ®å‹ç¼©" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-Data-Compression.html"><!---->é™„å½•:æ•°æ®å‹ç¼©<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:æµå¼IO" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-IO-Streams.html"><!---->é™„å½•:æµå¼IO<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:æ–‡æ¡£æ³¨é‡Š" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-Javadoc.html"><!---->é™„å½•:æ–‡æ¡£æ³¨é‡Š<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:å¹¶å‘åº•å±‚åŸç†" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-Low-Level-Concurrency.html"><!---->é™„å½•:å¹¶å‘åº•å±‚åŸç†<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:æ–°IO" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-New-IO.html"><!---->é™„å½•:æ–°IO<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:å¯¹è±¡åºåˆ—åŒ–" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-Object-Serialization.html"><!---->é™„å½•:å¯¹è±¡åºåˆ—åŒ–<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:å¯¹è±¡ä¼ é€’å’Œè¿”å›" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-Passing-and-Returning-Objects.html"><!---->é™„å½•:å¯¹è±¡ä¼ é€’å’Œè¿”å›<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:ç¼–ç¨‹æŒ‡å—" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-Programming-Guidelines.html"><!---->é™„å½•:ç¼–ç¨‹æŒ‡å—<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:æ ‡å‡†IO" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-Standard-IO.html"><!---->é™„å½•:æ ‡å‡†IO<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:è¡¥å……" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-Supplements.html"><!---->é™„å½•:è¡¥å……<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:C++å’ŒJavaçš„ä¼˜è‰¯ä¼ ç»Ÿ" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-The-Positive-Legacy-of-C-plus-plus-and-Java.html"><!---->é™„å½•:C++å’ŒJavaçš„ä¼˜è‰¯ä¼ ç»Ÿ<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="é™„å½•:ç†è§£equalså’ŒhashCodeæ–¹æ³•" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/Appendix-Understanding-equals-and-hashCode.html"><!---->é™„å½•:ç†è§£equalså’ŒhashCodeæ–¹æ³•<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li><li><!--[--><a aria-label="è¯æ±‡è¡¨" class="vp-link nav-link vp-sidebar-link vp-sidebar-page nav-link vp-sidebar-link vp-sidebar-page" href="/OnJava8/book/GLOSSARY.html"><!---->è¯æ±‡è¡¨<!----></a><ul class="vp-sidebar-sub-headers"></ul><!--]--></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!----><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->ç¬¬åå…«ç«  å­—ç¬¦ä¸²</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://xszhu522.github.io" target="_blank" rel="noopener noreferrer">xszhu522</a></span><span property="author" content="xszhu522"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2019-03-30T12:31:44.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="down"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 53 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT53M"></span><!----><!----></div><hr></div><div class="toc-place-holder"><aside id="toc"><!--[--><!----><!--]--><div class="toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button></div><div class="toc-wrapper"><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/OnJava8/#å­—ç¬¦ä¸²çš„ä¸å¯å˜">å­—ç¬¦ä¸²çš„ä¸å¯å˜</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/OnJava8/#çš„é‡è½½ä¸-stringbuilder">+ çš„é‡è½½ä¸ StringBuilder</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/OnJava8/#æ„å¤–é€’å½’">æ„å¤–é€’å½’</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/OnJava8/#å­—ç¬¦ä¸²æ“ä½œ">å­—ç¬¦ä¸²æ“ä½œ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/OnJava8/#æ ¼å¼åŒ–è¾“å‡º">æ ¼å¼åŒ–è¾“å‡º</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#printf">printf()</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#system-out-format">System.out.format()</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#formatter-ç±»">Formatter ç±»</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#æ ¼å¼åŒ–ä¿®é¥°ç¬¦">æ ¼å¼åŒ–ä¿®é¥°ç¬¦</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#formatter-è½¬æ¢">Formatter è½¬æ¢</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#string-format">String.format()</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/OnJava8/#æ­£åˆ™è¡¨è¾¾å¼">æ­£åˆ™è¡¨è¾¾å¼</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#åŸºç¡€">åŸºç¡€</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼">åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#é‡è¯">é‡è¯</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#charsequence">CharSequence</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#pattern-å’Œ-matcher">Pattern å’Œ Matcher</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#find">find()</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#ç»„-groups">ç»„ï¼ˆGroupsï¼‰</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#start-å’Œ-end">start() å’Œ end()</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#pattern-æ ‡è®°">Pattern æ ‡è®°</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#split">split()</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#æ›¿æ¢æ“ä½œ">æ›¿æ¢æ“ä½œ</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#reset">reset()</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#æ­£åˆ™è¡¨è¾¾å¼ä¸-java-i-o">æ­£åˆ™è¡¨è¾¾å¼ä¸ Java I/O</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/OnJava8/#æ‰«æè¾“å…¥">æ‰«æè¾“å…¥</a></li><li><ul class="toc-list"><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#scanner-åˆ†éš”ç¬¦">Scanner åˆ†éš”ç¬¦</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level3 toc-link level3" href="/OnJava8/#ç”¨æ­£åˆ™è¡¨è¾¾å¼æ‰«æ">ç”¨æ­£åˆ™è¡¨è¾¾å¼æ‰«æ</a></li><!----><!--]--></ul></li><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/OnJava8/#stringtokenizerç±»">StringTokenizerç±»</a></li><!----><!--]--><!--[--><li class="toc-item"><a class="vp-link toc-link level2 toc-link level2" href="/OnJava8/#æœ¬ç« å°ç»“">æœ¬ç« å°ç»“</a></li><!----><!--]--></ul><div class="toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!----><div class="theme-hope-content"><p>[TOC]</p><!-- Strings --><h1 id="ç¬¬åå…«ç« -å­—ç¬¦ä¸²" tabindex="-1"><a class="header-anchor" href="#ç¬¬åå…«ç« -å­—ç¬¦ä¸²" aria-hidden="true">#</a> ç¬¬åå…«ç«  å­—ç¬¦ä¸²</h1><blockquote><p>å­—ç¬¦ä¸²æ“ä½œæ¯«æ— ç–‘é—®æ˜¯è®¡ç®—æœºç¨‹åºè®¾è®¡ä¸­æœ€å¸¸è§çš„è¡Œä¸ºä¹‹ä¸€ã€‚</p></blockquote><p>åœ¨ Java å¤§å±•æ‹³è„šçš„ Web ç³»ç»Ÿä¸­æ›´æ˜¯å¦‚æ­¤ã€‚åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬å°†æ·±å…¥å­¦ä¹ åœ¨ Java è¯­è¨€ä¸­åº”ç”¨æœ€å¹¿æ³›çš„ <code>String</code> ç±»ï¼Œå¹¶ç ”ç©¶ä¸ä¹‹ç›¸å…³çš„ç±»åŠå·¥å…·ã€‚</p><!-- Immutable Strings --><h2 id="å­—ç¬¦ä¸²çš„ä¸å¯å˜" tabindex="-1"><a class="header-anchor" href="#å­—ç¬¦ä¸²çš„ä¸å¯å˜" aria-hidden="true">#</a> å­—ç¬¦ä¸²çš„ä¸å¯å˜</h2><p><code>String</code> å¯¹è±¡æ˜¯ä¸å¯å˜çš„ã€‚æŸ¥çœ‹ JDK æ–‡æ¡£ä½ å°±ä¼šå‘ç°ï¼Œ<code>String</code> ç±»ä¸­æ¯ä¸€ä¸ªçœ‹èµ·æ¥ä¼šä¿®æ”¹ <code>String</code> å€¼çš„æ–¹æ³•ï¼Œå®é™…ä¸Šéƒ½æ˜¯åˆ›å»ºäº†ä¸€ä¸ªå…¨æ–°çš„ <code>String</code> å¯¹è±¡ï¼Œä»¥åŒ…å«ä¿®æ”¹åçš„å­—ç¬¦ä¸²å†…å®¹ã€‚è€Œæœ€åˆçš„ <code>String</code> å¯¹è±¡åˆ™ä¸æ¯«æœªåŠ¨ã€‚</p><p>çœ‹çœ‹ä¸‹é¢çš„ä»£ç ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/Immutable.java</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Immutable</span> <span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">upcase</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token keyword">return</span> s<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token class-name">String</span> q <span class="token operator">=</span> <span class="token string">&quot;howdy&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// howdy </span>
        <span class="token class-name">String</span> qq <span class="token operator">=</span> <span class="token function">upcase</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>qq<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// HOWDY </span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>q<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// howdy </span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
<span class="token comment">/* Output: 
howdy
HOWDY 
howdy
*/</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“æŠŠ <code>q</code> ä¼ é€’ç»™ <code>upcase()</code> æ–¹æ³•æ—¶ï¼Œå®é™…ä¼ é€’çš„æ˜¯å¼•ç”¨çš„ä¸€ä¸ªæ‹·è´ã€‚å…¶å®ï¼Œæ¯å½“æŠŠ String å¯¹è±¡ä½œä¸ºæ–¹æ³•çš„å‚æ•°æ—¶ï¼Œéƒ½ä¼šå¤åˆ¶ä¸€ä»½å¼•ç”¨ï¼Œè€Œè¯¥å¼•ç”¨æ‰€æŒ‡å‘çš„å¯¹è±¡å…¶å®ä¸€ç›´å¾…åœ¨å•ä¸€çš„ç‰©ç†ä½ç½®ä¸Šï¼Œä»æœªåŠ¨è¿‡ã€‚</p><p>å›åˆ° <code>upcase()</code> çš„å®šä¹‰ï¼Œä¼ å…¥å…¶ä¸­çš„å¼•ç”¨æœ‰äº†åå­— <code>s</code>ï¼Œåªæœ‰ <code>upcase()</code> è¿è¡Œçš„æ—¶å€™ï¼Œå±€éƒ¨å¼•ç”¨ <code>s</code> æ‰å­˜åœ¨ã€‚ä¸€æ—¦ <code>upcase()</code> è¿è¡Œç»“æŸï¼Œ<code>s</code> å°±æ¶ˆå¤±äº†ã€‚å½“ç„¶äº†ï¼Œ<code>upcase()</code> çš„è¿”å›å€¼ï¼Œå…¶å®æ˜¯æœ€ç»ˆç»“æœçš„å¼•ç”¨ã€‚è¿™è¶³ä»¥è¯´æ˜ï¼Œ<code>upcase()</code> è¿”å›çš„å¼•ç”¨å·²ç»æŒ‡å‘äº†ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œè€Œ <code>q</code> ä»ç„¶åœ¨åŸæ¥çš„ä½ç½®ã€‚</p><p><code>String</code> çš„è¿™ç§è¡Œä¸ºæ­£æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;asdf&quot;</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> x <span class="token operator">=</span> <span class="token class-name">Immutable</span><span class="token punctuation">.</span><span class="token function">upcase</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>éš¾é“ä½ çœŸçš„å¸Œæœ› <code>upcase()</code> æ–¹æ³•æ”¹å˜å…¶å‚æ•°å—ï¼Ÿå¯¹äºä¸€ä¸ªæ–¹æ³•è€Œè¨€ï¼Œå‚æ•°æ˜¯ä¸ºè¯¥æ–¹æ³•æä¾›ä¿¡æ¯çš„ï¼Œè€Œä¸æ˜¯æƒ³è®©è¯¥æ–¹æ³•æ”¹å˜è‡ªå·±çš„ã€‚åœ¨é˜…è¯»è¿™æ®µä»£ç æ—¶ï¼Œè¯»è€…è‡ªç„¶ä¼šæœ‰è¿™æ ·çš„æ„Ÿè§‰ã€‚è¿™ä¸€ç‚¹å¾ˆé‡è¦ï¼Œæ­£æ˜¯æœ‰äº†è¿™ç§ä¿éšœï¼Œæ‰ä½¿å¾—ä»£ç æ˜“äºç¼–å†™å’Œé˜…è¯»ã€‚</p><!-- Overloading + vs. StringBuilder --><h2 id="çš„é‡è½½ä¸-stringbuilder" tabindex="-1"><a class="header-anchor" href="#çš„é‡è½½ä¸-stringbuilder" aria-hidden="true">#</a> + çš„é‡è½½ä¸ StringBuilder</h2><p><code>String</code> å¯¹è±¡æ˜¯ä¸å¯å˜çš„ï¼Œä½ å¯ä»¥ç»™ä¸€ä¸ª <code>String</code> å¯¹è±¡æ·»åŠ ä»»æ„å¤šçš„åˆ«åã€‚å› ä¸º <code>String</code> æ˜¯åªè¯»çš„ï¼Œæ‰€ä»¥æŒ‡å‘å®ƒçš„ä»»ä½•å¼•ç”¨éƒ½ä¸å¯èƒ½ä¿®æ”¹å®ƒçš„å€¼ï¼Œå› æ­¤ï¼Œä¹Ÿå°±ä¸ä¼šå½±å“åˆ°å…¶ä»–å¼•ç”¨ã€‚</p><p>ä¸å¯å˜æ€§ä¼šå¸¦æ¥ä¸€å®šçš„æ•ˆç‡é—®é¢˜ã€‚ä¸º <code>String</code> å¯¹è±¡é‡è½½çš„ <code>+</code> æ“ä½œç¬¦å°±æ˜¯ä¸€ä¸ªä¾‹å­ã€‚é‡è½½çš„æ„æ€æ˜¯ï¼Œä¸€ä¸ªæ“ä½œç¬¦åœ¨ç”¨äºç‰¹å®šçš„ç±»æ—¶ï¼Œè¢«èµ‹äºˆäº†ç‰¹æ®Šçš„æ„ä¹‰ï¼ˆç”¨äº <code>String</code> çš„ <code>+</code> ä¸ <code>+=</code> æ˜¯ Java ä¸­ä»…æœ‰çš„ä¸¤ä¸ªé‡è½½è¿‡çš„æ“ä½œç¬¦ï¼ŒJava ä¸å…è®¸ç¨‹åºå‘˜é‡è½½ä»»ä½•å…¶ä»–çš„æ“ä½œç¬¦ [^1]ï¼‰ã€‚</p><p>æ“ä½œç¬¦ <code>+</code> å¯ä»¥ç”¨æ¥è¿æ¥ <code>String</code>ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/Concatenation.java</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Concatenation</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token class-name">String</span> mango <span class="token operator">=</span> <span class="token string">&quot;mango&quot;</span><span class="token punctuation">;</span> 
        <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">&quot;abc&quot;</span> <span class="token operator">+</span> mango <span class="token operator">+</span> <span class="token string">&quot;def&quot;</span> <span class="token operator">+</span> <span class="token number">47</span><span class="token punctuation">;</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
abcmangodef47 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥æƒ³è±¡ä¸€ä¸‹ï¼Œè¿™æ®µä»£ç æ˜¯è¿™æ ·å·¥ä½œçš„ï¼š<code>String</code> å¯èƒ½æœ‰ä¸€ä¸ª <code>append()</code> æ–¹æ³•ï¼Œå®ƒä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„ <code>String</code> å¯¹è±¡ï¼Œä»¥åŒ…å«â€œabcâ€ä¸ <code>mango</code> è¿æ¥åçš„å­—ç¬¦ä¸²ã€‚è¯¥å¯¹è±¡ä¼šå†åˆ›å»ºå¦ä¸€ä¸ªæ–°çš„ <code>String</code> å¯¹è±¡ï¼Œç„¶åä¸â€œdefâ€ç›¸è¿ï¼Œç”Ÿæˆå¦ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œä¾æ­¤ç±»æ¨ã€‚</p><p>è¿™ç§æ–¹å¼å½“ç„¶æ˜¯å¯è¡Œçš„ï¼Œä½†æ˜¯ä¸ºäº†ç”Ÿæˆæœ€ç»ˆçš„ <code>String</code> å¯¹è±¡ï¼Œä¼šäº§ç”Ÿä¸€å¤§å †éœ€è¦åƒåœ¾å›æ”¶çš„ä¸­é—´å¯¹è±¡ã€‚æˆ‘çŒœæƒ³ï¼ŒJava è®¾è®¡è€…ä¸€å¼€å§‹å°±æ˜¯è¿™ä¹ˆåšçš„ï¼ˆè¿™ä¹Ÿæ˜¯è½¯ä»¶è®¾è®¡ä¸­çš„ä¸€ä¸ªæ•™è®­ï¼šé™¤éä½ ç”¨ä»£ç å°†ç³»ç»Ÿå®ç°ï¼Œå¹¶è®©å®ƒè¿è¡Œèµ·æ¥ï¼Œå¦åˆ™ä½ æ— æ³•çœŸæ­£äº†è§£å®ƒä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼‰ï¼Œç„¶åä»–ä»¬å‘ç°å…¶æ€§èƒ½ç›¸å½“ç³Ÿç³•ã€‚</p><p>æƒ³çœ‹çœ‹ä»¥ä¸Šä»£ç åˆ°åº•æ˜¯å¦‚ä½•å·¥ä½œçš„å—ï¼Ÿå¯ä»¥ç”¨ JDK è‡ªå¸¦çš„ <code>javap</code> å·¥å…·æ¥åç¼–è¯‘ä»¥ä¸Šä»£ç ã€‚å‘½ä»¤å¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>javap <span class="token operator">-</span>c <span class="token class-name">Concatenation</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™é‡Œçš„ <code>-c</code> æ ‡å¿—è¡¨ç¤ºå°†ç”Ÿæˆ JVM å­—èŠ‚ç ã€‚æˆ‘ä»¬å‰”é™¤ä¸æ„Ÿå…´è¶£çš„éƒ¨åˆ†ï¼Œç„¶ååšç»†å¾®çš„ä¿®æ”¹ï¼Œäºæ˜¯æœ‰äº†ä»¥ä¸‹çš„å­—èŠ‚ç ï¼š</p><div class="language-x86asm line-numbers-mode" data-ext="x86asm"><pre class="language-x86asm"><code>public static void main(java.lang.String[]); 
 Code:
  Stack=2, Locals=3, Args_size=1
  0: ldc #2; //String mango 
  2: astore_1 
  3: new #3; //class StringBuilder 
  6: dup 
  7: invokespecial #4; //StringBuilder.&quot;&lt;init&gt;&quot;:() 
  10: ldc #5; //String abc 
  12: invokevirtual #6; //StringBuilder.append:(String) 
  15: aload_1 
  16: invokevirtual #6; //StringBuilder.append:(String) 
  19: ldc #7; //String def 
  21: invokevirtual #6; //StringBuilder.append:(String) 
  24: bipush 47 
  26: invokevirtual #8; //StringBuilder.append:(I) 
  29: invokevirtual #9; //StringBuilder.toString:() 
  32: astore_2 
  33: getstatic #10; //Field System.out:PrintStream;
  36: aload_2 
  37: invokevirtual #11; //PrintStream.println:(String) 
  40: return
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä½ æœ‰æ±‡ç¼–è¯­è¨€çš„ç»éªŒï¼Œä»¥ä¸Šä»£ç åº”è¯¥å¾ˆçœ¼ç†Ÿ(å…¶ä¸­çš„ <code>dup</code> å’Œ <code>invokevirtual</code> è¯­å¥ç›¸å½“äºJavaè™šæ‹Ÿæœºä¸Šçš„æ±‡ç¼–è¯­å¥ã€‚å³ä½¿ä½ å®Œå…¨ä¸äº†è§£æ±‡ç¼–è¯­è¨€ä¹Ÿæ— éœ€æ‹…å¿ƒ)ã€‚éœ€è¦é‡ç‚¹æ³¨æ„çš„æ˜¯ï¼šç¼–è¯‘å™¨è‡ªåŠ¨å¼•å…¥äº† <code>java.lang.StringBuilder</code> ç±»ã€‚è™½ç„¶æºä»£ç ä¸­å¹¶æ²¡æœ‰ä½¿ç”¨ <code>StringBuilder</code> ç±»ï¼Œä½†æ˜¯ç¼–è¯‘å™¨å´è‡ªä½œä¸»å¼ åœ°ä½¿ç”¨äº†å®ƒï¼Œå°±å› ä¸ºå®ƒæ›´é«˜æ•ˆã€‚</p><p>åœ¨è¿™é‡Œï¼Œç¼–è¯‘å™¨åˆ›å»ºäº†ä¸€ä¸ª <code>StringBuilder</code> å¯¹è±¡ï¼Œç”¨äºæ„å»ºæœ€ç»ˆçš„ <code>String</code>ï¼Œå¹¶å¯¹æ¯ä¸ªå­—ç¬¦ä¸²è°ƒç”¨äº†ä¸€æ¬¡ <code>append()</code> æ–¹æ³•ï¼Œå…±è®¡ 4 æ¬¡ã€‚æœ€åè°ƒç”¨ <code>toString()</code> ç”Ÿæˆç»“æœï¼Œå¹¶å­˜ä¸º <code>s</code> (ä½¿ç”¨çš„å‘½ä»¤ä¸º <code>astore_2</code>)ã€‚</p><p>ç°åœ¨ï¼Œä¹Ÿè®¸ä½ ä¼šè§‰å¾—å¯ä»¥éšæ„ä½¿ç”¨ <code>String</code> å¯¹è±¡ï¼Œåæ­£ç¼–è¯‘å™¨ä¼šè‡ªåŠ¨ä¸ºä½ åšæ€§èƒ½ä¼˜åŒ–ã€‚å¯æ˜¯åœ¨è¿™ä¹‹å‰ï¼Œè®©æˆ‘ä»¬æ›´æ·±å…¥åœ°çœ‹çœ‹ç¼–è¯‘å™¨èƒ½ä¸ºæˆ‘ä»¬ä¼˜åŒ–åˆ°ä»€ä¹ˆç¨‹åº¦ã€‚ä¸‹é¢çš„ä¾‹å­é‡‡ç”¨ä¸¤ç§æ–¹å¼ç”Ÿæˆä¸€ä¸ª <code>String</code>ï¼šæ–¹æ³•ä¸€ä½¿ç”¨äº†å¤šä¸ª <code>String</code> å¯¹è±¡ï¼›æ–¹æ³•äºŒåœ¨ä»£ç ä¸­ä½¿ç”¨äº† <code>StringBuilder</code>ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/WhitherStringBuilder.java</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WhitherStringBuilder</span> <span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">implicit</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> fields<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token class-name">String</span> result <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span> 
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> field <span class="token operator">:</span> fields<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            result <span class="token operator">+=</span> field<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">explicit</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> fields<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token class-name">StringBuilder</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> field <span class="token operator">:</span> fields<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>field<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> 
        <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç°åœ¨è¿è¡Œ <code>javap -c WhitherStringBuilder</code>ï¼Œå¯ä»¥çœ‹åˆ°ä¸¤ç§ä¸åŒæ–¹æ³•ï¼ˆæˆ‘å·²ç»å»æ‰ä¸ç›¸å…³çš„ç»†èŠ‚ï¼‰å¯¹åº”çš„å­—èŠ‚ç ã€‚é¦–å…ˆæ˜¯ <code>implicit()</code> æ–¹æ³•ï¼š</p><div class="language-x86asm line-numbers-mode" data-ext="x86asm"><pre class="language-x86asm"><code>public java.lang.String implicit(java.lang.String[]); 
0: ldc #2 // String 
2: astore_2
3: aload_1 
4: astore_3 
5: aload_3 
6: arraylength 
7: istore 4 
9: iconst_0 
10: istore 5 
12: iload 5 
14: iload 4 
16: if_icmpge 51 
19: aload_3 
20: iload 5 
22: aaload 
23: astore 6 
25: new #3 // StringBuilder 
28: dup 
29: invokespecial #4 // StringBuilder.&quot;&lt;init&gt;&quot;
32: aload_2 
33: invokevirtual #5 // StringBuilder.append:(String) 
36: aload 6 
38: invokevirtual #5 // StringBuilder.append:(String;) 
41: invokevirtual #6 // StringBuilder.toString:() 
44: astore_2 
45: iinc 5, 1 
48: goto 12 
51: aload_2 
52: areturn
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ä»ç¬¬ 16 è¡Œåˆ°ç¬¬ 48 è¡Œæ„æˆäº†ä¸€ä¸ªå¾ªç¯ä½“ã€‚ç¬¬ 16 è¡Œï¼šå¯¹å †æ ˆä¸­çš„æ“ä½œæ•°è¿›è¡Œâ€œå¤§äºæˆ–ç­‰äºçš„æ•´æ•°æ¯”è¾ƒè¿ç®—â€ï¼Œå¾ªç¯ç»“æŸæ—¶è·³è½¬åˆ°ç¬¬ 51 è¡Œã€‚ç¬¬ 48 è¡Œï¼šé‡æ–°å›åˆ°å¾ªç¯ä½“çš„èµ·å§‹ä½ç½®ï¼ˆç¬¬ 12 è¡Œï¼‰ã€‚æ³¨æ„ï¼š<code>StringBuilder</code> æ˜¯åœ¨å¾ªç¯å†…æ„é€ çš„ï¼Œè¿™æ„å‘³ç€æ¯è¿›è¡Œä¸€æ¬¡å¾ªç¯ï¼Œä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ <code>StringBuilder</code> å¯¹è±¡ã€‚</p><p>ä¸‹é¢æ˜¯ <code>explicit()</code> æ–¹æ³•å¯¹åº”çš„å­—èŠ‚ç ï¼š</p><div class="language-x86asm line-numbers-mode" data-ext="x86asm"><pre class="language-x86asm"><code>public java.lang.String explicit(java.lang.String[]); 
0: new #3 // StringBuilder 
3: dup
4: invokespecial #4 // StringBuilder.&quot;&lt;init&gt;&quot; 
7: astore_2 
8: aload_1 
9: astore_3 
10: aload_3 
11: arraylength 
12: istore 4 
14: iconst_0 
15: istore 5 
17: iload 5 
19: iload 4 
21: if_icmpge 43 
24: aload_3 
25: iload 5 
27: aaload 
28: astore 6 
30: aload_2 
31: aload 6 
33: invokevirtual #5 // StringBuilder.append:(String) 
36: pop
37: iinc 5, 1 
40: goto 17 
43: aload_2 
44: invokevirtual #6 // StringBuilder.toString:() 
47: areturn
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°ï¼Œä¸ä»…å¾ªç¯éƒ¨åˆ†çš„ä»£ç æ›´ç®€çŸ­ã€æ›´ç®€å•ï¼Œè€Œä¸”å®ƒåªç”Ÿæˆäº†ä¸€ä¸ª <code>StringBuilder</code> å¯¹è±¡ã€‚æ˜¾å¼åœ°åˆ›å»º <code>StringBuilder</code> è¿˜å…è®¸ä½ é¢„å…ˆä¸ºå…¶æŒ‡å®šå¤§å°ã€‚å¦‚æœä½ å·²ç»çŸ¥é“æœ€ç»ˆå­—ç¬¦ä¸²çš„å¤§æ¦‚é•¿åº¦ï¼Œé‚£é¢„å…ˆæŒ‡å®š <code>StringBuilder</code> çš„å¤§å°å¯ä»¥é¿å…é¢‘ç¹åœ°é‡æ–°åˆ†é…ç¼“å†²ã€‚</p><p>å› æ­¤ï¼Œå½“ä½ ä¸ºä¸€ä¸ªç±»ç¼–å†™ <code>toString()</code> æ–¹æ³•æ—¶ï¼Œå¦‚æœå­—ç¬¦ä¸²æ“ä½œæ¯”è¾ƒç®€å•ï¼Œé‚£å°±å¯ä»¥ä¿¡èµ–ç¼–è¯‘å™¨ï¼Œå®ƒä¼šä¸ºä½ åˆç†åœ°æ„é€ æœ€ç»ˆçš„å­—ç¬¦ä¸²ç»“æœã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ è¦åœ¨ <code>toString()</code> æ–¹æ³•ä¸­ä½¿ç”¨å¾ªç¯ï¼Œä¸”å¯èƒ½æœ‰æ€§èƒ½é—®é¢˜ï¼Œé‚£ä¹ˆæœ€å¥½è‡ªå·±åˆ›å»ºä¸€ä¸ª <code>StringBuilder</code> å¯¹è±¡ï¼Œç”¨å®ƒæ¥æ„å»ºæœ€ç»ˆç»“æœã€‚è¯·å‚è€ƒä»¥ä¸‹ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/UsingStringBuilder.java </span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UsingStringBuilder</span> <span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">string1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token class-name">Random</span> rand <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token number">47</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">StringBuilder</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token string">&quot;[&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">25</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
            result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>rand<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
            result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;, &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> 
        result<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span> result<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">string2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token class-name">String</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token number">47</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">ints</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">mapToObj</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token operator">::</span><span class="token function">toString</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">joining</span><span class="token punctuation">(</span><span class="token string">&quot;, &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;[&quot;</span> <span class="token operator">+</span> result <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">string1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">string2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
<span class="token comment">/* Output: 
[58, 55, 93, 61, 61, 29, 68, 0, 22, 7, 88, 28, 51, 89, 
9, 78, 98, 61, 20, 58, 16, 40, 11, 22, 4] 
[58, 55, 93, 61, 61, 29, 68, 0, 22, 7, 88, 28, 51, 89,
9, 78, 98, 61, 20, 58, 16, 40, 11, 22, 4] 
*/</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨æ–¹æ³• <code>string1()</code> ä¸­ï¼Œæœ€ç»ˆç»“æœæ˜¯ç”¨ <code>append()</code> è¯­å¥æ‹¼æ¥èµ·æ¥çš„ã€‚å¦‚æœä½ æƒ³èµ°æ·å¾„ï¼Œä¾‹å¦‚ï¼š<code>append(a + &quot;: &quot; + c)</code>ï¼Œç¼–è¯‘å™¨å°±ä¼šæ‰å…¥é™·é˜±ï¼Œä»è€Œä¸ºä½ å¦å¤–åˆ›å»ºä¸€ä¸ª <code>StringBuilder</code> å¯¹è±¡å¤„ç†æ‹¬å·å†…çš„å­—ç¬¦ä¸²æ“ä½œã€‚å¦‚æœæ‹¿ä¸å‡†è¯¥ç”¨å“ªç§æ–¹å¼ï¼Œéšæ—¶å¯ä»¥ç”¨ <code>javap</code> æ¥åˆ†æä½ çš„ç¨‹åºã€‚</p><p><code>StringBuilder</code> æä¾›äº†ä¸°å¯Œè€Œå…¨é¢çš„æ–¹æ³•ï¼ŒåŒ…æ‹¬ <code>insert()</code>ã€<code>replace()</code>ã€<code>substring()</code>ï¼Œç”šè‡³è¿˜æœ‰<code>reverse()</code>ï¼Œä½†æ˜¯æœ€å¸¸ç”¨çš„è¿˜æ˜¯ <code>append()</code> å’Œ <code>toString()</code>ã€‚è¿˜æœ‰ <code>delete()</code>ï¼Œä¸Šé¢çš„ä¾‹å­ä¸­æˆ‘ä»¬ç”¨å®ƒåˆ é™¤æœ€åä¸€ä¸ªé€—å·å’Œç©ºæ ¼ï¼Œä»¥ä¾¿æ·»åŠ å³æ‹¬å·ã€‚</p><p><code>string2()</code> ä½¿ç”¨äº† <code>Stream</code>ï¼Œè¿™æ ·ä»£ç æ›´åŠ ç®€æ´ç¾è§‚ã€‚å¯ä»¥è¯æ˜ï¼Œ<code>Collectors.joining()</code> å†…éƒ¨ä¹Ÿæ˜¯ä½¿ç”¨çš„ <code>StringBuilder</code>ï¼Œè¿™ç§å†™æ³•ä¸ä¼šå½±å“æ€§èƒ½ï¼</p><p><code>StringBuilder </code>æ˜¯ Java SE5 å¼•å…¥çš„ï¼Œåœ¨è¿™ä¹‹å‰ç”¨çš„æ˜¯ <code>StringBuffer</code>ã€‚åè€…æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼ˆå‚è§<a href="/OnJava8/book/24-Concurrent-Programming.html" class="">å¹¶å‘ç¼–ç¨‹</a>ï¼‰ï¼Œå› æ­¤å¼€é”€ä¹Ÿä¼šå¤§äº›ã€‚ä½¿ç”¨ <code>StringBuilder</code> è¿›è¡Œå­—ç¬¦ä¸²æ“ä½œæ›´å¿«ä¸€ç‚¹ã€‚</p><!-- Unintended Recursion --><h2 id="æ„å¤–é€’å½’" tabindex="-1"><a class="header-anchor" href="#æ„å¤–é€’å½’" aria-hidden="true">#</a> æ„å¤–é€’å½’</h2><p>Java ä¸­çš„æ¯ä¸ªç±»ä»æ ¹æœ¬ä¸Šéƒ½æ˜¯ç»§æ‰¿è‡ª <code>Object</code>ï¼Œæ ‡å‡†é›†åˆç±»ä¹Ÿæ˜¯å¦‚æ­¤ï¼Œå®ƒä»¬éƒ½æœ‰ <code>toString()</code> æ–¹æ³•ï¼Œå¹¶ä¸”è¦†ç›–äº†è¯¥æ–¹æ³•ï¼Œä½¿å¾—å®ƒç”Ÿæˆçš„ <code>String</code> ç»“æœèƒ½å¤Ÿè¡¨è¾¾é›†åˆè‡ªèº«ï¼Œä»¥åŠé›†åˆåŒ…å«çš„å¯¹è±¡ã€‚ä¾‹å¦‚ <code>ArrayList.toString()</code>ï¼Œå®ƒä¼šéå† <code>ArrayList</code> ä¸­åŒ…å«çš„æ‰€æœ‰å¯¹è±¡ï¼Œè°ƒç”¨æ¯ä¸ªå…ƒç´ ä¸Šçš„ <code>toString()</code> æ–¹æ³•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/ArrayListDisplay.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">generics<span class="token punctuation">.</span>coffee<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ArrayListDisplay</span> <span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Coffee</span><span class="token punctuation">&gt;</span></span> coffees <span class="token operator">=</span> 
            <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CoffeeSupplier</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>coffees<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
<span class="token comment">/* Output: 
[Americano 0, Latte 1, Americano 2, Mocha 3, Mocha 4, 
Breve 5, Americano 6, Latte 7, Cappuccino 8, Cappuccino 9] 
*/</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœä½ å¸Œæœ› <code>toString()</code> æ‰“å°å‡ºç±»çš„å†…å­˜åœ°å€ï¼Œä¹Ÿè®¸ä½ ä¼šè€ƒè™‘ä½¿ç”¨ <code>this</code> å…³é”®å­—ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/InfiniteRecursion.java </span>
<span class="token comment">// Accidental recursion </span>
<span class="token comment">// {ThrowsException} </span>
<span class="token comment">// {VisuallyInspectOutput} Throws very long exception</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InfiniteRecursion</span> <span class="token punctuation">{</span> 
    <span class="token annotation punctuation">@Override</span> 
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token keyword">return</span> <span class="token string">&quot; InfiniteRecursion address: &quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span> <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span><span class="token class-name">InfiniteRecursion</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span> 
            <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> 
            <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ä½ åˆ›å»ºäº† <code>InfiniteRecursion</code> å¯¹è±¡ï¼Œå¹¶å°†å…¶æ‰“å°å‡ºæ¥çš„æ—¶å€™ï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸²å¾ˆé•¿çš„å¼‚å¸¸ä¿¡æ¯ã€‚å¦‚æœä½ å°†è¯¥ <code>InfiniteRecursion</code> å¯¹è±¡å­˜å…¥ä¸€ä¸ª <code>ArrayList</code> ä¸­ï¼Œç„¶åæ‰“å°è¯¥ <code>ArrayList</code>ï¼ŒåŒæ ·ä¹Ÿä¼šæŠ›å‡ºå¼‚å¸¸ã€‚å…¶å®ï¼Œå½“è¿è¡Œåˆ°å¦‚ä¸‹ä»£ç æ—¶ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token string">&quot;InfiniteRecursion address: &quot;</span> <span class="token operator">+</span> <span class="token keyword">this</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™é‡Œå‘ç”Ÿäº†è‡ªåŠ¨ç±»å‹è½¬æ¢ï¼Œç”± <code>InfiniteRecursion</code> ç±»å‹è½¬æ¢ä¸º <code>String</code> ç±»å‹ã€‚å› ä¸ºç¼–è¯‘å™¨å‘ç°ä¸€ä¸ª <code>String</code> å¯¹è±¡åé¢è·Ÿç€ä¸€ä¸ª â€œ+â€ï¼Œè€Œ â€œ+â€ åé¢çš„å¯¹è±¡ä¸æ˜¯ <code>String</code>ï¼Œäºæ˜¯ç¼–è¯‘å™¨è¯•ç€å°† <code>this</code> è½¬æ¢æˆä¸€ä¸ª <code>String</code>ã€‚å®ƒæ€ä¹ˆè½¬æ¢å‘¢ï¼Ÿæ­£æ˜¯é€šè¿‡è°ƒç”¨ <code>this</code> ä¸Šçš„ <code>toString()</code> æ–¹æ³•ï¼Œäºæ˜¯å°±å‘ç”Ÿäº†é€’å½’è°ƒç”¨ã€‚</p><p>å¦‚æœä½ çœŸçš„æƒ³è¦æ‰“å°å¯¹è±¡çš„å†…å­˜åœ°å€ï¼Œåº”è¯¥è°ƒç”¨ <code>Object.toString()</code> æ–¹æ³•ï¼Œè¿™æ‰æ˜¯è´Ÿè´£æ­¤ä»»åŠ¡çš„æ–¹æ³•ã€‚æ‰€ä»¥ï¼Œä¸è¦ä½¿ç”¨ <code>this</code>ï¼Œè€Œæ˜¯åº”è¯¥è°ƒç”¨ <code>super.toString()</code> æ–¹æ³•ã€‚</p><!-- Operations on Strings --><h2 id="å­—ç¬¦ä¸²æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#å­—ç¬¦ä¸²æ“ä½œ" aria-hidden="true">#</a> å­—ç¬¦ä¸²æ“ä½œ</h2><p>ä»¥ä¸‹æ˜¯ <code>String</code> å¯¹è±¡å…·å¤‡çš„ä¸€äº›åŸºæœ¬æ–¹æ³•ã€‚é‡è½½çš„æ–¹æ³•å½’çº³åœ¨åŒä¸€è¡Œä¸­ï¼š</p><table><thead><tr><th>æ–¹æ³•</th><th>å‚æ•°ï¼Œé‡è½½ç‰ˆæœ¬</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td>æ„é€ æ–¹æ³•</td><td>é»˜è®¤ç‰ˆæœ¬ï¼Œ<code>String</code>ï¼Œ<code>StringBuilder</code>ï¼Œ<code>StringBuffer</code>ï¼Œ<code>char</code>æ•°ç»„ï¼Œ<code>byte</code>æ•°ç»„</td><td>åˆ›å»º<code>String</code>å¯¹è±¡</td></tr><tr><td><code>length()</code></td><td></td><td><code>String</code>ä¸­å­—ç¬¦çš„ä¸ªæ•°</td></tr><tr><td><code>charAt()</code></td><td><code>int</code>ç´¢å¼•</td><td>è·å–<code>String</code>ä¸­ç´¢å¼•ä½ç½®ä¸Šçš„<code>char</code></td></tr><tr><td><code>getChars()</code>ï¼Œ<code>getBytes()</code></td><td>å¾…å¤åˆ¶éƒ¨åˆ†çš„å¼€å§‹å’Œç»“æŸç´¢å¼•ï¼Œå¤åˆ¶çš„ç›®æ ‡æ•°ç»„ï¼Œç›®æ ‡æ•°ç»„çš„å¼€å§‹ç´¢å¼•</td><td>å¤åˆ¶<code>char</code>æˆ–<code>byte</code>åˆ°ä¸€ä¸ªç›®æ ‡æ•°ç»„ä¸­</td></tr><tr><td><code>toCharArray()</code></td><td></td><td>ç”Ÿæˆä¸€ä¸ª<code>char[]</code>ï¼ŒåŒ…å«<code>String</code>ä¸­çš„æ‰€æœ‰å­—ç¬¦</td></tr><tr><td><code>equals()</code>ï¼Œ<code>equalsIgnoreCase()</code></td><td>ä¸ä¹‹è¿›è¡Œæ¯”è¾ƒçš„<code>String</code></td><td>æ¯”è¾ƒä¸¤ä¸ª<code>String</code>çš„å†…å®¹æ˜¯å¦ç›¸åŒã€‚å¦‚æœç›¸åŒï¼Œç»“æœä¸º<code>true</code></td></tr><tr><td><code>compareTo()</code>ï¼Œ<code>compareToIgnoreCase()</code></td><td>ä¸ä¹‹è¿›è¡Œæ¯”è¾ƒçš„<code>String</code></td><td>æŒ‰è¯å…¸é¡ºåºæ¯”è¾ƒ<code>String</code>çš„å†…å®¹ï¼Œæ¯”è¾ƒç»“æœä¸ºè´Ÿæ•°ã€é›¶æˆ–æ­£æ•°ã€‚æ³¨æ„ï¼Œå¤§å°å†™ä¸ç­‰ä»·</td></tr><tr><td><code>contains()</code></td><td>è¦æœç´¢çš„<code>CharSequence</code></td><td>å¦‚æœè¯¥<code>String</code>å¯¹è±¡åŒ…å«å‚æ•°çš„å†…å®¹ï¼Œåˆ™è¿”å›<code>true</code></td></tr><tr><td><code>contentEquals()</code></td><td>ä¸ä¹‹è¿›è¡Œæ¯”è¾ƒçš„<code>CharSequence</code>æˆ–<code>StringBuffer</code></td><td>å¦‚æœè¯¥<code>String</code>å¯¹è±¡ä¸å‚æ•°çš„å†…å®¹å®Œå…¨ä¸€è‡´ï¼Œåˆ™è¿”å›<code>true</code></td></tr><tr><td><code>isEmpty()</code></td><td></td><td>è¿”å›<code>boolean</code>ç»“æœï¼Œä»¥è¡¨æ˜<code>String</code>å¯¹è±¡çš„é•¿åº¦æ˜¯å¦ä¸º0</td></tr><tr><td><code>regionMatches()</code></td><td>è¯¥<code>String</code>çš„ç´¢å¼•åç§»é‡ï¼Œå¦ä¸€ä¸ª<code>String</code>åŠå…¶ç´¢å¼•åç§»é‡ï¼Œè¦æ¯”è¾ƒçš„é•¿åº¦ã€‚é‡è½½ç‰ˆæœ¬å¢åŠ äº†â€œå¿½ç•¥å¤§å°å†™â€åŠŸèƒ½</td><td>è¿”å›<code>boolean</code>ç»“æœï¼Œä»¥è¡¨æ˜æ‰€æ¯”è¾ƒåŒºåŸŸæ˜¯å¦ç›¸ç­‰</td></tr><tr><td><code>startsWith()</code></td><td>å¯èƒ½çš„èµ·å§‹<code>String</code>ã€‚é‡è½½ç‰ˆæœ¬åœ¨å‚æ•°ä¸­å¢åŠ äº†åç§»é‡</td><td>è¿”å›<code>boolean</code>ç»“æœï¼Œä»¥è¡¨æ˜è¯¥<code>String</code>æ˜¯å¦ä»¥ä¼ å…¥å‚æ•°å¼€å§‹</td></tr><tr><td><code>endsWith()</code></td><td>è¯¥<code>String</code>å¯èƒ½çš„åç¼€<code>String</code></td><td>è¿”å›<code>boolean</code>ç»“æœï¼Œä»¥è¡¨æ˜æ­¤å‚æ•°æ˜¯å¦æ˜¯è¯¥å­—ç¬¦ä¸²çš„åç¼€</td></tr><tr><td><code>indexOf()</code>ï¼Œ<code>lastIndexOf()</code></td><td>é‡è½½ç‰ˆæœ¬åŒ…æ‹¬ï¼š<code>char</code>ï¼Œ<code>char</code>ä¸èµ·å§‹ç´¢å¼•ï¼Œ<code>String</code>ï¼Œ<code>String</code>ä¸èµ·å§‹ç´¢å¼•</td><td>å¦‚æœè¯¥<code>String</code>å¹¶ä¸åŒ…å«æ­¤å‚æ•°ï¼Œå°±è¿”å›-1ï¼›å¦åˆ™è¿”å›æ­¤å‚æ•°åœ¨<code>String</code>ä¸­çš„èµ·å§‹ç´¢å¼•ã€‚<code>lastIndexOf</code>()æ˜¯ä»åå¾€å‰æœç´¢</td></tr><tr><td><code>matches()</code></td><td>ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼</td><td>è¿”å›<code>boolean</code>ç»“æœï¼Œä»¥è¡¨æ˜è¯¥<code>String</code>å’Œç»™å‡ºçš„æ­£åˆ™è¡¨è¾¾å¼æ˜¯å¦åŒ¹é…</td></tr><tr><td><code>split()</code></td><td>ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ã€‚å¯é€‰å‚æ•°ä¸ºéœ€è¦æ‹†åˆ†çš„æœ€å¤§æ•°é‡</td><td>æŒ‰ç…§æ­£åˆ™è¡¨è¾¾å¼æ‹†åˆ†<code>String</code>ï¼Œè¿”å›ä¸€ä¸ªç»“æœæ•°ç»„</td></tr><tr><td><code>join()</code>ï¼ˆJava8å¼•å…¥çš„ï¼‰</td><td>åˆ†éš”ç¬¦ï¼Œå¾…æ‹¼å­—ç¬¦åºåˆ—ã€‚ç”¨åˆ†éš”ç¬¦å°†å­—ç¬¦åºåˆ—æ‹¼æ¥æˆä¸€ä¸ªæ–°çš„<code>String</code></td><td>ç”¨åˆ†éš”ç¬¦æ‹¼æ¥å­—ç¬¦ç‰‡æ®µï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„<code>String</code></td></tr><tr><td><code>substring()</code>ï¼ˆå³<code>subSequence()</code>ï¼‰</td><td>é‡è½½ç‰ˆæœ¬ï¼šèµ·å§‹ç´¢å¼•ï¼›èµ·å§‹ç´¢å¼•+ç»ˆæ­¢ç´¢å¼•</td><td>è¿”å›ä¸€ä¸ªæ–°çš„<code>String</code>å¯¹è±¡ï¼Œä»¥åŒ…å«å‚æ•°æŒ‡å®šçš„å­ä¸²</td></tr><tr><td><code>concat()</code></td><td>è¦è¿æ¥çš„<code>String</code></td><td>è¿”å›ä¸€ä¸ªæ–°çš„<code>String</code>å¯¹è±¡ï¼Œå†…å®¹ä¸ºåŸå§‹<code>String</code>è¿æ¥ä¸Šå‚æ•°<code>String</code></td></tr><tr><td><code>replace()</code></td><td>è¦æ›¿æ¢çš„å­—ç¬¦ï¼Œç”¨æ¥è¿›è¡Œæ›¿æ¢çš„æ–°å­—ç¬¦ã€‚ä¹Ÿå¯ä»¥ç”¨ä¸€ä¸ª<code>CharSequence</code>æ›¿æ¢å¦ä¸€ä¸ª<code>CharSequence</code></td><td>è¿”å›æ›¿æ¢å­—ç¬¦åçš„æ–°<code>String</code>å¯¹è±¡ã€‚å¦‚æœæ²¡æœ‰æ›¿æ¢å‘ç”Ÿï¼Œåˆ™è¿”å›åŸå§‹çš„<code>String</code>å¯¹è±¡</td></tr><tr><td><code>replaceFirst()</code></td><td>è¦æ›¿æ¢çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œç”¨æ¥è¿›è¡Œæ›¿æ¢çš„<code>String</code></td><td>è¿”å›æ›¿æ¢é¦–ä¸ªç›®æ ‡å­—ç¬¦ä¸²åçš„<code>String</code>å¯¹è±¡</td></tr><tr><td><code>replaceAll()</code></td><td>è¦æ›¿æ¢çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œç”¨æ¥è¿›è¡Œæ›¿æ¢çš„<code>String</code></td><td>è¿”å›æ›¿æ¢æ‰€æœ‰ç›®æ ‡å­—ç¬¦ä¸²åçš„<code>String</code>å¯¹è±¡</td></tr><tr><td><code>toLowerCase()</code>ï¼Œ<code>toUpperCase()</code></td><td></td><td>å°†å­—ç¬¦çš„å¤§å°å†™æ”¹å˜åï¼Œè¿”å›ä¸€ä¸ªæ–°çš„<code>String</code>å¯¹è±¡ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•æ”¹å˜ï¼Œåˆ™è¿”å›åŸå§‹çš„<code>String</code>å¯¹è±¡</td></tr><tr><td><code>trim()</code></td><td></td><td>å°†<code>String</code>ä¸¤ç«¯çš„ç©ºç™½ç¬¦åˆ é™¤åï¼Œè¿”å›ä¸€ä¸ªæ–°çš„<code>String</code>å¯¹è±¡ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•æ”¹å˜ï¼Œåˆ™è¿”å›åŸå§‹çš„<code>String</code>å¯¹è±¡</td></tr><tr><td><code>valueOf()</code>ï¼ˆ<code>static</code>ï¼‰</td><td>é‡è½½ç‰ˆæœ¬ï¼š<code>Object</code>ï¼›<code>char[]</code>ï¼›<code>char[]</code>ï¼Œåç§»é‡ï¼Œä¸å­—ç¬¦ä¸ªæ•°ï¼›<code>boolean</code>ï¼›<code>char</code>ï¼›<code>int</code>ï¼›<code>long</code>ï¼›<code>float</code>ï¼›<code>double</code></td><td>è¿”å›ä¸€ä¸ªè¡¨ç¤ºå‚æ•°å†…å®¹çš„<code>String</code></td></tr><tr><td><code>intern()</code></td><td></td><td>ä¸ºæ¯ä¸ªå”¯ä¸€çš„å­—ç¬¦åºåˆ—ç”Ÿæˆä¸€ä¸ªä¸”ä»…ç”Ÿæˆä¸€ä¸ª<code>String</code>å¼•ç”¨</td></tr><tr><td><code>format()</code></td><td>è¦æ ¼å¼åŒ–çš„å­—ç¬¦ä¸²ï¼Œè¦æ›¿æ¢åˆ°æ ¼å¼åŒ–å­—ç¬¦ä¸²çš„å‚æ•°</td><td>è¿”å›æ ¼å¼åŒ–ç»“æœ<code>String</code></td></tr></tbody></table><p>ä»è¿™ä¸ªè¡¨å¯ä»¥çœ‹å‡ºï¼Œå½“éœ€è¦æ”¹å˜å­—ç¬¦ä¸²çš„å†…å®¹æ—¶ï¼Œ<code>String</code> ç±»çš„æ–¹æ³•éƒ½ä¼šè¿”å›ä¸€ä¸ªæ–°çš„ <code>String</code> å¯¹è±¡ã€‚åŒæ—¶ï¼Œå¦‚æœå†…å®¹ä¸æ”¹å˜ï¼Œ<code>String</code> æ–¹æ³•åªæ˜¯è¿”å›åŸå§‹å¯¹è±¡çš„ä¸€ä¸ªå¼•ç”¨è€Œå·²ã€‚è¿™å¯ä»¥èŠ‚çº¦å­˜å‚¨ç©ºé—´ä»¥åŠé¿å…é¢å¤–çš„å¼€é”€ã€‚</p><p>æœ¬ç« ç¨åè¿˜å°†ä»‹ç»æ­£åˆ™è¡¨è¾¾å¼åœ¨ <code>String</code> æ–¹æ³•ä¸­çš„åº”ç”¨ã€‚</p><!-- Formatting Output --><h2 id="æ ¼å¼åŒ–è¾“å‡º" tabindex="-1"><a class="header-anchor" href="#æ ¼å¼åŒ–è¾“å‡º" aria-hidden="true">#</a> æ ¼å¼åŒ–è¾“å‡º</h2><p>åœ¨é•¿ä¹…çš„ç­‰å¾…ä¹‹åï¼ŒJava SE5 ç»ˆäºæ¨å‡ºäº† C è¯­è¨€ä¸­ <code>printf()</code> é£æ ¼çš„æ ¼å¼åŒ–è¾“å‡ºè¿™ä¸€åŠŸèƒ½ã€‚è¿™ä¸ä»…ä½¿å¾—æ§åˆ¶è¾“å‡ºçš„ä»£ç æ›´åŠ ç®€å•ï¼ŒåŒæ—¶ä¹Ÿç»™ä¸Javaå¼€å‘è€…å¯¹äºè¾“å‡ºæ ¼å¼ä¸æ’åˆ—æ›´å¼ºå¤§çš„æ§åˆ¶èƒ½åŠ›ã€‚</p><h3 id="printf" tabindex="-1"><a class="header-anchor" href="#printf" aria-hidden="true">#</a> <code>printf()</code></h3><p>C è¯­è¨€çš„ <code>printf()</code> å¹¶ä¸åƒ Java é‚£æ ·è¿æ¥å­—ç¬¦ä¸²ï¼Œå®ƒä½¿ç”¨ä¸€ä¸ªç®€å•çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼ŒåŠ ä¸Šè¦æ’å…¥å…¶ä¸­çš„å€¼ï¼Œç„¶åå°†å…¶æ ¼å¼åŒ–è¾“å‡ºã€‚ <code>printf()</code> å¹¶ä¸ä½¿ç”¨é‡è½½çš„ <code>+</code> æ“ä½œç¬¦ï¼ˆCè¯­è¨€æ²¡æœ‰é‡è½½ï¼‰æ¥è¿æ¥å¼•å·å†…çš„å­—ç¬¦ä¸²æˆ–å­—ç¬¦ä¸²å˜é‡ï¼Œè€Œæ˜¯ä½¿ç”¨ç‰¹æ®Šçš„å ä½ç¬¦æ¥è¡¨ç¤ºæ•°æ®å°†æ¥çš„ä½ç½®ã€‚è€Œä¸”å®ƒè¿˜å°†æ’å…¥æ ¼å¼åŒ–å­—ç¬¦ä¸²çš„å‚æ•°ï¼Œä»¥é€—å·åˆ†éš”ï¼Œæ’æˆä¸€è¡Œã€‚ä¾‹å¦‚ï¼š</p><div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code>System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Row 1: [%d %f]%n&quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™ä¸€è¡Œä»£ç åœ¨è¿è¡Œçš„æ—¶å€™ï¼Œé¦–å…ˆå°† <code>x</code> çš„å€¼æ’å…¥åˆ° <code>%d_</code> çš„ä½ç½®ï¼Œç„¶åå°† <code>y</code> çš„å€¼æ’å…¥åˆ° <code>%f</code> çš„ä½ç½®ã€‚è¿™äº›å ä½ç¬¦å«åš<em>æ ¼å¼ä¿®é¥°ç¬¦</em>ï¼Œå®ƒä»¬ä¸ä»…æŒ‡æ˜äº†æ’å…¥æ•°æ®çš„ä½ç½®ï¼ŒåŒæ—¶è¿˜æŒ‡æ˜äº†å°†ä¼šæ’å…¥ä»€ä¹ˆç±»å‹çš„å˜é‡ï¼Œä»¥åŠå¦‚ä½•æ ¼å¼åŒ–ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ <code>%d</code> è¡¨ç¤º <code>x</code> æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œ<code>%f</code> è¡¨ç¤º <code>y</code> æ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°ï¼ˆ<code>float</code> æˆ–è€… <code>double</code>ï¼‰ã€‚</p><h3 id="system-out-format" tabindex="-1"><a class="header-anchor" href="#system-out-format" aria-hidden="true">#</a> <code>System.out.format()</code></h3><p>Java SE5 å¼•å…¥äº† <code>format()</code> æ–¹æ³•ï¼Œå¯ç”¨äº <code>PrintStream</code> æˆ–è€… <code>PrintWriter</code> å¯¹è±¡ï¼ˆä½ å¯ä»¥åœ¨ <a href="/OnJava8/book/Appendix-IO-Streams.html" class="">é™„å½•:æµå¼ I/O</a> äº†è§£æ›´å¤šå†…å®¹ï¼‰ï¼Œå…¶ä¸­ä¹ŸåŒ…æ‹¬ <code>System.out</code> å¯¹è±¡ã€‚<code>format()</code> æ–¹æ³•æ¨¡ä»¿äº† C è¯­è¨€çš„ <code>printf()</code>ã€‚å¦‚æœä½ æ¯”è¾ƒæ€€æ—§çš„è¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ <code>printf()</code>ã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/SimpleFormat.java </span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SimpleFormat</span> <span class="token punctuation">{</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token keyword">int</span> x <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>     
        <span class="token keyword">double</span> y <span class="token operator">=</span> <span class="token number">5.332542</span><span class="token punctuation">;</span>     
        <span class="token comment">// The old way: </span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Row 1: [&quot;</span> <span class="token operator">+</span> x <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> y <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// The new way:     </span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Row 1: [%d %f]%n&quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// or     </span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Row 1: [%d %f]%n&quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
<span class="token comment">/* Output: 
Row 1: [5 5.332542] 
Row 1: [5 5.332542] 
Row 1: [5 5.332542] 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¯ä»¥çœ‹åˆ°ï¼Œ<code>format()</code> å’Œ <code>printf()</code> æ˜¯ç­‰ä»·çš„ï¼Œå®ƒä»¬åªéœ€è¦ä¸€ä¸ªç®€å•çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼ŒåŠ ä¸Šä¸€ä¸²å‚æ•°å³å¯ï¼Œæ¯ä¸ªå‚æ•°å¯¹åº”ä¸€ä¸ªæ ¼å¼ä¿®é¥°ç¬¦ã€‚</p><p><code>String</code> ç±»ä¹Ÿæœ‰ä¸€ä¸ª <code>static format()</code> æ–¹æ³•ï¼Œå¯ä»¥æ ¼å¼åŒ–å­—ç¬¦ä¸²ã€‚</p><h3 id="formatter-ç±»" tabindex="-1"><a class="header-anchor" href="#formatter-ç±»" aria-hidden="true">#</a> <code>Formatter</code> ç±»</h3><p>åœ¨ Java ä¸­ï¼Œæ‰€æœ‰çš„æ ¼å¼åŒ–åŠŸèƒ½éƒ½æ˜¯ç”± <code>java.util.Formatter</code> ç±»å¤„ç†çš„ã€‚å¯ä»¥å°† <code>Formatter</code> çœ‹åšä¸€ä¸ªç¿»è¯‘å™¨ï¼Œå®ƒå°†ä½ çš„æ ¼å¼åŒ–å­—ç¬¦ä¸²ä¸æ•°æ®ç¿»è¯‘æˆéœ€è¦çš„ç»“æœã€‚å½“ä½ åˆ›å»ºä¸€ä¸ª <code>Formatter</code> å¯¹è±¡æ—¶ï¼Œéœ€è¦å‘å…¶æ„é€ å™¨ä¼ é€’ä¸€äº›ä¿¡æ¯ï¼Œå‘Šè¯‰å®ƒæœ€ç»ˆçš„ç»“æœå°†å‘å“ªé‡Œè¾“å‡ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/Turtle.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Turtle</span> <span class="token punctuation">{</span>   
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>   
    <span class="token keyword">private</span> <span class="token class-name">Formatter</span> f<span class="token punctuation">;</span>  
    <span class="token keyword">public</span> <span class="token class-name">Turtle</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Formatter</span> f<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>     
        <span class="token keyword">this</span><span class="token punctuation">.</span>f <span class="token operator">=</span> f<span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>   
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">move</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%s The Turtle is at (%d,%d)%n&quot;</span><span class="token punctuation">,</span>       
            name<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>    
        <span class="token class-name">PrintStream</span> outAlias <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">;</span>     
        <span class="token class-name">Turtle</span> tommy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Turtle</span><span class="token punctuation">(</span><span class="token string">&quot;Tommy&quot;</span><span class="token punctuation">,</span>
            <span class="token keyword">new</span> <span class="token class-name">Formatter</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">Turtle</span> terry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Turtle</span><span class="token punctuation">(</span><span class="token string">&quot;Terry&quot;</span><span class="token punctuation">,</span>       
            <span class="token keyword">new</span> <span class="token class-name">Formatter</span><span class="token punctuation">(</span>outAlias<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        tommy<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        terry<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        tommy<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        terry<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        tommy<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        terry<span class="token punctuation">.</span><span class="token function">move</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
<span class="token comment">/* Output: 
Tommy The Turtle is at (0,0) 
Terry The Turtle is at (4,8) 
Tommy The Turtle is at (3,4) 
Terry The Turtle is at (2,5) 
Tommy The Turtle is at (3,3) 
Terry The Turtle is at (3,3) 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ ¼å¼åŒ–ä¿®é¥°ç¬¦ <code>%s</code> è¡¨æ˜è¿™é‡Œéœ€è¦ <code>String</code> å‚æ•°ã€‚</p><p>æ‰€æœ‰çš„ <code>tommy</code> éƒ½å°†è¾“å‡ºåˆ° <code>System.out</code>ï¼Œè€Œæ‰€æœ‰çš„ <code>terry</code> åˆ™éƒ½è¾“å‡ºåˆ° <code>System.out</code> çš„ä¸€ä¸ªåˆ«åä¸­ã€‚<code>Formatter</code> çš„é‡è½½æ„é€ å™¨æ”¯æŒè¾“å‡ºåˆ°å¤šä¸ªè·¯å¾„ï¼Œä¸è¿‡æœ€å¸¸ç”¨çš„è¿˜æ˜¯ <code>PrintStream()</code>ï¼ˆå¦‚ä¸Šä¾‹ï¼‰ã€<code>OutputStream</code> å’Œ <code>File</code>ã€‚ä½ å¯ä»¥åœ¨ <a href="/OnJava8/book/Appendix-IO-Streams.html" class="">é™„å½•:æµå¼ I/O</a> ä¸­äº†è§£æ›´å¤šä¿¡æ¯ã€‚</p><h3 id="æ ¼å¼åŒ–ä¿®é¥°ç¬¦" tabindex="-1"><a class="header-anchor" href="#æ ¼å¼åŒ–ä¿®é¥°ç¬¦" aria-hidden="true">#</a> æ ¼å¼åŒ–ä¿®é¥°ç¬¦</h3><p>åœ¨æ’å…¥æ•°æ®æ—¶ï¼Œå¦‚æœæƒ³è¦ä¼˜åŒ–ç©ºæ ¼ä¸å¯¹é½ï¼Œä½ éœ€è¦æ›´ç²¾ç»†å¤æ‚çš„æ ¼å¼ä¿®é¥°ç¬¦ã€‚ä»¥ä¸‹æ˜¯å…¶é€šç”¨è¯­æ³•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token operator">%</span><span class="token punctuation">[</span>argument_index$<span class="token punctuation">]</span><span class="token punctuation">[</span>flags<span class="token punctuation">]</span><span class="token punctuation">[</span>width<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">.</span>precision<span class="token punctuation">]</span>conversion 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æœ€å¸¸è§çš„åº”ç”¨æ˜¯æ§åˆ¶ä¸€ä¸ªå­—æ®µçš„æœ€å°é•¿åº¦ï¼Œè¿™å¯ä»¥é€šè¿‡æŒ‡å®š <em>width</em> æ¥å®ç°ã€‚<code>Formatter </code>å¯¹è±¡é€šè¿‡åœ¨å¿…è¦æ—¶æ·»åŠ ç©ºæ ¼ï¼Œæ¥ç¡®ä¿ä¸€ä¸ªå­—æ®µè‡³å°‘è¾¾åˆ°è®¾å®šé•¿åº¦ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ•°æ®æ˜¯å³å¯¹é½çš„ï¼Œä¸è¿‡å¯ä»¥é€šè¿‡ä½¿ç”¨ <code>-</code> æ ‡å¿—æ¥æ”¹å˜å¯¹é½æ–¹å‘ã€‚</p><p>ä¸ <em>width</em> ç›¸å¯¹çš„æ˜¯ <em>precision</em>ï¼Œç”¨äºæŒ‡å®šæœ€å¤§é•¿åº¦ã€‚<em>width</em> å¯ä»¥åº”ç”¨äºå„ç§ç±»å‹çš„æ•°æ®è½¬æ¢ï¼Œå¹¶ä¸”å…¶è¡Œä¸ºæ–¹å¼éƒ½ä¸€æ ·ã€‚<em>precision</em> åˆ™ä¸ç„¶ï¼Œå½“åº”ç”¨äºä¸åŒç±»å‹çš„æ•°æ®è½¬æ¢æ—¶ï¼Œ<em>precision</em> çš„æ„ä¹‰ä¹Ÿä¸åŒã€‚åœ¨å°† <em>precision</em> åº”ç”¨äº <code>String</code> æ—¶ï¼Œå®ƒè¡¨ç¤ºæ‰“å° <code>string</code> æ—¶è¾“å‡ºå­—ç¬¦çš„æœ€å¤§æ•°é‡ã€‚è€Œåœ¨å°† <em>precision</em> åº”ç”¨äºæµ®ç‚¹æ•°æ—¶ï¼Œå®ƒè¡¨ç¤ºå°æ•°éƒ¨åˆ†è¦æ˜¾ç¤ºå‡ºæ¥çš„ä½æ•°ï¼ˆé»˜è®¤æ˜¯ 6 ä½å°æ•°ï¼‰ï¼Œå¦‚æœå°æ•°ä½æ•°è¿‡å¤šåˆ™èˆå…¥ï¼Œå¤ªå°‘åˆ™åœ¨å°¾éƒ¨è¡¥é›¶ã€‚ç”±äºæ•´æ•°æ²¡æœ‰å°æ•°éƒ¨åˆ†ï¼Œæ‰€ä»¥ <em>precision</em> æ— æ³•åº”ç”¨äºæ•´æ•°ï¼Œå¦‚æœä½ å¯¹æ•´æ•°åº”ç”¨ <em>precision</em>ï¼Œåˆ™ä¼šè§¦å‘å¼‚å¸¸ã€‚</p><p>ä¸‹é¢çš„ç¨‹åºåº”ç”¨æ ¼å¼ä¿®é¥°ç¬¦æ¥æ‰“å°ä¸€ä¸ªè´­ç‰©æ”¶æ®ã€‚è¿™æ˜¯ <em>Builder</em> è®¾è®¡æ¨¡å¼çš„ä¸€ä¸ªç®€å•å®ç°ï¼Œå³å…ˆåˆ›å»ºä¸€ä¸ªåˆå§‹å¯¹è±¡ï¼Œç„¶åé€æ¸æ·»åŠ æ–°ä¸œè¥¿ï¼Œæœ€åè°ƒç”¨ <code>build()</code> æ–¹æ³•å®Œæˆæ„å»ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/ReceiptBuilder.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ReceiptBuilder</span> <span class="token punctuation">{</span>   
    <span class="token keyword">private</span> <span class="token keyword">double</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>   
    <span class="token keyword">private</span> <span class="token class-name">Formatter</span> f <span class="token operator">=</span>     
        <span class="token keyword">new</span> <span class="token class-name">Formatter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token keyword">public</span> <span class="token class-name">ReceiptBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>       
          <span class="token string">&quot;%-15s %5s %10s%n&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Item&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Qty&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Price&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>       
          <span class="token string">&quot;%-15s %5s %10s%n&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;----&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;---&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-----&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
        <span class="token punctuation">}</span>   
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token keyword">int</span> qty<span class="token punctuation">,</span> <span class="token keyword">double</span> price<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%-15.15s %5d %10.2f%n&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> qty<span class="token punctuation">,</span> price<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        total <span class="token operator">+=</span> price <span class="token operator">*</span> qty<span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>  
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%-15s %5s %10.2f%n&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Tax&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>       
          total <span class="token operator">*</span> <span class="token number">0.06</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%-15s %5s %10s%n&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;-----&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%-15s %5s %10.2f%n&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Total&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>       
          total <span class="token operator">*</span> <span class="token number">1.06</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">return</span> f<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token class-name">ReceiptBuilder</span> receiptBuilder <span class="token operator">=</span>       
          <span class="token keyword">new</span> <span class="token class-name">ReceiptBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        receiptBuilder<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Jack&#39;s Magic Beans&quot;</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">4.25</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        receiptBuilder<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;Princess Peas&quot;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        receiptBuilder<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>       
          <span class="token string">&quot;Three Bears Porridge&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">14.29</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>receiptBuilder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
<span class="token comment">/* Output: 
Item              Qty      Price 
----              ---      ----- 
Jack&#39;s Magic Be     4       4.25 
Princess Peas       3       5.10 
Three Bears Por     1      14.29 
Tax                         2.80 
                           ----- 
Total                      49.39 
*/</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é€šè¿‡ä¼ å…¥ä¸€ä¸ª <code>StringBuilder</code> å¯¹è±¡åˆ° <code>Formatter</code> çš„æ„é€ å™¨ï¼Œæˆ‘ä»¬æŒ‡å®šäº†ä¸€ä¸ªå®¹å™¨æ¥æ„å»ºç›®æ ‡ <code>String</code>ã€‚ä½ ä¹Ÿå¯ä»¥é€šè¿‡ä¸åŒçš„æ„é€ å™¨å‚æ•°ï¼ŒæŠŠç»“æœè¾“å‡ºåˆ°æ ‡å‡†è¾“å‡ºï¼Œç”šè‡³æ˜¯ä¸€ä¸ªæ–‡ä»¶é‡Œã€‚</p><p>æ­£å¦‚ä½ æ‰€è§ï¼Œé€šè¿‡ç›¸å½“ç®€æ´çš„è¯­æ³•ï¼Œ<code>Formatter </code> æä¾›äº†å¯¹ç©ºæ ¼ä¸å¯¹é½çš„å¼ºå¤§æ§åˆ¶èƒ½åŠ›ã€‚åœ¨è¯¥ç¨‹åºä¸­ï¼Œä¸ºäº†æ°å½“åœ°æ§åˆ¶é—´éš”ï¼Œæ ¼å¼åŒ–å­—ç¬¦ä¸²è¢«é‡å¤åˆ©ç”¨äº†å¤šéã€‚</p><h3 id="formatter-è½¬æ¢" tabindex="-1"><a class="header-anchor" href="#formatter-è½¬æ¢" aria-hidden="true">#</a> <code>Formatter</code> è½¬æ¢</h3><p>ä¸‹é¢çš„è¡¨æ ¼å±•ç¤ºäº†æœ€å¸¸ç”¨çš„ç±»å‹è½¬æ¢ï¼š</p><table><thead><tr><th style="text-align:center;">ç±»å‹</th><th style="text-align:left;">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center;"><code>d</code></td><td style="text-align:left;">æ•´å‹ï¼ˆåè¿›åˆ¶ï¼‰</td></tr><tr><td style="text-align:center;"><code>c</code></td><td style="text-align:left;">Unicodeå­—ç¬¦</td></tr><tr><td style="text-align:center;"><code>b</code></td><td style="text-align:left;">Booleanå€¼</td></tr><tr><td style="text-align:center;"><code>s</code></td><td style="text-align:left;">String</td></tr><tr><td style="text-align:center;"><code>f</code></td><td style="text-align:left;">æµ®ç‚¹æ•°ï¼ˆåè¿›åˆ¶ï¼‰</td></tr><tr><td style="text-align:center;"><code>e</code></td><td style="text-align:left;">æµ®ç‚¹æ•°ï¼ˆç§‘å­¦è®¡æ•°ï¼‰</td></tr><tr><td style="text-align:center;"><code>x</code></td><td style="text-align:left;">æ•´å‹ï¼ˆåå…­è¿›åˆ¶ï¼‰</td></tr><tr><td style="text-align:center;"><code>h</code></td><td style="text-align:left;">æ•£åˆ—ç ï¼ˆåå…­è¿›åˆ¶ï¼‰</td></tr><tr><td style="text-align:center;"><code>%</code></td><td style="text-align:left;">å­—é¢å€¼â€œ%â€</td></tr></tbody></table><p>ä¸‹é¢çš„ç¨‹åºæ¼”ç¤ºäº†è¿™äº›è½¬æ¢æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/Conversion.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>math<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Conversion</span> <span class="token punctuation">{</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token class-name">Formatter</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Formatter</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">)</span><span class="token punctuation">;</span> 

        <span class="token keyword">char</span> u <span class="token operator">=</span> <span class="token char">&#39;a&#39;</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;u = &#39;a&#39;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;s: %s%n&quot;</span><span class="token punctuation">,</span> u<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// f.format(&quot;d: %d%n&quot;, u);     </span>
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;c: %c%n&quot;</span><span class="token punctuation">,</span> u<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;b: %b%n&quot;</span><span class="token punctuation">,</span> u<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// f.format(&quot;f: %f%n&quot;, u);     </span>
        <span class="token comment">// f.format(&quot;e: %e%n&quot;, u);     </span>
        <span class="token comment">// f.format(&quot;x: %x%n&quot;, u);     </span>
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;h: %h%n&quot;</span><span class="token punctuation">,</span> u<span class="token punctuation">)</span><span class="token punctuation">;</span> 

        <span class="token keyword">int</span> v <span class="token operator">=</span> <span class="token number">121</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;v = 121&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;d: %d%n&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;c: %c%n&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;b: %b%n&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;s: %s%n&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// f.format(&quot;f: %f%n&quot;, v);     </span>
        <span class="token comment">// f.format(&quot;e: %e%n&quot;, v);     </span>
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;x: %x%n&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;h: %h%n&quot;</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span> 

        <span class="token class-name">BigInteger</span> w <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BigInteger</span><span class="token punctuation">(</span><span class="token string">&quot;50000000000000&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>       
          <span class="token string">&quot;w = new BigInteger(\&quot;50000000000000\&quot;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;d: %d%n&quot;</span><span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// f.format(&quot;c: %c%n&quot;, w);     </span>
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;b: %b%n&quot;</span><span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;s: %s%n&quot;</span><span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// f.format(&quot;f: %f%n&quot;, w);     </span>
        <span class="token comment">// f.format(&quot;e: %e%n&quot;, w);     </span>
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;x: %x%n&quot;</span><span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;h: %h%n&quot;</span><span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span> 

        <span class="token keyword">double</span> x <span class="token operator">=</span> <span class="token number">179.543</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;x = 179.543&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// f.format(&quot;d: %d%n&quot;, x);     </span>
        <span class="token comment">// f.format(&quot;c: %c%n&quot;, x);     </span>
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;b: %b%n&quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;s: %s%n&quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;f: %f%n&quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;e: %e%n&quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// f.format(&quot;x: %x%n&quot;, x);     </span>
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;h: %h%n&quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">)</span><span class="token punctuation">;</span> 

        <span class="token class-name">Conversion</span> y <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Conversion</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;y = new Conversion()&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

        <span class="token comment">// f.format(&quot;d: %d%n&quot;, y);     </span>
        <span class="token comment">// f.format(&quot;c: %c%n&quot;, y);     </span>
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;b: %b%n&quot;</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;s: %s%n&quot;</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// f.format(&quot;f: %f%n&quot;, y);     </span>
        <span class="token comment">// f.format(&quot;e: %e%n&quot;, y);     </span>
        <span class="token comment">// f.format(&quot;x: %x%n&quot;, y);     </span>
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;h: %h%n&quot;</span><span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span> 

        <span class="token keyword">boolean</span> z <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;z = false&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// f.format(&quot;d: %d%n&quot;, z);     </span>
        <span class="token comment">// f.format(&quot;c: %c%n&quot;, z);     </span>
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;b: %b%n&quot;</span><span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;s: %s%n&quot;</span><span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// f.format(&quot;f: %f%n&quot;, z);     </span>
        <span class="token comment">// f.format(&quot;e: %e%n&quot;, z);     </span>
        <span class="token comment">// f.format(&quot;x: %x%n&quot;, z);     </span>
        f<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;h: %h%n&quot;</span><span class="token punctuation">,</span> z<span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
<span class="token comment">/* Output: 
u = &#39;a&#39; 
s: a 
c: a 
b: true 
h: 61 
v = 121 
d: 121 
c: y 
b: true 
s: 121 
x: 79 
h: 79 
w = new BigInteger(&quot;50000000000000&quot;) 
d: 50000000000000 
b: true 
s: 50000000000000 
x: 2d79883d2000 
h: 8842a1a7 
x = 179.543 
b: true 
s: 179.543 
f: 179.543000 
e: 1.795430e+02 
h: 1ef462c 
y = new Conversion() 
b: true 
s: Conversion@15db9742 
h: 15db9742 
z = false 
b: false 
s: false
h: 4d5 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¢«æ³¨é‡Šçš„ä»£ç è¡¨ç¤ºï¼Œé’ˆå¯¹ç›¸åº”ç±»å‹çš„å˜é‡ï¼Œè¿™äº›è½¬æ¢æ˜¯æ— æ•ˆçš„ã€‚å¦‚æœæ‰§è¡Œè¿™äº›è½¬æ¢ï¼Œåˆ™ä¼šè§¦å‘å¼‚å¸¸ã€‚</p><p>æ³¨æ„ï¼Œç¨‹åºä¸­çš„æ¯ä¸ªå˜é‡éƒ½ç”¨åˆ°äº† <code>b</code> è½¬æ¢ã€‚è™½ç„¶å®ƒå¯¹å„ç§ç±»å‹éƒ½æ˜¯åˆæ³•çš„ï¼Œä½†å…¶è¡Œä¸ºå´ä¸ä¸€å®šä¸ä½ æƒ³è±¡çš„ä¸€è‡´ã€‚å¯¹äº <code>boolean</code> åŸºæœ¬ç±»å‹æˆ– <code>Boolean</code> å¯¹è±¡ï¼Œå…¶è½¬æ¢ç»“æœæ˜¯å¯¹åº”çš„ <code>true</code> æˆ– <code>false</code>ã€‚ä½†æ˜¯ï¼Œå¯¹å…¶ä»–ç±»å‹çš„å‚æ•°ï¼Œåªè¦è¯¥å‚æ•°ä¸ä¸º <code>null</code>ï¼Œå…¶è½¬æ¢ç»“æœæ°¸è¿œéƒ½æ˜¯ <code>true</code>ã€‚å³ä½¿æ˜¯æ•°å­— 0ï¼Œè½¬æ¢ç»“æœä¾ç„¶ä¸º <code>true</code>ï¼Œè€Œè¿™åœ¨å…¶ä»–è¯­è¨€ä¸­ï¼ˆåŒ…æ‹¬Cï¼‰ï¼Œå¾€å¾€è½¬æ¢ä¸º <code>false</code>ã€‚æ‰€ä»¥ï¼Œå°† <code>b</code> åº”ç”¨äºéå¸ƒå°”ç±»å‹çš„å¯¹è±¡æ—¶è¯·æ ¼å¤–å°å¿ƒã€‚</p><p>è¿˜æœ‰è®¸å¤šä¸å¸¸ç”¨çš„ç±»å‹è½¬æ¢ä¸æ ¼å¼ä¿®é¥°ç¬¦é€‰é¡¹ï¼Œä½ å¯ä»¥åœ¨ JDK æ–‡æ¡£ä¸­çš„ <code>Formatter</code> ç±»éƒ¨åˆ†æ‰¾åˆ°å®ƒä»¬ã€‚</p><h3 id="string-format" tabindex="-1"><a class="header-anchor" href="#string-format" aria-hidden="true">#</a> <code>String.format()</code></h3><p>Java SE5 ä¹Ÿå‚è€ƒäº† C ä¸­çš„ <code>sprintf()</code> æ–¹æ³•ï¼Œä»¥ç”Ÿæˆæ ¼å¼åŒ–çš„ <code>String</code> å¯¹è±¡ã€‚<code>String.format()</code> æ˜¯ä¸€ä¸ª <code>static</code> æ–¹æ³•ï¼Œå®ƒæ¥å—ä¸ <code>Formatter.format()</code> æ–¹æ³•ä¸€æ ·çš„å‚æ•°ï¼Œä½†è¿”å›ä¸€ä¸ª <code>String</code> å¯¹è±¡ã€‚å½“ä½ åªéœ€ä½¿ç”¨ä¸€æ¬¡ <code>format()</code> æ–¹æ³•çš„æ—¶å€™ï¼Œ<code>String.format()</code> ç”¨èµ·æ¥å¾ˆæ–¹ä¾¿ã€‚ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/DatabaseException.java </span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DatabaseException</span> <span class="token keyword">extends</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>   
    <span class="token keyword">public</span> <span class="token class-name">DatabaseException</span><span class="token punctuation">(</span><span class="token keyword">int</span> transactionID<span class="token punctuation">,</span>     
      <span class="token keyword">int</span> queryID<span class="token punctuation">,</span> <span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
      <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;(t%d, q%d) %s&quot;</span><span class="token punctuation">,</span> transactionID<span class="token punctuation">,</span>         
        queryID<span class="token punctuation">,</span> message<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
      <span class="token keyword">try</span> <span class="token punctuation">{</span>       
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">DatabaseException</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">&quot;Write failed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
      <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>       
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>     
      <span class="token punctuation">}</span>   
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
<span class="token comment">/* 
Output: 
DatabaseException: (t3, q7) Write failed 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶å®åœ¨ <code>String.format()</code> å†…éƒ¨ï¼Œå®ƒä¹Ÿæ˜¯åˆ›å»ºäº†ä¸€ä¸ª <code>Formatter</code> å¯¹è±¡ï¼Œç„¶åå°†ä½ ä¼ å…¥çš„å‚æ•°è½¬ç»™ <code>Formatter</code>ã€‚ä¸è¿‡ï¼Œä¸å…¶è‡ªå·±åšè¿™äº›äº‹æƒ…ï¼Œä¸å¦‚ä½¿ç”¨ä¾¿æ·çš„ <code>String.format()</code> æ–¹æ³•ï¼Œä½•å†µè¿™æ ·çš„ä»£ç æ›´æ¸…æ™°æ˜“è¯»ã€‚</p><h4 id="ä¸€ä¸ªåå…­è¿›åˆ¶è½¬å‚¨-dump-å·¥å…·" tabindex="-1"><a class="header-anchor" href="#ä¸€ä¸ªåå…­è¿›åˆ¶è½¬å‚¨-dump-å·¥å…·" aria-hidden="true">#</a> ä¸€ä¸ªåå…­è¿›åˆ¶è½¬å‚¨ï¼ˆdumpï¼‰å·¥å…·</h4><p>åœ¨ç¬¬äºŒä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬æŠŠäºŒè¿›åˆ¶æ–‡ä»¶è½¬æ¢ä¸ºåå…­è¿›åˆ¶æ ¼å¼ã€‚ä¸‹é¢çš„å°å·¥å…·ä½¿ç”¨äº† <code>String.format()</code> æ–¹æ³•ï¼Œä»¥å¯è¯»çš„åå…­è¿›åˆ¶æ ¼å¼å°†å­—èŠ‚æ•°ç»„æ‰“å°å‡ºæ¥ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/Hex.java </span>
<span class="token comment">// {java onjava.Hex} </span>
<span class="token keyword">package</span> <span class="token namespace">onjava</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>file<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Hex</span> <span class="token punctuation">{</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token class-name">StringBuilder</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>     
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">byte</span> b <span class="token operator">:</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>       
            <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">%</span> <span class="token number">16</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>         
                result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%05X: &quot;</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       
            result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;%02X &quot;</span><span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       
            n<span class="token operator">++</span><span class="token punctuation">;</span>       
            <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">%</span> <span class="token number">16</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token punctuation">}</span>     
        result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>  
        <span class="token keyword">if</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>       
            <span class="token comment">// Test by displaying this class file:       </span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">format</span><span class="token punctuation">(</span>         
                <span class="token class-name">Files</span><span class="token punctuation">.</span><span class="token function">readAllBytes</span><span class="token punctuation">(</span><span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>           
                  <span class="token string">&quot;build/classes/main/onjava/Hex.class&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">else</span>       
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">format</span><span class="token punctuation">(</span>         
                <span class="token class-name">Files</span><span class="token punctuation">.</span><span class="token function">readAllBytes</span><span class="token punctuation">(</span><span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
<span class="token comment">/* Output: (First 6 Lines) 
00000: CA FE BA BE 00 00 00 34 00 61 0A 00 05 00 31 07 
00010: 00 32 0A 00 02 00 31 08 00 33 07 00 34 0A 00 35 
00020: 00 36 0A 00 0F 00 37 0A 00 02 00 38 08 00 39 0A 
00030: 00 3A 00 3B 08 00 3C 0A 00 02 00 3D 09 00 3E 00 
00040: 3F 08 00 40 07 00 41 0A 00 42 00 43 0A 00 44 00 
00050: 45 0A 00 14 00 46 0A 00 47 00 48 07 00 49 01 00
                  ... 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸ºäº†æ‰“å¼€åŠè¯»å…¥äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œæˆ‘ä»¬ç”¨åˆ°äº†å¦ä¸€ä¸ªå·¥å…· <code>Files.readAllBytes()</code>ï¼Œè¿™å·²ç»åœ¨ <a href="/OnJava8/book/17-Files.html" class="">Filesç« èŠ‚</a> ä»‹ç»è¿‡äº†ã€‚è¿™é‡Œçš„ <code>readAllBytes()</code> æ–¹æ³•å°†æ•´ä¸ªæ–‡ä»¶ä»¥ <code>byte</code> æ•°ç»„çš„å½¢å¼è¿”å›ã€‚</p><!-- Regular Expressions --><h2 id="æ­£åˆ™è¡¨è¾¾å¼" tabindex="-1"><a class="header-anchor" href="#æ­£åˆ™è¡¨è¾¾å¼" aria-hidden="true">#</a> æ­£åˆ™è¡¨è¾¾å¼</h2><p>å¾ˆä¹…ä¹‹å‰ï¼Œ<em>æ­£åˆ™è¡¨è¾¾å¼</em>å°±å·²ç»æ•´åˆåˆ°æ ‡å‡† Unix å·¥å…·é›†ä¹‹ä¸­ï¼Œä¾‹å¦‚ sedã€awk å’Œç¨‹åºè¯­è¨€ä¹‹ä¸­äº†ï¼Œå¦‚ Python å’ŒPerlï¼ˆæœ‰äº›äººè®¤ä¸ºæ­£æ˜¯æ­£åˆ™è¡¨è¾¾å¼ä¿ƒæˆäº† Perl çš„æˆåŠŸï¼‰ã€‚è€Œåœ¨ Java ä¸­ï¼Œå­—ç¬¦ä¸²æ“ä½œè¿˜ä¸»è¦é›†ä¸­äº<code>String</code>ã€<code>StringBuffer</code> å’Œ <code>StringTokenizer</code> ç±»ã€‚ä¸æ­£åˆ™è¡¨è¾¾å¼ç›¸æ¯”è¾ƒï¼Œå®ƒä»¬åªèƒ½æä¾›ç›¸å½“ç®€å•çš„åŠŸèƒ½ã€‚</p><p>æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä¸€ç§å¼ºå¤§è€Œçµæ´»çš„æ–‡æœ¬å¤„ç†å·¥å…·ã€‚ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œæˆ‘ä»¬èƒ½å¤Ÿä»¥ç¼–ç¨‹çš„æ–¹å¼ï¼Œæ„é€ å¤æ‚çš„æ–‡æœ¬æ¨¡å¼ï¼Œå¹¶å¯¹è¾“å…¥ <code>String</code> è¿›è¡Œæœç´¢ã€‚ä¸€æ—¦æ‰¾åˆ°äº†åŒ¹é…è¿™äº›æ¨¡å¼çš„éƒ¨åˆ†ï¼Œä½ å°±èƒ½éšå¿ƒæ‰€æ¬²åœ°å¯¹å®ƒä»¬è¿›è¡Œå¤„ç†ã€‚åˆå­¦æ­£åˆ™è¡¨è¾¾å¼æ—¶ï¼Œå…¶è¯­æ³•æ˜¯ä¸€ä¸ªéš¾ç‚¹ï¼Œä½†å®ƒç¡®å®æ˜¯ä¸€ç§ç®€æ´ã€åŠ¨æ€çš„è¯­è¨€ã€‚æ­£åˆ™è¡¨è¾¾å¼æä¾›äº†ä¸€ç§å®Œå…¨é€šç”¨çš„æ–¹å¼ï¼Œèƒ½å¤Ÿè§£å†³å„ç§ <code>String</code> å¤„ç†ç›¸å…³çš„é—®é¢˜ï¼šåŒ¹é…ã€é€‰æ‹©ã€ç¼–è¾‘ä»¥åŠéªŒè¯ã€‚</p><h3 id="åŸºç¡€" tabindex="-1"><a class="header-anchor" href="#åŸºç¡€" aria-hidden="true">#</a> åŸºç¡€</h3><p>ä¸€èˆ¬æ¥è¯´ï¼Œæ­£åˆ™è¡¨è¾¾å¼å°±æ˜¯ä»¥æŸç§æ–¹å¼æ¥æè¿°å­—ç¬¦ä¸²ï¼Œå› æ­¤ä½ å¯ä»¥è¯´ï¼šâ€œå¦‚æœä¸€ä¸ªå­—ç¬¦ä¸²å«æœ‰è¿™äº›ä¸œè¥¿ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯æˆ‘æ­£åœ¨æ‰¾çš„ä¸œè¥¿ã€‚â€ä¾‹å¦‚ï¼Œè¦æ‰¾ä¸€ä¸ªæ•°å­—ï¼Œå®ƒå¯èƒ½æœ‰ä¸€ä¸ªè´Ÿå·åœ¨æœ€å‰é¢ï¼Œé‚£ä½ å°±å†™ä¸€ä¸ªè´Ÿå·åŠ ä¸Šä¸€ä¸ªé—®å·ï¼Œå°±åƒè¿™æ ·ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token operator">-</span><span class="token operator">?</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¦æè¿°ä¸€ä¸ªæ•´æ•°ï¼Œä½ å¯ä»¥è¯´å®ƒæœ‰ä¸€ä½æˆ–å¤šä½é˜¿æ‹‰ä¼¯æ•°å­—ã€‚åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œç”¨ <code>\d</code> è¡¨ç¤ºä¸€ä½æ•°å­—ã€‚å¦‚æœåœ¨å…¶ä»–è¯­è¨€ä¸­ä½¿ç”¨è¿‡æ­£åˆ™è¡¨è¾¾å¼ï¼Œé‚£ä½ å¯èƒ½å°±èƒ½å‘ç° Java å¯¹åæ–œçº¿ \ çš„ä¸åŒå¤„ç†æ–¹å¼ã€‚åœ¨å…¶ä»–è¯­è¨€ä¸­ï¼Œ<code>\\</code> è¡¨ç¤ºâ€œæˆ‘æƒ³è¦åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­æ’å…¥ä¸€ä¸ªæ™®é€šçš„ï¼ˆå­—é¢ä¸Šçš„ï¼‰åæ–œçº¿ï¼Œè¯·ä¸è¦ç»™å®ƒä»»ä½•ç‰¹æ®Šçš„æ„ä¹‰ã€‚â€è€Œåœ¨Javaä¸­ï¼Œ<code>\\</code> çš„æ„æ€æ˜¯â€œæˆ‘è¦æ’å…¥ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼çš„åæ–œçº¿ï¼Œæ‰€ä»¥å…¶åçš„å­—ç¬¦å…·æœ‰ç‰¹æ®Šçš„æ„ä¹‰ã€‚â€ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³è¡¨ç¤ºä¸€ä½æ•°å­—ï¼Œé‚£ä¹ˆæ­£åˆ™è¡¨è¾¾å¼åº”è¯¥æ˜¯ <code>\\d</code>ã€‚å¦‚æœä½ æƒ³æ’å…¥ä¸€ä¸ªæ™®é€šçš„åæ–œçº¿ï¼Œåº”è¯¥è¿™æ ·å†™ <code>\\\</code>ã€‚ä¸è¿‡æ¢è¡Œç¬¦å’Œåˆ¶è¡¨ç¬¦ä¹‹ç±»çš„ä¸œè¥¿åªéœ€è¦ä½¿ç”¨å•åæ–œçº¿ï¼š<code>\n\t</code>ã€‚ <a href="Java%E5%B9%B6%E9%9D%9E%E5%9C%A8%E4%B8%80%E5%BC%80%E5%A7%8B%E5%B0%B1%E6%94%AF%E6%8C%81%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%8C%E5%9B%A0%E6%AD%A4%E8%BF%99%E4%B8%AA%E4%BB%A4%E4%BA%BA%E8%B4%B9%E8%A7%A3%E7%9A%84%E8%AF%AD%E6%B3%95%E6%98%AF%E7%A1%AC%E5%A1%9E%E8%BF%9B%E6%9D%A5%E7%9A%84%E3%80%82">^2</a></p><p>è¦è¡¨ç¤ºâ€œä¸€ä¸ªæˆ–å¤šä¸ªä¹‹å‰çš„è¡¨è¾¾å¼â€ï¼Œåº”è¯¥ä½¿ç”¨ <code>+</code>ã€‚æ‰€ä»¥ï¼Œå¦‚æœè¦è¡¨ç¤ºâ€œå¯èƒ½æœ‰ä¸€ä¸ªè´Ÿå·ï¼Œåé¢è·Ÿç€ä¸€ä½æˆ–å¤šä½æ•°å­—â€ï¼Œå¯ä»¥è¿™æ ·ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token operator">-</span><span class="token operator">?</span>\\d<span class="token operator">+</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åº”ç”¨æ­£åˆ™è¡¨è¾¾å¼æœ€ç®€å•çš„é€”å¾„ï¼Œå°±æ˜¯åˆ©ç”¨ <code>String</code> ç±»å†…å»ºçš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥æ£€æŸ¥ä¸€ä¸ª <code>String</code> æ˜¯å¦åŒ¹é…å¦‚ä¸Šæ‰€è¿°çš„æ­£åˆ™è¡¨è¾¾å¼ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/IntegerMatch.java </span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IntegerMatch</span> <span class="token punctuation">{</span>  
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;-1234&quot;</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">&quot;-?\\d+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;5678&quot;</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">&quot;-?\\d+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;+911&quot;</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">&quot;-?\\d+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;+911&quot;</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">&quot;(-|\\+)?\\d+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output: 
true 
true 
false 
true 
*/</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å‰ä¸¤ä¸ªå­—ç¬¦ä¸²éƒ½æ»¡è¶³å¯¹åº”çš„æ­£åˆ™è¡¨è¾¾å¼ï¼ŒåŒ¹é…æˆåŠŸã€‚ç¬¬ä¸‰ä¸ªå­—ç¬¦ä¸²ä»¥ <code>+</code> å¼€å¤´ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªåˆæ³•çš„ç¬¦å·ï¼Œä½†ä¸å¯¹åº”çš„æ­£åˆ™è¡¨è¾¾å¼å´ä¸åŒ¹é…ã€‚å› æ­¤ï¼Œæˆ‘ä»¬çš„æ­£åˆ™è¡¨è¾¾å¼åº”è¯¥æè¿°ä¸ºï¼šâ€œå¯èƒ½ä»¥ä¸€ä¸ªåŠ å·æˆ–å‡å·å¼€å¤´â€ã€‚åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œç”¨æ‹¬å·å°†è¡¨è¾¾å¼è¿›è¡Œåˆ†ç»„ï¼Œç”¨ç«–çº¿ <code>|</code> è¡¨ç¤ºæˆ–æ“ä½œã€‚ä¹Ÿå°±æ˜¯ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">(</span><span class="token operator">-</span><span class="token operator">|</span>\\<span class="token operator">+</span><span class="token punctuation">)</span><span class="token operator">?</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼è¡¨ç¤ºå­—ç¬¦ä¸²çš„èµ·å§‹å­—ç¬¦å¯èƒ½æ˜¯ä¸€ä¸ª <code>-</code> æˆ– <code>+</code>ï¼Œæˆ–è€…äºŒè€…éƒ½æ²¡æœ‰ï¼ˆå› ä¸ºåé¢è·Ÿç€ <code>?</code> ä¿®é¥°ç¬¦ï¼‰ã€‚å› ä¸ºå­—ç¬¦ <code>+</code> åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­æœ‰ç‰¹æ®Šçš„æ„ä¹‰ï¼Œæ‰€ä»¥å¿…é¡»ä½¿ç”¨ <code>\\</code> å°†å…¶è½¬ä¹‰ï¼Œä½¿ä¹‹æˆä¸ºè¡¨è¾¾å¼ä¸­çš„ä¸€ä¸ªæ™®é€šå­—ç¬¦ã€‚</p><p><code>String</code>ç±»è¿˜è‡ªå¸¦äº†ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼å·¥å…·â€”â€”<code>split()</code> æ–¹æ³•ï¼Œå…¶åŠŸèƒ½æ˜¯â€œå°†å­—ç¬¦ä¸²ä»æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„åœ°æ–¹åˆ‡å¼€ã€‚â€</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/Splitting.java import java.util.*; </span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Splitting</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> knights <span class="token operator">=</span>   
      <span class="token string">&quot;Then, when you have found the shrubbery, &quot;</span> <span class="token operator">+</span>
      <span class="token string">&quot;you must cut down the mightiest tree in the &quot;</span> <span class="token operator">+</span>
      <span class="token string">&quot;forest...with... a herring!&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">split</span><span class="token punctuation">(</span><span class="token class-name">String</span> regex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
          <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>knights<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Doesn&#39;t have to contain regex chars</span>
        <span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;\\W+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Non-word characters</span>
        <span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;n\\W+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;n&#39; followed by non-words</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
[Then,, when, you, have, found, the, shrubbery,, you,
must, cut, down, the, mightiest, tree, in, the,
forest...with..., a, herring!]
[Then, when, you, have, found, the, shrubbery, you,
must, cut, down, the, mightiest, tree, in, the, forest,
with, a, herring]
[The, whe, you have found the shrubbery, you must cut
dow, the mightiest tree i, the forest...with... a
herring!]
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é¦–å…ˆçœ‹ç¬¬ä¸€ä¸ªè¯­å¥ï¼Œæ³¨æ„è¿™é‡Œç”¨çš„æ˜¯æ™®é€šçš„å­—ç¬¦ä½œä¸ºæ­£åˆ™è¡¨è¾¾å¼ï¼Œå…¶ä¸­å¹¶ä¸åŒ…å«ä»»ä½•ç‰¹æ®Šå­—ç¬¦ã€‚å› æ­¤ç¬¬ä¸€ä¸ª <code>split()</code> åªæ˜¯æŒ‰ç©ºæ ¼æ¥åˆ’åˆ†å­—ç¬¦ä¸²ã€‚</p><p>ç¬¬äºŒä¸ªå’Œç¬¬ä¸‰ä¸ª <code>split()</code> éƒ½ç”¨åˆ°äº† <code>\\W</code>ï¼Œå®ƒçš„æ„æ€æ˜¯ä¸€ä¸ªéå•è¯å­—ç¬¦ï¼ˆå¦‚æœ W å°å†™ï¼Œ<code>\\w</code>ï¼Œåˆ™è¡¨ç¤ºä¸€ä¸ªå•è¯å­—ç¬¦ï¼‰ã€‚é€šè¿‡ç¬¬äºŒä¸ªä¾‹å­å¯ä»¥çœ‹åˆ°ï¼Œå®ƒå°†æ ‡ç‚¹å­—ç¬¦åˆ é™¤äº†ã€‚ç¬¬ä¸‰ä¸ª <code>split()</code> è¡¨ç¤ºâ€œå­—æ¯ <code>n</code> åé¢è·Ÿç€ä¸€ä¸ªæˆ–å¤šä¸ªéå•è¯å­—ç¬¦ã€‚â€å¯ä»¥çœ‹åˆ°ï¼Œåœ¨åŸå§‹å­—ç¬¦ä¸²ä¸­ï¼Œä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„éƒ¨åˆ†ï¼Œåœ¨æœ€ç»ˆç»“æœä¸­éƒ½ä¸å­˜åœ¨äº†ã€‚</p><p><code>String.split()</code> è¿˜æœ‰ä¸€ä¸ªé‡è½½çš„ç‰ˆæœ¬ï¼Œå®ƒå…è®¸ä½ é™åˆ¶å­—ç¬¦ä¸²åˆ†å‰²çš„æ¬¡æ•°ã€‚</p><p>ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œæ›¿æ¢æ“ä½œæ—¶ï¼Œä½ å¯ä»¥åªæ›¿æ¢ç¬¬ä¸€å¤„åŒ¹é…ï¼Œä¹Ÿå¯ä»¥æ›¿æ¢æ‰€æœ‰çš„åŒ¹é…ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/Replacing.java </span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Replacing</span> <span class="token punctuation">{</span>
    <span class="token keyword">static</span> <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token class-name">Splitting</span><span class="token punctuation">.</span>knights<span class="token punctuation">;</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
          s<span class="token punctuation">.</span><span class="token function">replaceFirst</span><span class="token punctuation">(</span><span class="token string">&quot;f\\w+&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;located&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>       
          s<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">&quot;shrubbery|tree|herring&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;banana&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
<span class="token comment">/* Output: 
Then, when you have located the shrubbery, you must cut 
down the mightiest tree in the forest...with... a 
herring! 
Then, when you have found the banana, you must cut down
the mightiest banana in the forest...with... a banana! 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¬¬ä¸€ä¸ªè¡¨è¾¾å¼è¦åŒ¹é…çš„æ˜¯ï¼Œä»¥å­—æ¯ <code>f</code> å¼€å¤´ï¼Œåé¢è·Ÿä¸€ä¸ªæˆ–å¤šä¸ªå­—æ¯ï¼ˆæ³¨æ„è¿™é‡Œçš„ <code>w</code> æ˜¯å°å†™çš„ï¼‰ã€‚å¹¶ä¸”åªæ›¿æ¢æ‰ç¬¬ä¸€ä¸ªåŒ¹é…çš„éƒ¨åˆ†ï¼Œæ‰€ä»¥ â€œfoundâ€ è¢«æ›¿æ¢æˆ â€œlocatedâ€ã€‚</p><p>ç¬¬äºŒä¸ªè¡¨è¾¾å¼è¦åŒ¹é…çš„æ˜¯ä¸‰ä¸ªå•è¯ä¸­çš„ä»»æ„ä¸€ä¸ªï¼Œå› ä¸ºå®ƒä»¬ä»¥ç«–çº¿åˆ†å‰²è¡¨ç¤ºâ€œæˆ–â€ï¼Œå¹¶ä¸”æ›¿æ¢æ‰€æœ‰åŒ¹é…çš„éƒ¨åˆ†ã€‚</p><p>ç¨åä½ ä¼šçœ‹åˆ°ï¼Œ<code>String</code> ä¹‹å¤–çš„æ­£åˆ™è¡¨è¾¾å¼è¿˜æœ‰æ›´å¼ºå¤§çš„æ›¿æ¢å·¥å…·ï¼Œä¾‹å¦‚ï¼Œå¯ä»¥é€šè¿‡æ–¹æ³•è°ƒç”¨æ‰§è¡Œæ›¿æ¢ã€‚è€Œä¸”ï¼Œå¦‚æœæ­£åˆ™è¡¨è¾¾å¼ä¸æ˜¯åªä½¿ç”¨ä¸€æ¬¡çš„è¯ï¼Œé <code>String</code> å¯¹è±¡çš„æ­£åˆ™è¡¨è¾¾å¼æ˜æ˜¾å…·å¤‡æ›´ä½³çš„æ€§èƒ½ã€‚</p><h3 id="åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼" aria-hidden="true">#</a> åˆ›å»ºæ­£åˆ™è¡¨è¾¾å¼</h3><p>æˆ‘ä»¬é¦–å…ˆä»æ­£åˆ™è¡¨è¾¾å¼å¯èƒ½å­˜åœ¨çš„æ„é€ é›†ä¸­é€‰å–ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„å­é›†ï¼Œä»¥æ­¤å¼€å§‹å­¦ä¹ æ­£åˆ™è¡¨è¾¾å¼ã€‚æ­£åˆ™è¡¨è¾¾å¼çš„å®Œæ•´æ„é€ å­åˆ—è¡¨ï¼Œè¯·å‚è€ƒJDKæ–‡æ¡£ <code>java.util.regex</code> åŒ…ä¸­çš„ <code>Pattern</code>ç±»ã€‚</p><table><thead><tr><th style="text-align:left;">è¡¨è¾¾å¼</th><th style="text-align:left;">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:left;"><code>B</code></td><td style="text-align:left;">æŒ‡å®šå­—ç¬¦<code>B</code></td></tr><tr><td style="text-align:left;"><code>\xhh</code></td><td style="text-align:left;">åå…­è¿›åˆ¶å€¼ä¸º<code>0xhh</code>çš„å­—ç¬¦</td></tr><tr><td style="text-align:left;"><code>\uhhhh</code></td><td style="text-align:left;">åå…­è¿›åˆ¶è¡¨ç°ä¸º<code>0xhhhh</code>çš„Unicodeå­—ç¬¦</td></tr><tr><td style="text-align:left;"><code>\t</code></td><td style="text-align:left;">åˆ¶è¡¨ç¬¦Tab</td></tr><tr><td style="text-align:left;"><code>\n</code></td><td style="text-align:left;">æ¢è¡Œç¬¦</td></tr><tr><td style="text-align:left;"><code>\r</code></td><td style="text-align:left;">å›è½¦</td></tr><tr><td style="text-align:left;"><code>\f</code></td><td style="text-align:left;">æ¢é¡µ</td></tr><tr><td style="text-align:left;"><code>\e</code></td><td style="text-align:left;">è½¬ä¹‰ï¼ˆEscapeï¼‰</td></tr></tbody></table><p>å½“ä½ å­¦ä¼šäº†ä½¿ç”¨å­—ç¬¦ç±»ï¼ˆcharacter classesï¼‰ä¹‹åï¼Œæ­£åˆ™è¡¨è¾¾å¼çš„å¨åŠ›æ‰èƒ½çœŸæ­£æ˜¾ç°å‡ºæ¥ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›åˆ›å»ºå­—ç¬¦ç±»çš„å…¸å‹æ–¹å¼ï¼Œä»¥åŠä¸€äº›é¢„å®šä¹‰çš„ç±»ï¼š</p><table><thead><tr><th style="text-align:left;">è¡¨è¾¾å¼</th><th style="text-align:left;">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:left;"><code>.</code></td><td style="text-align:left;">ä»»æ„å­—ç¬¦</td></tr><tr><td style="text-align:left;"><code>[abc]</code></td><td style="text-align:left;">åŒ…å«<code>a</code>ã€<code>b</code>æˆ–<code>c</code>çš„ä»»ä½•å­—ç¬¦ï¼ˆå’Œ`a</td></tr><tr><td style="text-align:left;"><code>[^abc]</code></td><td style="text-align:left;">é™¤<code>a</code>ã€<code>b</code>å’Œ<code>c</code>ä¹‹å¤–çš„ä»»ä½•å­—ç¬¦ï¼ˆå¦å®šï¼‰</td></tr><tr><td style="text-align:left;"><code>[a-zA-Z]</code></td><td style="text-align:left;">ä»<code>a</code>åˆ°<code>z</code>æˆ–ä»<code>A</code>åˆ°<code>Z</code>çš„ä»»ä½•å­—ç¬¦ï¼ˆèŒƒå›´ï¼‰</td></tr><tr><td style="text-align:left;"><code>[abc[hij]]</code></td><td style="text-align:left;"><code>a</code>ã€<code>b</code>ã€<code>c</code>ã€<code>h</code>ã€<code>i</code>ã€<code>j</code>ä¸­çš„ä»»æ„å­—ç¬¦ï¼ˆä¸`a</td></tr><tr><td style="text-align:left;"><code>[a-z&amp;&amp;[hij]]</code></td><td style="text-align:left;">ä»»æ„<code>h</code>ã€<code>i</code>æˆ–<code>j</code>ï¼ˆäº¤ï¼‰</td></tr><tr><td style="text-align:left;"><code>\s</code></td><td style="text-align:left;">ç©ºç™½ç¬¦ï¼ˆç©ºæ ¼ã€tabã€æ¢è¡Œã€æ¢é¡µã€å›è½¦ï¼‰</td></tr><tr><td style="text-align:left;"><code>\S</code></td><td style="text-align:left;">éç©ºç™½ç¬¦ï¼ˆ<code>[^\s]</code>ï¼‰</td></tr><tr><td style="text-align:left;"><code>\d</code></td><td style="text-align:left;">æ•°å­—ï¼ˆ<code>[0-9]</code>ï¼‰</td></tr><tr><td style="text-align:left;"><code>\D</code></td><td style="text-align:left;">éæ•°å­—ï¼ˆ<code>[^0-9]</code>ï¼‰</td></tr><tr><td style="text-align:left;"><code>\w</code></td><td style="text-align:left;">è¯å­—ç¬¦ï¼ˆ<code>[a-zA-Z_0-9]</code>ï¼‰</td></tr><tr><td style="text-align:left;"><code>\W</code></td><td style="text-align:left;">éè¯å­—ç¬¦ï¼ˆ<code>[^\w]</code>ï¼‰</td></tr></tbody></table><p>è¿™é‡Œåªåˆ—å‡ºäº†éƒ¨åˆ†å¸¸ç”¨çš„è¡¨è¾¾å¼ï¼Œä½ åº”è¯¥å°†JDKæ–‡æ¡£ä¸­ <code>java.util.regex.Pattern</code> é‚£ä¸€é¡µåŠ å…¥æµè§ˆå™¨ä¹¦ç­¾ä¸­ï¼Œä»¥ä¾¿åœ¨éœ€è¦çš„æ—¶å€™æ–¹ä¾¿æŸ¥è¯¢ã€‚</p><table><thead><tr><th style="text-align:center;">é€»è¾‘æ“ä½œç¬¦</th><th style="text-align:left;">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center;"><code>XY</code></td><td style="text-align:left;"><code>Y</code>è·Ÿåœ¨<code>X</code>åé¢</td></tr><tr><td style="text-align:center;">`X</td><td style="text-align:left;">Y`</td></tr><tr><td style="text-align:center;"><code>(X)</code></td><td style="text-align:left;">æ•è·ç»„ï¼ˆcapturing groupï¼‰ã€‚å¯ä»¥åœ¨è¡¨è¾¾å¼ä¸­ç”¨<code>\i</code>å¼•ç”¨ç¬¬iä¸ªæ•è·ç»„</td></tr></tbody></table><p>ä¸‹é¢æ˜¯ä¸åŒçš„è¾¹ç•ŒåŒ¹é…ç¬¦ï¼š</p><table><thead><tr><th style="text-align:center;">è¾¹ç•ŒåŒ¹é…ç¬¦</th><th style="text-align:left;">å«ä¹‰</th></tr></thead><tbody><tr><td style="text-align:center;"><code>^</code></td><td style="text-align:left;">ä¸€è¡Œçš„å¼€å§‹</td></tr><tr><td style="text-align:center;"><code>$</code></td><td style="text-align:left;">ä¸€è¡Œçš„ç»“æŸ</td></tr><tr><td style="text-align:center;"><code>\b</code></td><td style="text-align:left;">è¯çš„è¾¹ç•Œ</td></tr><tr><td style="text-align:center;"><code>\B</code></td><td style="text-align:left;">éè¯çš„è¾¹ç•Œ</td></tr><tr><td style="text-align:center;"><code>\G</code></td><td style="text-align:left;">å‰ä¸€ä¸ªåŒ¹é…çš„ç»“æŸ</td></tr></tbody></table><p>ä½œä¸ºæ¼”ç¤ºï¼Œä¸‹é¢çš„æ¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼éƒ½èƒ½æˆåŠŸåŒ¹é…å­—ç¬¦åºåˆ—â€œRudolphâ€ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/Rudolph.java </span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Rudolph</span> <span class="token punctuation">{</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> pattern <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span>       
          <span class="token string">&quot;Rudolph&quot;</span><span class="token punctuation">,</span>       
          <span class="token string">&quot;[rR]udolph&quot;</span><span class="token punctuation">,</span>       
          <span class="token string">&quot;[rR][aeiou][a-z]ol.*&quot;</span><span class="token punctuation">,</span>       
          <span class="token string">&quot;R.*&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>       
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Rudolph&quot;</span><span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
<span class="token comment">/* Output: 
true 
true 
true 
true 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬çš„ç›®çš„å¹¶ä¸æ˜¯ç¼–å†™æœ€éš¾ç†è§£çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œè€Œæ˜¯å°½é‡ç¼–å†™èƒ½å¤Ÿå®Œæˆä»»åŠ¡çš„ã€æœ€ç®€å•ä»¥åŠæœ€å¿…è¦çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚ä¸€æ—¦çœŸæ­£å¼€å§‹ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼äº†ï¼Œä½ å°±ä¼šå‘ç°ï¼Œåœ¨ç¼–å†™æ–°çš„è¡¨è¾¾å¼ä¹‹å‰ï¼Œä½ é€šå¸¸ä¼šå‚è€ƒä»£ç ä¸­å·²ç»ç”¨åˆ°çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚</p><h3 id="é‡è¯" tabindex="-1"><a class="header-anchor" href="#é‡è¯" aria-hidden="true">#</a> é‡è¯</h3><p>é‡è¯æè¿°äº†ä¸€ä¸ªæ¨¡å¼æ•è·è¾“å…¥æ–‡æœ¬çš„æ–¹å¼ï¼š</p><ul><li><p><strong>è´ªå©ªå‹</strong>ï¼š é‡è¯æ€»æ˜¯è´ªå©ªçš„ï¼Œé™¤éæœ‰å…¶ä»–çš„é€‰é¡¹è¢«è®¾ç½®ã€‚è´ªå©ªè¡¨è¾¾å¼ä¼šä¸ºæ‰€æœ‰å¯èƒ½çš„æ¨¡å¼å‘ç°å°½å¯èƒ½å¤šçš„åŒ¹é…ã€‚å¯¼è‡´æ­¤é—®é¢˜çš„ä¸€ä¸ªå…¸å‹ç†ç”±å°±æ˜¯å‡å®šæˆ‘ä»¬çš„æ¨¡å¼ä»…èƒ½åŒ¹é…ç¬¬ä¸€ä¸ªå¯èƒ½çš„å­—ç¬¦ç»„ï¼Œå¦‚æœå®ƒæ˜¯è´ªå©ªçš„ï¼Œé‚£ä¹ˆå®ƒå°±ä¼šç»§ç»­å¾€ä¸‹åŒ¹é…ã€‚</p></li><li><p><strong>å‹‰å¼ºå‹</strong>ï¼š ç”¨é—®å·æ¥æŒ‡å®šï¼Œè¿™ä¸ªé‡è¯åŒ¹é…æ»¡è¶³æ¨¡å¼æ‰€éœ€çš„æœ€å°‘å­—ç¬¦æ•°ã€‚å› æ­¤ä¹Ÿè¢«ç§°ä½œæ‡’æƒ°çš„ã€æœ€å°‘åŒ¹é…çš„ã€éè´ªå©ªçš„æˆ–ä¸è´ªå©ªçš„ã€‚</p></li><li><p><strong>å æœ‰å‹</strong>ï¼š ç›®å‰ï¼Œè¿™ç§ç±»å‹çš„é‡è¯åªæœ‰åœ¨ Java è¯­è¨€ä¸­æ‰å¯ç”¨ï¼ˆåœ¨å…¶ä»–è¯­è¨€ä¸­ä¸å¯ç”¨ï¼‰ï¼Œå¹¶ä¸”ä¹Ÿæ›´é«˜çº§ï¼Œå› æ­¤æˆ‘ä»¬å¤§æ¦‚ä¸ä¼šç«‹åˆ»ç”¨åˆ°å®ƒã€‚å½“æ­£åˆ™è¡¨è¾¾å¼è¢«åº”ç”¨äº <code>String</code> æ—¶ï¼Œå®ƒä¼šäº§ç”Ÿç›¸å½“å¤šçš„çŠ¶æ€ï¼Œä»¥ä¾¿åœ¨åŒ¹é…å¤±è´¥æ—¶å¯ä»¥å›æº¯ã€‚è€Œâ€œå æœ‰çš„â€é‡è¯å¹¶ä¸ä¿å­˜è¿™äº›ä¸­é—´çŠ¶æ€ï¼Œå› æ­¤å®ƒä»¬å¯ä»¥é˜²æ­¢å›æº¯ã€‚å®ƒä»¬å¸¸å¸¸ç”¨äºé˜²æ­¢æ­£åˆ™è¡¨è¾¾å¼å¤±æ§ï¼Œå› æ­¤å¯ä»¥ä½¿æ­£åˆ™è¡¨è¾¾å¼æ‰§è¡Œèµ·æ¥æ›´é«˜æ•ˆã€‚</p></li></ul><table><thead><tr><th>è´ªå©ªå‹</th><th>å‹‰å¼ºå‹</th><th>å æœ‰å‹</th><th>å¦‚ä½•åŒ¹é…</th></tr></thead><tbody><tr><td><code>X?</code></td><td><code>X??</code></td><td><code>X?+</code></td><td>ä¸€ä¸ªæˆ–é›¶ä¸ª<code>X</code></td></tr><tr><td><code>X*</code></td><td><code>X*?</code></td><td><code>X*+</code></td><td>é›¶ä¸ªæˆ–å¤šä¸ª<code>X</code></td></tr><tr><td><code>X+</code></td><td><code>X+?</code></td><td><code>X++</code></td><td>ä¸€ä¸ªæˆ–å¤šä¸ª<code>X</code></td></tr><tr><td><code>X{n}</code></td><td><code>X{n}?</code></td><td><code>X{n}+</code></td><td>æ°å¥½<code>n</code>æ¬¡<code>X</code></td></tr><tr><td><code>X{n,}</code></td><td><code>X{n,}?</code></td><td><code>X{n,}+</code></td><td>è‡³å°‘<code>n</code>æ¬¡<code>X</code></td></tr><tr><td><code>X{n,m}</code></td><td><code>X{n,m}?</code></td><td><code>X{n,m}+</code></td><td><code>X</code>è‡³å°‘<code>n</code>æ¬¡ï¼Œä½†ä¸è¶…è¿‡<code>m</code>æ¬¡</td></tr></tbody></table><p>åº”è¯¥éå¸¸æ¸…æ¥šåœ°æ„è¯†åˆ°ï¼Œè¡¨è¾¾å¼ <code>X</code> é€šå¸¸å¿…é¡»è¦ç”¨åœ†æ‹¬å·æ‹¬èµ·æ¥ï¼Œä»¥ä¾¿å®ƒèƒ½å¤ŸæŒ‰ç…§æˆ‘ä»¬æœŸæœ›çš„æ•ˆæœå»æ‰§è¡Œã€‚ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>abc<span class="token operator">+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>çœ‹èµ·æ¥å®ƒä¼¼ä¹åº”è¯¥åŒ¹é…1ä¸ªæˆ–å¤šä¸ª<code>abc</code>åºåˆ—ï¼Œå¦‚æœæˆ‘ä»¬æŠŠå®ƒåº”ç”¨äºè¾“å…¥å­—ç¬¦ä¸²<code>abcabcabc</code>ï¼Œåˆ™å®é™…ä¸Šä¼šè·å¾—3ä¸ªåŒ¹é…ã€‚ç„¶è€Œï¼Œè¿™ä¸ªè¡¨è¾¾å¼å®é™…ä¸Šè¡¨ç¤ºçš„æ˜¯ï¼šåŒ¹é…<code>ab</code>ï¼Œåé¢è·Ÿéš1ä¸ªæˆ–å¤šä¸ª<code>c</code>ã€‚è¦è¡¨æ˜åŒ¹é…1ä¸ªæˆ–å¤šä¸ªå®Œæ•´çš„å­—ç¬¦ä¸²<code>abc</code>ï¼Œæˆ‘ä»¬å¿…é¡»è¿™æ ·è¡¨ç¤ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token punctuation">(</span>abc<span class="token punctuation">)</span><span class="token operator">+</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä½ ä¼šå‘ç°ï¼Œåœ¨ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ—¶å¾ˆå®¹æ˜“æ··æ·†ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ç§åœ¨ Java ä¹‹ä¸Šçš„æ–°è¯­è¨€ã€‚</p><h3 id="charsequence" tabindex="-1"><a class="header-anchor" href="#charsequence" aria-hidden="true">#</a> <code>CharSequence</code></h3><p>æ¥å£ <code>CharSequence</code> ä» <code>CharBuffer</code>ã€<code>String</code>ã€<code>StringBuffer</code>ã€<code>StringBuilder</code> ç±»ä¸­æŠ½è±¡å‡ºäº†å­—ç¬¦åºåˆ—çš„ä¸€èˆ¬åŒ–å®šä¹‰ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">interface</span> <span class="token class-name">CharSequence</span> <span class="token punctuation">{</span>   
    <span class="token keyword">char</span> <span class="token function">charAt</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token keyword">int</span> <span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">CharSequence</span> <span class="token function">subSequence</span><span class="token punctuation">(</span><span class="token keyword">int</span> start<span class="token punctuation">,</span> <span class="token keyword">int</span> end<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å› æ­¤ï¼Œè¿™äº›ç±»éƒ½å®ç°äº†è¯¥æ¥å£ã€‚å¤šæ•°æ­£åˆ™è¡¨è¾¾å¼æ“ä½œéƒ½æ¥å— <code>CharSequence</code> ç±»å‹å‚æ•°ã€‚</p><h3 id="pattern-å’Œ-matcher" tabindex="-1"><a class="header-anchor" href="#pattern-å’Œ-matcher" aria-hidden="true">#</a> <code>Pattern</code> å’Œ <code>Matcher</code></h3><p>é€šå¸¸ï¼Œæ¯”èµ·åŠŸèƒ½æœ‰é™çš„ <code>String</code> ç±»ï¼Œæˆ‘ä»¬æ›´æ„¿æ„æ„é€ åŠŸèƒ½å¼ºå¤§çš„æ­£åˆ™è¡¨è¾¾å¼å¯¹è±¡ã€‚åªéœ€å¯¼å…¥ <code>java.util.regex</code>åŒ…ï¼Œç„¶åç”¨ <code>static Pattern.compile()</code> æ–¹æ³•æ¥ç¼–è¯‘ä½ çš„æ­£åˆ™è¡¨è¾¾å¼å³å¯ã€‚å®ƒä¼šæ ¹æ®ä½ çš„ <code>String</code> ç±»å‹çš„æ­£åˆ™è¡¨è¾¾å¼ç”Ÿæˆä¸€ä¸ª <code>Pattern</code> å¯¹è±¡ã€‚æ¥ä¸‹æ¥ï¼ŒæŠŠä½ æƒ³è¦æ£€ç´¢çš„å­—ç¬¦ä¸²ä¼ å…¥ <code>Pattern</code> å¯¹è±¡çš„ <code>matcher()</code> æ–¹æ³•ã€‚<code>matcher()</code> æ–¹æ³•ä¼šç”Ÿæˆä¸€ä¸ª <code>Matcher</code> å¯¹è±¡ï¼Œå®ƒæœ‰å¾ˆå¤šåŠŸèƒ½å¯ç”¨ï¼ˆå¯ä»¥å‚è€ƒ <code>java.util.regext.Matcher</code> çš„ JDK æ–‡æ¡£ï¼‰ã€‚ä¾‹å¦‚ï¼Œå®ƒçš„ <code>replaceAll()</code> æ–¹æ³•èƒ½å°†æ‰€æœ‰åŒ¹é…çš„éƒ¨åˆ†éƒ½æ›¿æ¢æˆä½ ä¼ å…¥çš„å‚æ•°ã€‚</p><p>ä½œä¸ºç¬¬ä¸€ä¸ªç¤ºä¾‹ï¼Œä¸‹é¢çš„ç±»å¯ä»¥ç”¨æ¥æµ‹è¯•æ­£åˆ™è¡¨è¾¾å¼ï¼Œçœ‹çœ‹å®ƒä»¬èƒ½å¦åŒ¹é…ä¸€ä¸ªè¾“å…¥å­—ç¬¦ä¸²ã€‚ç¬¬ä¸€ä¸ªæ§åˆ¶å°å‚æ•°æ˜¯å°†è¦ç”¨æ¥æœç´¢åŒ¹é…çš„è¾“å…¥å­—ç¬¦ä¸²ï¼Œåé¢çš„ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°éƒ½æ˜¯æ­£åˆ™è¡¨è¾¾å¼ï¼Œå®ƒä»¬å°†è¢«ç”¨æ¥åœ¨è¾“å…¥çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾åŒ¹é…ã€‚åœ¨Unix/Linuxä¸Šï¼Œå‘½ä»¤è¡Œä¸­çš„æ­£åˆ™è¡¨è¾¾å¼å¿…é¡»ç”¨å¼•å·æ‹¬èµ·æ¥ã€‚è¿™ä¸ªç¨‹åºåœ¨æµ‹è¯•æ­£åˆ™è¡¨è¾¾å¼æ—¶å¾ˆæœ‰ç”¨ï¼Œç‰¹åˆ«æ˜¯å½“ä½ æƒ³éªŒè¯å®ƒä»¬æ˜¯å¦å…·å¤‡ä½ æ‰€æœŸå¾…çš„åŒ¹é…åŠŸèƒ½çš„æ—¶å€™ã€‚<a href="%E7%BD%91%E4%B8%8A%E8%BF%98%E6%9C%89%E5%BE%88%E5%A4%9A%E5%AE%9E%E7%94%A8%E5%B9%B6%E4%B8%94%E6%88%90%E7%86%9F%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%B7%A5%E5%85%B7%E3%80%82">^3</a></p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/TestRegularExpression.java </span>
<span class="token comment">// Simple regular expression demonstration </span>
<span class="token comment">// {java TestRegularExpression </span>
<span class="token comment">// abcabcabcdefabc &quot;abc+&quot; &quot;(abc)+&quot; } </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestRegularExpression</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token keyword">if</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>       
              <span class="token string">&quot;Usage:\njava TestRegularExpression &quot;</span> <span class="token operator">+</span>         
              <span class="token string">&quot;characterSequence regularExpression+&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Input: \&quot;&quot;</span> <span class="token operator">+</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;\&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> arg <span class="token operator">:</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>       
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>         
              <span class="token string">&quot;Regular expression: \&quot;&quot;</span> <span class="token operator">+</span> arg <span class="token operator">+</span> <span class="token string">&quot;\&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       
            <span class="token class-name">Pattern</span> p <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span>       
            <span class="token class-name">Matcher</span> m <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       
            <span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>         
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>           
                  <span class="token string">&quot;Match \&quot;&quot;</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\&quot; at positions &quot;</span> <span class="token operator">+</span>           
                m<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;-&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       
            <span class="token punctuation">}</span>     
        <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output: 
Input: &quot;abcabcabcdefabc&quot; 
Regular expression: &quot;abcabcabcdefabc&quot; 
Match &quot;abcabcabcdefabc&quot; at positions 0-14 
Regular expression: &quot;abc+&quot; 
Match &quot;abc&quot; at positions 0-2 
Match &quot;abc&quot; at positions 3-5 
Match &quot;abc&quot; at positions 6-8 
Match &quot;abc&quot; at positions 12-14 
Regular expression: &quot;(abc)+&quot;
Match &quot;abcabcabc&quot; at positions 0-8 
Match &quot;abc&quot; at positions 12-14 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿˜å¯ä»¥åœ¨æ§åˆ¶å°å‚æ•°ä¸­åŠ å…¥<code>â€œ(abc){2,}â€</code>ï¼Œçœ‹çœ‹æ‰§è¡Œç»“æœã€‚</p><p><code>Pattern</code> å¯¹è±¡è¡¨ç¤ºç¼–è¯‘åçš„æ­£åˆ™è¡¨è¾¾å¼ã€‚ä»è¿™ä¸ªä¾‹å­å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ä½¿ç”¨å·²ç¼–è¯‘çš„ <code>Pattern</code> å¯¹è±¡ä¸Šçš„ <code>matcher()</code> æ–¹æ³•ï¼ŒåŠ ä¸Šä¸€ä¸ªè¾“å…¥å­—ç¬¦ä¸²ï¼Œä»è€Œå…±åŒæ„é€ äº†ä¸€ä¸ª <code>Matcher</code> å¯¹è±¡ã€‚åŒæ—¶ï¼Œ<code>Pattern</code> ç±»è¿˜æä¾›äº†ä¸€ä¸ª<code>static</code>æ–¹æ³•ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">matches</span><span class="token punctuation">(</span><span class="token class-name">String</span> regex<span class="token punctuation">,</span> <span class="token class-name">CharSequence</span> input<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>è¯¥æ–¹æ³•ç”¨ä»¥æ£€æŸ¥ <code>regex</code> æ˜¯å¦åŒ¹é…æ•´ä¸ª <code>CharSequence</code> ç±»å‹çš„ <code>input</code> å‚æ•°ã€‚ç¼–è¯‘åçš„ <code>Pattern</code> å¯¹è±¡è¿˜æä¾›äº† <code>split()</code> æ–¹æ³•ï¼Œå®ƒä»åŒ¹é…äº† <code>regex</code> çš„åœ°æ–¹åˆ†å‰²è¾“å…¥å­—ç¬¦ä¸²ï¼Œè¿”å›åˆ†å‰²åçš„å­å­—ç¬¦ä¸² <code>String</code> æ•°ç»„ã€‚</p><p>é€šè¿‡è°ƒç”¨ <code>Pattern.matcher()</code> æ–¹æ³•ï¼Œå¹¶ä¼ å…¥ä¸€ä¸ªå­—ç¬¦ä¸²å‚æ•°ï¼Œæˆ‘ä»¬å¾—åˆ°äº†ä¸€ä¸ª <code>Matcher</code> å¯¹è±¡ã€‚ä½¿ç”¨ <code>Matcher</code> ä¸Šçš„æ–¹æ³•ï¼Œæˆ‘ä»¬å°†èƒ½å¤Ÿåˆ¤æ–­å„ç§ä¸åŒç±»å‹çš„åŒ¹é…æ˜¯å¦æˆåŠŸï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">boolean</span> <span class="token function">matches</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token keyword">boolean</span> <span class="token function">lookingAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token keyword">boolean</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token keyword">boolean</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token keyword">int</span> start<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…¶ä¸­çš„ <code>matches()</code> æ–¹æ³•ç”¨æ¥åˆ¤æ–­æ•´ä¸ªè¾“å…¥å­—ç¬¦ä¸²æ˜¯å¦åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼ï¼Œè€Œ <code>lookingAt()</code> åˆ™ç”¨æ¥åˆ¤æ–­è¯¥å­—ç¬¦ä¸²ï¼ˆä¸å¿…æ˜¯æ•´ä¸ªå­—ç¬¦ä¸²ï¼‰çš„èµ·å§‹éƒ¨åˆ†æ˜¯å¦èƒ½å¤ŸåŒ¹é…æ¨¡å¼ã€‚</p><h3 id="find" tabindex="-1"><a class="header-anchor" href="#find" aria-hidden="true">#</a> <code>find()</code></h3><p><code>Matcher.find()</code> æ–¹æ³•å¯ç”¨æ¥åœ¨ <code>CharSequence</code> ä¸­æŸ¥æ‰¾å¤šä¸ªåŒ¹é…ã€‚ä¾‹å¦‚ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/Finding.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Finding</span> <span class="token punctuation">{</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token class-name">Matcher</span> m <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">&quot;\\w+&quot;</span><span class="token punctuation">)</span>       
          <span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>         
            <span class="token string">&quot;Evening is full of the linnet&#39;s wings&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>       
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>     
        <span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       
            i<span class="token operator">++</span><span class="token punctuation">;</span>     
        <span class="token punctuation">}</span>   
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output: 
Evening is full of the linnet s wings
Evening vening ening ning ing ng g is is s full full 
ull ll l of of f the the he e linnet linnet innet nnet 
net et t s s wings wings ings ngs gs s 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ¨¡å¼ <code>\\w+</code> å°†å­—ç¬¦ä¸²åˆ’åˆ†ä¸ºè¯ã€‚<code>find()</code> æ–¹æ³•åƒè¿­ä»£å™¨é‚£æ ·å‘å‰éå†è¾“å…¥å­—ç¬¦ä¸²ã€‚è€Œç¬¬äºŒä¸ªé‡è½½çš„ <code>find()</code> æ¥æ”¶ä¸€ä¸ªæ•´å‹å‚æ•°ï¼Œè¯¥æ•´æ•°è¡¨ç¤ºå­—ç¬¦ä¸²ä¸­å­—ç¬¦çš„ä½ç½®ï¼Œå¹¶ä»¥å…¶ä½œä¸ºæœç´¢çš„èµ·ç‚¹ã€‚ä»ç»“æœå¯ä»¥çœ‹å‡ºï¼Œåä¸€ä¸ªç‰ˆæœ¬çš„ <code>find()</code> æ–¹æ³•èƒ½å¤Ÿæ ¹æ®å…¶å‚æ•°çš„å€¼ï¼Œä¸æ–­é‡æ–°è®¾å®šæœç´¢çš„èµ·å§‹ä½ç½®ã€‚</p><h3 id="ç»„-groups" tabindex="-1"><a class="header-anchor" href="#ç»„-groups" aria-hidden="true">#</a> ç»„ï¼ˆGroupsï¼‰</h3><p>ç»„æ˜¯ç”¨æ‹¬å·åˆ’åˆ†çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œå¯ä»¥æ ¹æ®ç»„çš„ç¼–å·æ¥å¼•ç”¨æŸä¸ªç»„ã€‚ç»„å·ä¸º 0 è¡¨ç¤ºæ•´ä¸ªè¡¨è¾¾å¼ï¼Œç»„å· 1 è¡¨ç¤ºè¢«ç¬¬ä¸€å¯¹æ‹¬å·æ‹¬èµ·æ¥çš„ç»„ï¼Œä»¥æ­¤ç±»æ¨ã€‚å› æ­¤ï¼Œä¸‹é¢è¿™ä¸ªè¡¨è¾¾å¼ï¼Œ</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">A</span><span class="token punctuation">(</span><span class="token class-name">B</span><span class="token punctuation">(</span><span class="token class-name">C</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token class-name">D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>ä¸­æœ‰ä¸‰ä¸ªç»„ï¼šç»„ 0 æ˜¯ <code>ABCD</code>ï¼Œç»„ 1 æ˜¯ <code>BC</code>ï¼Œç»„ 2 æ˜¯ <code>C</code>ã€‚</p><p><code>Matcher</code> å¯¹è±¡æä¾›äº†ä¸€ç³»åˆ—æ–¹æ³•ï¼Œç”¨ä»¥è·å–ä¸ç»„ç›¸å…³çš„ä¿¡æ¯ï¼š</p><ul><li><code>public int groupCount()</code> è¿”å›è¯¥åŒ¹é…å™¨çš„æ¨¡å¼ä¸­çš„åˆ†ç»„æ•°ç›®ï¼Œç»„ 0 ä¸åŒ…æ‹¬åœ¨å†…ã€‚</li><li><code>public String group()</code> è¿”å›å‰ä¸€æ¬¡åŒ¹é…æ“ä½œï¼ˆä¾‹å¦‚ <code>find()</code>ï¼‰çš„ç¬¬ 0 ç»„ï¼ˆæ•´ä¸ªåŒ¹é…ï¼‰ã€‚</li><li><code>public String group(int i)</code> è¿”å›å‰ä¸€æ¬¡åŒ¹é…æ“ä½œæœŸé—´æŒ‡å®šçš„ç»„å·ï¼Œå¦‚æœåŒ¹é…æˆåŠŸï¼Œä½†æ˜¯æŒ‡å®šçš„ç»„æ²¡æœ‰åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„ä»»ä½•éƒ¨åˆ†ï¼Œåˆ™å°†è¿”å› <code>null</code>ã€‚</li><li><code>public int start(int group)</code> è¿”å›åœ¨å‰ä¸€æ¬¡åŒ¹é…æ“ä½œä¸­å¯»æ‰¾åˆ°çš„ç»„çš„èµ·å§‹ç´¢å¼•ã€‚</li><li><code>public int end(int group)</code> è¿”å›åœ¨å‰ä¸€æ¬¡åŒ¹é…æ“ä½œä¸­å¯»æ‰¾åˆ°çš„ç»„çš„æœ€åä¸€ä¸ªå­—ç¬¦ç´¢å¼•åŠ ä¸€çš„å€¼ã€‚</li></ul><p>ä¸‹é¢æ˜¯æ­£åˆ™è¡¨è¾¾å¼ç»„çš„ä¾‹å­ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/Groups.java</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Groups</span> <span class="token punctuation">{</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">POEM</span> <span class="token operator">=</span>     
      <span class="token string">&quot;Twas brillig, and the slithy toves\n&quot;</span> <span class="token operator">+</span>     
      <span class="token string">&quot;Did gyre and gimble in the wabe.\n&quot;</span> <span class="token operator">+</span>     
      <span class="token string">&quot;All mimsy were the borogoves,\n&quot;</span> <span class="token operator">+</span>     
      <span class="token string">&quot;And the mome raths outgrabe.\n\n&quot;</span> <span class="token operator">+</span>     
      <span class="token string">&quot;Beware the Jabberwock, my son,\n&quot;</span> <span class="token operator">+</span>     
      <span class="token string">&quot;The jaws that bite, the claws that catch.\n&quot;</span> <span class="token operator">+</span>     
      <span class="token string">&quot;Beware the Jubjub bird, and shun\n&quot;</span> <span class="token operator">+</span>     
      <span class="token string">&quot;The frumious Bandersnatch.&quot;</span><span class="token punctuation">;</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token class-name">Matcher</span> m <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>
          <span class="token string">&quot;(?m)(\\S+)\\s+((\\S+)\\s+(\\S+))$&quot;</span><span class="token punctuation">)</span>       
          <span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token constant">POEM</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> m<span class="token punctuation">.</span><span class="token function">groupCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>         
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;[&quot;</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token punctuation">}</span>   
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
<span class="token comment">/* Output: 
[the slithy toves][the][slithy toves][slithy][toves] 
[in the wabe.][in][the wabe.][the][wabe.] 
[were the borogoves,][were][the 
borogoves,][the][borogoves,] 
[mome raths outgrabe.][mome][raths 
outgrabe.][raths][outgrabe.] 
[Jabberwock, my son,][Jabberwock,][my son,][my][son,] 
[claws that catch.][claws][that catch.][that][catch.] 
[bird, and shun][bird,][and shun][and][shun] 
[The frumious Bandersnatch.][The][frumious 
Bandersnatch.][frumious][Bandersnatch.] 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é¦–è¯—æ¥è‡ªäº Lewis Carroll æ‰€å†™çš„ <em>Through the Looking Glass</em> ä¸­çš„ â€œJabberwockyâ€ã€‚å¯ä»¥çœ‹åˆ°è¿™ä¸ªæ­£åˆ™è¡¨è¾¾å¼æ¨¡å¼æœ‰è®¸å¤šåœ†æ‹¬å·åˆ†ç»„ï¼Œç”±ä»»æ„æ•°ç›®çš„éç©ºç™½ç¬¦ï¼ˆ<code>\\S+</code>ï¼‰åŠéšåçš„ä»»æ„æ•°ç›®çš„ç©ºç™½ç¬¦ï¼ˆ<code>\\s+</code>ï¼‰æ‰€ç»„æˆã€‚ç›®çš„æ˜¯æ•è·æ¯è¡Œçš„æœ€å3ä¸ªè¯ï¼Œæ¯è¡Œæœ€åä»¥ <code>\$</code> ç»“æŸã€‚ä¸è¿‡ï¼Œåœ¨æ­£å¸¸æƒ…å†µä¸‹æ˜¯å°† <code>\$</code> ä¸æ•´ä¸ªè¾“å…¥åºåˆ—çš„æœ«ç«¯ç›¸åŒ¹é…ã€‚æ‰€ä»¥æˆ‘ä»¬ä¸€å®šè¦æ˜¾å¼åœ°å‘ŠçŸ¥æ­£åˆ™è¡¨è¾¾å¼æ³¨æ„è¾“å…¥åºåˆ—ä¸­çš„æ¢è¡Œç¬¦ã€‚è¿™å¯ä»¥ç”±åºåˆ—å¼€å¤´çš„æ¨¡å¼æ ‡è®° <code>(?m)</code> æ¥å®Œæˆï¼ˆæ¨¡å¼æ ‡è®°é©¬ä¸Šå°±ä¼šä»‹ç»ï¼‰ã€‚</p><h3 id="start-å’Œ-end" tabindex="-1"><a class="header-anchor" href="#start-å’Œ-end" aria-hidden="true">#</a> <code>start()</code> å’Œ <code>end()</code></h3><p>åœ¨åŒ¹é…æ“ä½œæˆåŠŸä¹‹åï¼Œ<code>start()</code> è¿”å›å…ˆå‰åŒ¹é…çš„èµ·å§‹ä½ç½®çš„ç´¢å¼•ï¼Œè€Œ <code>end()</code> è¿”å›æ‰€åŒ¹é…çš„æœ€åå­—ç¬¦çš„ç´¢å¼•åŠ ä¸€çš„å€¼ã€‚åŒ¹é…æ“ä½œå¤±è´¥ä¹‹åï¼ˆæˆ–å…ˆäºä¸€ä¸ªæ­£åœ¨è¿›è¡Œçš„åŒ¹é…æ“ä½œå»å°è¯•ï¼‰è°ƒç”¨ <code>start()</code> æˆ– <code>end()</code> å°†ä¼šäº§ç”Ÿ <code>IllegalStateException</code>ã€‚ä¸‹é¢çš„ç¤ºä¾‹è¿˜åŒæ—¶å±•ç¤ºäº† <code>matches()</code> å’Œ <code>lookingAt()</code> çš„ç”¨æ³• [^4]ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/StartEnd.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StartEnd</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">String</span> input <span class="token operator">=</span>
      <span class="token string">&quot;As long as there is injustice, whenever a\n&quot;</span> <span class="token operator">+</span>     
      <span class="token string">&quot;Targathian baby cries out, wherever a distress\n&quot;</span> <span class="token operator">+</span>     
      <span class="token string">&quot;signal sounds among the stars &quot;</span> <span class="token operator">+</span>     
      <span class="token string">&quot;... We&#39;ll be there.\n&quot;</span><span class="token operator">+</span>     
      <span class="token string">&quot;This fine ship, and this fine crew ...\n&quot;</span> <span class="token operator">+</span>     
      <span class="token string">&quot;Never give up! Never surrender!&quot;</span><span class="token punctuation">;</span>   
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Display</span> <span class="token punctuation">{</span>
        <span class="token keyword">private</span> <span class="token keyword">boolean</span> regexPrinted <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>     
        <span class="token keyword">private</span> <span class="token class-name">String</span> regex<span class="token punctuation">;</span>
        <span class="token class-name">Display</span><span class="token punctuation">(</span><span class="token class-name">String</span> regex<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>regex <span class="token operator">=</span> regex<span class="token punctuation">;</span> <span class="token punctuation">}</span>     
    
        <span class="token keyword">void</span> <span class="token function">display</span><span class="token punctuation">(</span><span class="token class-name">String</span> message<span class="token punctuation">)</span> <span class="token punctuation">{</span>       
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>regexPrinted<span class="token punctuation">)</span> <span class="token punctuation">{</span>         
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span>         
                regexPrinted <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>       
            <span class="token punctuation">}</span>       
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token punctuation">}</span>   
    <span class="token punctuation">}</span>   
  
    <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">examine</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">,</span> <span class="token class-name">String</span> regex<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token class-name">Display</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Display</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">Pattern</span> p <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>regex<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">Matcher</span> m <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>       
            d<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token string">&quot;find() &#39;&quot;</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span>         
              <span class="token string">&quot;&#39; start = &quot;</span><span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; end = &quot;</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">if</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">lookingAt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// No reset() necessary       </span>
            d<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token string">&quot;lookingAt() start = &quot;</span>         
              <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; end = &quot;</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">if</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// No reset() necessary       </span>
            d<span class="token punctuation">.</span><span class="token function">display</span><span class="token punctuation">(</span><span class="token string">&quot;matches() start = &quot;</span>         
              <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; end = &quot;</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> in <span class="token operator">:</span> input<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>       
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;input : &quot;</span> <span class="token operator">+</span> in<span class="token punctuation">)</span><span class="token punctuation">;</span>       
            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> regex <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token string">&quot;\\w*ere\\w*&quot;</span><span class="token punctuation">,</span>         
              <span class="token string">&quot;\\w*ever&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;T\\w+&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Never.*?!&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>         
                <span class="token function">examine</span><span class="token punctuation">(</span>in<span class="token punctuation">,</span> regex<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token punctuation">}</span>   
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
<span class="token comment">/* Output: 
input : As long as there is injustice, whenever a 
\w*ere\w* 
find() &#39;there&#39; start = 11 end = 16 
\w*ever 
find() &#39;whenever&#39; start = 31 end = 39 
input : Targathian baby cries out, wherever a distress 
\w*ere\w* 
find() &#39;wherever&#39; start = 27 end = 35 
\w*ever 
find() &#39;wherever&#39; start = 27 end = 35 
T\w+ find() &#39;Targathian&#39; start = 0 end = 10 
lookingAt() start = 0 end = 10 
input : signal sounds among the stars ... We&#39;ll be 
there. 
\w*ere\w* 
find() &#39;there&#39; start = 43 end = 48 
input : This fine ship, and this fine crew ... 
T\w+ find() &#39;This&#39; start = 0 end = 4
lookingAt() start = 0 end = 4 
input : Never give up! Never surrender! 
\w*ever 
find() &#39;Never&#39; start = 0 end = 5 
find() &#39;Never&#39; start = 15 end = 20 
lookingAt() start = 0 end = 5 
Never.*?! 
find() &#39;Never give up!&#39; start = 0 end = 14 
find() &#39;Never surrender!&#39; start = 15 end = 31 
lookingAt() start = 0 end = 14 
matches() start = 0 end = 31 
*/</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ³¨æ„ï¼Œ<code>find()</code> å¯ä»¥åœ¨è¾“å…¥çš„ä»»æ„ä½ç½®å®šä½æ­£åˆ™è¡¨è¾¾å¼ï¼Œè€Œ <code>lookingAt()</code> å’Œ <code>matches()</code> åªæœ‰åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸è¾“å…¥çš„æœ€å¼€å§‹å¤„å°±å¼€å§‹åŒ¹é…æ—¶æ‰ä¼šæˆåŠŸã€‚<code>matches()</code> åªæœ‰åœ¨æ•´ä¸ªè¾“å…¥éƒ½åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼æ—¶æ‰ä¼šæˆåŠŸï¼Œè€Œ <code>lookingAt()</code> <a href="%E6%88%91%E4%B8%8D%E7%9F%A5%E9%81%93%E4%BB%96%E4%BB%AC%E6%98%AF%E5%A6%82%E4%BD%95%E6%83%B3%E5%87%BA%E8%BF%99%E4%B8%AA%E6%96%B9%E6%B3%95%E5%90%8D%E7%9A%84%EF%BC%8C%E6%88%96%E8%80%85%E5%AE%83%E5%88%B0%E5%BA%95%E6%8C%87%E7%9A%84%E4%BB%80%E4%B9%88%E3%80%82%E8%BF%99%E5%8F%AA%E6%98%AF%E4%BB%A3%E7%A0%81%E5%AE%A1%E6%9F%A5%E5%BE%88%E9%87%8D%E8%A6%81%E7%9A%84%E5%8E%9F%E5%9B%A0%E4%B9%8B%E4%B8%80%E3%80%82">^5</a> åªè¦è¾“å…¥çš„ç¬¬ä¸€éƒ¨åˆ†åŒ¹é…å°±ä¼šæˆåŠŸã€‚</p><h3 id="pattern-æ ‡è®°" tabindex="-1"><a class="header-anchor" href="#pattern-æ ‡è®°" aria-hidden="true">#</a> <code>Pattern</code> æ ‡è®°</h3><p><code>Pattern</code> ç±»çš„ <code>compile()</code> æ–¹æ³•è¿˜æœ‰å¦ä¸€ä¸ªç‰ˆæœ¬ï¼Œå®ƒæ¥å—ä¸€ä¸ªæ ‡è®°å‚æ•°ï¼Œä»¥è°ƒæ•´åŒ¹é…è¡Œä¸ºï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Pattern</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token class-name">String</span> regex<span class="token punctuation">,</span> <span class="token keyword">int</span> flag<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å…¶ä¸­çš„ <code>flag</code> æ¥è‡ªä»¥ä¸‹ <code>Pattern</code> ç±»ä¸­çš„å¸¸é‡</p><table><thead><tr><th>ç¼–è¯‘æ ‡è®°</th><th>æ•ˆæœ</th></tr></thead><tbody><tr><td><code>Pattern.CANON_EQ</code></td><td>å½“ä¸”ä»…å½“ä¸¤ä¸ªå­—ç¬¦çš„å®Œå…¨è§„èŒƒåˆ†è§£ç›¸åŒ¹é…æ—¶ï¼Œæ‰è®¤ä¸ºå®ƒä»¬æ˜¯åŒ¹é…çš„ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æŒ‡å®šè¿™ä¸ªæ ‡è®°ï¼Œè¡¨è¾¾å¼<code>\u003F</code>å°±ä¼šåŒ¹é…å­—ç¬¦ä¸²<code>?</code>ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒåŒ¹é…ä¸è€ƒè™‘è§„èŒƒçš„ç­‰ä»·æ€§</td></tr><tr><td><code>Pattern.CASE_INSENSITIVE(?i)</code></td><td>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¤§å°å†™ä¸æ•æ„Ÿçš„åŒ¹é…å‡å®šåªæœ‰US-ASCIIå­—ç¬¦é›†ä¸­çš„å­—ç¬¦æ‰èƒ½è¿›è¡Œã€‚è¿™ä¸ªæ ‡è®°å…è®¸æ¨¡å¼åŒ¹é…ä¸è€ƒè™‘å¤§å°å†™ï¼ˆå¤§å†™æˆ–å°å†™ï¼‰ã€‚é€šè¿‡æŒ‡å®š<code>UNICODE_CASE</code>æ ‡è®°åŠç»“åˆæ­¤æ ‡è®°ã€‚åŸºäºUnicodeçš„å¤§å°å†™ä¸æ•æ„Ÿçš„åŒ¹é…å°±å¯ä»¥å¼€å¯äº†</td></tr><tr><td><code>Pattern.COMMENTS(?x)</code></td><td>åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œç©ºæ ¼ç¬¦å°†è¢«å¿½ç•¥æ‰ï¼Œå¹¶ä¸”ä»¥<code>#</code>å¼€å§‹ç›´åˆ°è¡Œæœ«çš„æ³¨é‡Šä¹Ÿä¼šè¢«å¿½ç•¥æ‰ã€‚é€šè¿‡åµŒå…¥çš„æ ‡è®°è¡¨è¾¾å¼ä¹Ÿå¯ä»¥å¼€å¯Unixçš„è¡Œæ¨¡å¼</td></tr><tr><td><code>Pattern.DOTALL(?s)</code></td><td>åœ¨dotallæ¨¡å¼ä¸‹ï¼Œè¡¨è¾¾å¼<code>.</code>åŒ¹é…æ‰€æœ‰å­—ç¬¦ï¼ŒåŒ…æ‹¬è¡Œç»ˆæ­¢ç¬¦ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>.</code>ä¸ä¼šåŒ¹é…è¡Œç»ˆæ­¢ç¬¦</td></tr><tr><td><code>Pattern.MULTILINE(?m)</code></td><td>åœ¨å¤šè¡Œæ¨¡å¼ä¸‹ï¼Œè¡¨è¾¾å¼<code>^</code>å’Œ<code>$</code>åˆ†åˆ«åŒ¹é…ä¸€è¡Œçš„å¼€å§‹å’Œç»“æŸã€‚<code>^</code>è¿˜åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„å¼€å§‹ï¼Œè€Œ<code>$</code>è¿˜åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„ç»“å°¾ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™äº›è¡¨è¾¾å¼ä»…åŒ¹é…è¾“å…¥çš„å®Œæ•´å­—ç¬¦ä¸²çš„å¼€å§‹å’Œç»“æŸ</td></tr><tr><td><code>Pattern.UNICODE_CASE(?u)</code></td><td>å½“æŒ‡å®šè¿™ä¸ªæ ‡è®°ï¼Œå¹¶ä¸”å¼€å¯<code>CASE_INSENSITIVE</code>æ—¶ï¼Œå¤§å°å†™ä¸æ•æ„Ÿçš„åŒ¹é…å°†æŒ‰ç…§ä¸Unicodeæ ‡å‡†ç›¸ä¸€è‡´çš„æ–¹å¼è¿›è¡Œã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå¤§å°å†™ä¸æ•æ„Ÿçš„åŒ¹é…å‡å®šåªèƒ½åœ¨US-ASCIIå­—ç¬¦é›†ä¸­çš„å­—ç¬¦æ‰èƒ½è¿›è¡Œ</td></tr><tr><td><code>Pattern.UNIX_LINES(?d)</code></td><td>åœ¨è¿™ç§æ¨¡å¼ä¸‹ï¼Œåœ¨<code>.</code>ã€<code>^</code>å’Œ<code>$</code>çš„è¡Œä¸ºä¸­ï¼Œåªè¯†åˆ«è¡Œç»ˆæ­¢ç¬¦<code>\n</code></td></tr></tbody></table><p>åœ¨è¿™äº›æ ‡è®°ä¸­ï¼Œ<code>Pattern.CASE_INSENSITIVE</code>ã€<code>Pattern.MULTILINE</code> ä»¥åŠ <code>Pattern.COMMENTS</code>ï¼ˆå¯¹å£°æ˜æˆ–æ–‡æ¡£æœ‰ç”¨ï¼‰ç‰¹åˆ«æœ‰ç”¨ã€‚è¯·æ³¨æ„ï¼Œä½ å¯ä»¥ç›´æ¥åœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­ä½¿ç”¨å…¶ä¸­çš„å¤§å¤šæ•°æ ‡è®°ï¼Œåªéœ€è¦å°†ä¸Šè¡¨ä¸­æ‹¬å·æ‹¬èµ·æ¥çš„å­—ç¬¦æ’å…¥åˆ°æ­£åˆ™è¡¨è¾¾å¼ä¸­ï¼Œä½ å¸Œæœ›å®ƒèµ·ä½œç”¨çš„ä½ç½®å³å¯ã€‚</p><p>ä½ è¿˜å¯ä»¥é€šè¿‡â€œæˆ–â€(<code>|</code>)æ“ä½œç¬¦ç»„åˆå¤šä¸ªæ ‡è®°çš„åŠŸèƒ½ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/ReFlags.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ReFlags</span> <span class="token punctuation">{</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token class-name">Pattern</span> p <span class="token operator">=</span>  <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">&quot;^java&quot;</span><span class="token punctuation">,</span>       
          <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token constant">CASE_INSENSITIVE</span> <span class="token operator">|</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token constant">MULTILINE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">Matcher</span> m <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>       
          <span class="token string">&quot;java has regex\nJava has regex\n&quot;</span> <span class="token operator">+</span>       
          <span class="token string">&quot;JAVA has pretty good regular expressions\n&quot;</span> <span class="token operator">+</span>       
          <span class="token string">&quot;Regular expressions are in Java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>       
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
<span class="token comment">/* Output: 
java 
Java 
JAVA 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæ¨¡å¼ï¼Œå®ƒå°†åŒ¹é…æ‰€æœ‰ä»¥â€œjavaâ€ã€â€œJavaâ€å’Œâ€œJAVAâ€ç­‰å¼€å¤´çš„è¡Œï¼Œå¹¶ä¸”æ˜¯åœ¨è®¾ç½®äº†å¤šè¡Œæ ‡è®°çš„çŠ¶æ€ä¸‹ï¼Œå¯¹æ¯ä¸€è¡Œï¼ˆä»å­—ç¬¦åºåˆ—çš„ç¬¬ä¸€ä¸ªå­—ç¬¦å¼€å§‹ï¼Œè‡³æ¯ä¸€ä¸ªè¡Œç»ˆæ­¢ç¬¦ï¼‰éƒ½è¿›è¡ŒåŒ¹é…ã€‚æ³¨æ„ï¼Œ<code>group()</code> æ–¹æ³•åªè¿”å›å·²åŒ¹é…çš„éƒ¨åˆ†ã€‚</p><h3 id="split" tabindex="-1"><a class="header-anchor" href="#split" aria-hidden="true">#</a> <code>split()</code></h3><p><code>split()</code>æ–¹æ³•å°†è¾“å…¥ <code>String</code> æ–­å¼€æˆ <code>String</code> å¯¹è±¡æ•°ç»„ï¼Œæ–­å¼€è¾¹ç•Œç”±æ­£åˆ™è¡¨è¾¾å¼ç¡®å®šï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">split</span><span class="token punctuation">(</span><span class="token class-name">CharSequence</span> input<span class="token punctuation">)</span> 
<span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">split</span><span class="token punctuation">(</span><span class="token class-name">CharSequence</span> input<span class="token punctuation">,</span> <span class="token keyword">int</span> limit<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ˜¯ä¸€ä¸ªå¿«é€Ÿè€Œæ–¹ä¾¿çš„æ–¹æ³•ï¼Œå¯ä»¥æŒ‰ç…§é€šç”¨è¾¹ç•Œæ–­å¼€è¾“å…¥æ–‡æœ¬ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/SplitDemo.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SplitDemo</span> <span class="token punctuation">{</span>  
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token class-name">String</span> input <span class="token operator">=</span>       
          <span class="token string">&quot;This!!unusual use!!of exclamation!!points&quot;</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>       
        <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">&quot;!!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// Only do the first three:     </span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>       
        <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">&quot;!!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span>input<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output: 
[This, unusual use, of exclamation, points] 
[This, unusual use, of exclamation!!points]
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç¬¬äºŒç§å½¢å¼çš„ <code>split()</code> æ–¹æ³•å¯ä»¥é™åˆ¶å°†è¾“å…¥åˆ†å‰²æˆå­—ç¬¦ä¸²çš„æ•°é‡ã€‚</p><h3 id="æ›¿æ¢æ“ä½œ" tabindex="-1"><a class="header-anchor" href="#æ›¿æ¢æ“ä½œ" aria-hidden="true">#</a> æ›¿æ¢æ“ä½œ</h3><p>æ­£åˆ™è¡¨è¾¾å¼åœ¨è¿›è¡Œæ–‡æœ¬æ›¿æ¢æ—¶ç‰¹åˆ«æ–¹ä¾¿ï¼Œå®ƒæä¾›äº†è®¸å¤šæ–¹æ³•ï¼š</p><ul><li><code>replaceFirst(String replacement)</code> ä»¥å‚æ•°å­—ç¬¦ä¸² <code>replacement</code> æ›¿æ¢æ‰ç¬¬ä¸€ä¸ªåŒ¹é…æˆåŠŸçš„éƒ¨åˆ†ã€‚</li><li><code>replaceAll(String replacement)</code> ä»¥å‚æ•°å­—ç¬¦ä¸² <code>replacement</code> æ›¿æ¢æ‰€æœ‰åŒ¹é…æˆåŠŸçš„éƒ¨åˆ†ã€‚</li><li><code>appendReplacement(StringBuffer sbuf, String replacement)</code> æ‰§è¡Œæ¸è¿›å¼çš„æ›¿æ¢ï¼Œè€Œä¸æ˜¯åƒ <code>replaceFirst()</code> å’Œ <code>replaceAll()</code> é‚£æ ·åªæ›¿æ¢ç¬¬ä¸€ä¸ªåŒ¹é…æˆ–å…¨éƒ¨åŒ¹é…ã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æ–¹æ³•ã€‚å®ƒå…è®¸ä½ è°ƒç”¨å…¶ä»–æ–¹æ³•æ¥ç”Ÿæˆæˆ–å¤„ç† <code>replacement</code>ï¼ˆ<code>replaceFirst()</code> å’Œ <code>replaceAll()</code> åˆ™åªèƒ½ä½¿ç”¨ä¸€ä¸ªå›ºå®šçš„å­—ç¬¦ä¸²ï¼‰ï¼Œä½¿ä½ èƒ½å¤Ÿä»¥ç¼–ç¨‹çš„æ–¹å¼å°†ç›®æ ‡åˆ†å‰²æˆç»„ï¼Œä»è€Œå…·å¤‡æ›´å¼ºå¤§çš„æ›¿æ¢åŠŸèƒ½ã€‚</li><li><code>appendTail(StringBuffer sbuf)</code> åœ¨æ‰§è¡Œäº†ä¸€æ¬¡æˆ–å¤šæ¬¡ <code>appendReplacement()</code> ä¹‹åï¼Œè°ƒç”¨æ­¤æ–¹æ³•å¯ä»¥å°†è¾“å…¥å­—ç¬¦ä¸²ä½™ä¸‹çš„éƒ¨åˆ†å¤åˆ¶åˆ° <code>sbuf</code> ä¸­ã€‚</li></ul><p>ä¸‹é¢çš„ç¨‹åºæ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨è¿™äº›æ›¿æ¢æ–¹æ³•ã€‚å¼€å¤´éƒ¨åˆ†æ³¨é‡Šæ‰çš„æ–‡æœ¬ï¼Œå°±æ˜¯æ­£åˆ™è¡¨è¾¾å¼è¦å¤„ç†çš„è¾“å…¥å­—ç¬¦ä¸²ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/TheReplacements.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>file<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token comment">/*! Here&#39;s a block of text to use as input to 
    the regular expression matcher. Note that we 
    first extract the block of text by looking for 
    the special delimiters, then process the     
    extracted block. !*/</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TheReplacements</span> <span class="token punctuation">{</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>     
        <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token class-name">Files</span><span class="token punctuation">.</span><span class="token function">lines</span><span class="token punctuation">(</span>       
          <span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;TheReplacements.java&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>       
          <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">joining</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// Match specially commented block of text above:     </span>
        <span class="token class-name">Matcher</span> mInput <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>       
          <span class="token string">&quot;/\\*!(.*)!\\*/&quot;</span><span class="token punctuation">,</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token constant">DOTALL</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">if</span><span class="token punctuation">(</span>mInput<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>       
            s <span class="token operator">=</span> mInput<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Captured by parentheses     </span>
        <span class="token comment">// Replace two or more spaces with a single space:     </span>
        s <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">&quot; {2,}&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// Replace 1+ spaces at the beginning of each     </span>
        <span class="token comment">// line with no spaces. Must enable MULTILINE mode:     </span>
        s <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">&quot;(?m)^ +&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        s <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">replaceFirst</span><span class="token punctuation">(</span><span class="token string">&quot;[aeiou]&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;(VOWEL1)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">StringBuffer</span> sbuf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">Pattern</span> p <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">&quot;[aeiou]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">Matcher</span> m <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// Process the find information as you     </span>
        <span class="token comment">// perform the replacements:     </span>
        <span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>      
            m<span class="token punctuation">.</span><span class="token function">appendReplacement</span><span class="token punctuation">(</span>sbuf<span class="token punctuation">,</span> m<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token comment">// Put in the remainder of the text:     </span>
        m<span class="token punctuation">.</span><span class="token function">appendTail</span><span class="token punctuation">(</span>sbuf<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sbuf<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
<span class="token comment">/* Output: 
Here&#39;s a block of text to use as input to 
the regular expression matcher. Note that we 
first extract the block of text by looking for 
the special delimiters, then process the 
extracted block. 
H(VOWEL1)rE&#39;s A blOck Of tExt tO UsE As InpUt tO 
thE rEgUlAr ExprEssIOn mAtchEr. NOtE thAt wE 
fIrst ExtrAct thE blOck Of tExt by lOOkIng fOr 
thE spEcIAl dElImItErs, thEn prOcEss thE 
ExtrActEd blOck. 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤å¤„ä½¿ç”¨ä¸Šä¸€ç« ä»‹ç»è¿‡çš„ <a href="/OnJava8/book/17-Files.html" class=""><code>Files</code></a> ç±»æ‰“å¼€å¹¶è¯»å…¥æ–‡ä»¶ã€‚<code>Files.lines()</code> è¿”å›ä¸€ä¸ª <code>Stream</code> å¯¹è±¡ï¼ŒåŒ…å«è¯»å…¥çš„æ‰€æœ‰è¡Œï¼Œ<code>Collectors.joining()</code> åœ¨æ¯ä¸€è¡Œçš„ç»“å°¾è¿½åŠ å‚æ•°å­—ç¬¦åºåˆ—ï¼Œæœ€ç»ˆæ‹¼æ¥æˆä¸€ä¸ª <code>String</code> å¯¹è±¡ã€‚</p><p><code>mInput</code> åŒ¹é… <code>/*!</code> å’Œ <code>ï¼*/</code> ä¹‹é—´çš„æ‰€æœ‰æ–‡å­—ï¼ˆæ³¨æ„åˆ†ç»„çš„æ‹¬å·ï¼‰ã€‚æ¥ä¸‹æ¥ï¼Œå°†å­˜åœ¨ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šç©ºæ ¼çš„åœ°æ–¹ï¼Œç¼©å‡ä¸ºä¸€ä¸ªç©ºæ ¼ï¼Œå¹¶ä¸”åˆ é™¤æ¯è¡Œå¼€å¤´éƒ¨åˆ†çš„æ‰€æœ‰ç©ºæ ¼ï¼ˆä¸ºäº†ä½¿æ¯ä¸€è¡Œéƒ½è¾¾åˆ°è¿™ä¸ªæ•ˆæœï¼Œè€Œä¸ä»…ä»…æ˜¯åˆ é™¤æ–‡æœ¬å¼€å¤´éƒ¨åˆ†çš„ç©ºæ ¼ï¼Œè¿™é‡Œç‰¹æ„å¼€å¯äº†å¤šè¡Œæ¨¡å¼ï¼‰ã€‚è¿™ä¸¤ä¸ªæ›¿æ¢æ“ä½œæ‰€ä½¿ç”¨çš„çš„ <code>replaceAll()</code> æ˜¯ <code>String</code> å¯¹è±¡è‡ªå¸¦çš„æ–¹æ³•ï¼Œåœ¨è¿™é‡Œï¼Œä½¿ç”¨æ­¤æ–¹æ³•æ›´æ–¹ä¾¿ã€‚æ³¨æ„ï¼Œå› ä¸ºè¿™ä¸¤ä¸ªæ›¿æ¢æ“ä½œéƒ½åªä½¿ç”¨äº†ä¸€æ¬¡ <code>replaceAll()</code>ï¼Œæ‰€ä»¥ï¼Œä¸å…¶ç¼–è¯‘ä¸º <code>Pattern</code>ï¼Œä¸å¦‚ç›´æ¥ä½¿ç”¨ <code>String</code> çš„ <code>replaceAll()</code> æ–¹æ³•ï¼Œè€Œä¸”å¼€é”€ä¹Ÿæ›´å°äº›ã€‚</p><p><code>replaceFirst()</code> åªå¯¹æ‰¾åˆ°çš„ç¬¬ä¸€ä¸ªåŒ¹é…è¿›è¡Œæ›¿æ¢ã€‚æ­¤å¤–ï¼Œ<code>replaceFirst()</code> å’Œ <code>replaceAll()</code> æ–¹æ³•ç”¨æ¥æ›¿æ¢çš„åªæ˜¯æ™®é€šå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ï¼Œå¦‚æœæƒ³å¯¹è¿™äº›æ›¿æ¢å­—ç¬¦ä¸²è¿›è¡ŒæŸäº›ç‰¹æ®Šå¤„ç†ï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•æ—¶æ— æ³•èƒœä»»çš„ã€‚å¦‚æœä½ æƒ³è¦é‚£ä¹ˆåšï¼Œå°±åº”è¯¥ä½¿ç”¨ <code>appendReplacement()</code> æ–¹æ³•ã€‚è¯¥æ–¹æ³•å…è®¸ä½ åœ¨æ‰§è¡Œæ›¿æ¢çš„è¿‡ç¨‹ä¸­ï¼Œæ“ä½œç”¨æ¥æ›¿æ¢çš„å­—ç¬¦ä¸²ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå…ˆæ„é€ äº† <code>sbuf</code> ç”¨æ¥ä¿å­˜æœ€ç»ˆç»“æœï¼Œç„¶åç”¨ <code>group()</code> é€‰æ‹©ä¸€ä¸ªç»„ï¼Œå¹¶å¯¹å…¶è¿›è¡Œå¤„ç†ï¼Œå°†æ­£åˆ™è¡¨è¾¾å¼æ‰¾åˆ°çš„å…ƒéŸ³å­—æ¯æ›¿æ¢æˆå¤§äº›å­—æ¯ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½ åº”è¯¥éå†æ‰§è¡Œæ‰€æœ‰çš„æ›¿æ¢æ“ä½œï¼Œç„¶åå†è°ƒç”¨ <code>appendTail()</code> æ–¹æ³•ï¼Œä½†æ˜¯ï¼Œå¦‚æœä½ æƒ³æ¨¡æ‹Ÿ <code>replaceFirst()</code>ï¼ˆæˆ–æ›¿æ¢næ¬¡ï¼‰çš„è¡Œä¸ºï¼Œé‚£å°±åªéœ€è¦æ‰§è¡Œä¸€æ¬¡æ›¿æ¢ï¼Œç„¶åè°ƒç”¨ <code>appendTail()</code> æ–¹æ³•ï¼Œå°†å‰©ä½™æœªå¤„ç†çš„éƒ¨åˆ†å­˜å…¥ <code>sbuf</code> å³å¯ã€‚</p><p>åŒæ—¶ï¼Œ<code>appendReplacement()</code> æ–¹æ³•è¿˜å…è®¸ä½ é€šè¿‡ <code>\$g</code> ç›´æ¥æ‰¾åˆ°åŒ¹é…çš„æŸä¸ªç»„ï¼Œè¿™é‡Œçš„ <code>g</code> å°±æ˜¯ç»„å·ã€‚ç„¶è€Œï¼Œå®ƒåªèƒ½åº”ä»˜ä¸€äº›ç®€å•çš„å¤„ç†ï¼Œæ— æ³•å®ç°ç±»ä¼¼å‰é¢è¿™ä¸ªä¾‹å­ä¸­çš„åŠŸèƒ½ã€‚</p><h3 id="reset" tabindex="-1"><a class="header-anchor" href="#reset" aria-hidden="true">#</a> <code>reset()</code></h3><p>é€šè¿‡ <code>reset()</code> æ–¹æ³•ï¼Œå¯ä»¥å°†ç°æœ‰çš„ <code>Matcher</code> å¯¹è±¡åº”ç”¨äºä¸€ä¸ªæ–°çš„å­—ç¬¦åºåˆ—ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/Resetting.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Resetting</span> <span class="token punctuation">{</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>     
        <span class="token class-name">Matcher</span> m <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">&quot;[frb][aiu][gx]&quot;</span><span class="token punctuation">)</span>       
          <span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token string">&quot;fix the rug with bags&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>       
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        m<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token string">&quot;fix the rig with rags&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>       
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
<span class="token comment">/* Output: 
fix rug bag 
fix rig rag 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨ä¸å¸¦å‚æ•°çš„ <code>reset()</code> æ–¹æ³•ï¼Œå¯ä»¥å°† <code>Matcher</code> å¯¹è±¡é‡æ–°è®¾ç½®åˆ°å½“å‰å­—ç¬¦åºåˆ—çš„èµ·å§‹ä½ç½®ã€‚</p><h3 id="æ­£åˆ™è¡¨è¾¾å¼ä¸-java-i-o" tabindex="-1"><a class="header-anchor" href="#æ­£åˆ™è¡¨è¾¾å¼ä¸-java-i-o" aria-hidden="true">#</a> æ­£åˆ™è¡¨è¾¾å¼ä¸ Java I/O</h3><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬çœ‹åˆ°çš„ä¾‹å­éƒ½æ˜¯å°†æ­£åˆ™è¡¨è¾¾å¼ç”¨äºé™æ€çš„å­—ç¬¦ä¸²ã€‚ä¸‹é¢çš„ä¾‹å­å°†å‘ä½ æ¼”ç¤ºï¼Œå¦‚ä½•åº”ç”¨æ­£åˆ™è¡¨è¾¾å¼åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­è¿›è¡Œæœç´¢åŒ¹é…æ“ä½œã€‚<code>JGrep.java</code> çš„çµæ„Ÿæºè‡ªäº Unix ä¸Šçš„ <em>grep</em>ã€‚å®ƒæœ‰ä¸¤ä¸ªå‚æ•°ï¼šæ–‡ä»¶åä»¥åŠè¦åŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼ã€‚è¾“å‡ºçš„æ˜¯æ¯è¡Œæœ‰åŒ¹é…çš„éƒ¨åˆ†ä»¥åŠåŒ¹é…éƒ¨åˆ†åœ¨è¡Œä¸­çš„ä½ç½®ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/JGrep.java </span>
<span class="token comment">// A very simple version of the &quot;grep&quot; program </span>
<span class="token comment">// {java JGrep </span>
<span class="token comment">// WhitherStringBuilder.java &#39;return|for|String&#39;} </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span>file<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JGrep</span> <span class="token punctuation">{</span>  
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>    
        <span class="token keyword">if</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>        
              <span class="token string">&quot;Usage: java JGrep file regex&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
        <span class="token punctuation">}</span>    
        <span class="token class-name">Pattern</span> p <span class="token operator">=</span> <span class="token class-name">Pattern</span><span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
        <span class="token comment">// Iterate through the lines of the input file:    </span>
        <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    
        <span class="token class-name">Matcher</span> m <span class="token operator">=</span> p<span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> line<span class="token operator">:</span> <span class="token class-name">Files</span><span class="token punctuation">.</span><span class="token function">readAllLines</span><span class="token punctuation">(</span><span class="token class-name">Paths</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      
            m<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token keyword">while</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>        
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>index<span class="token operator">++</span> <span class="token operator">+</span> <span class="token string">&quot;: &quot;</span> <span class="token operator">+</span>          
                  m<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;: &quot;</span> <span class="token operator">+</span> m<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
        <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
<span class="token comment">/* Output: 
0: for: 4 
1: for: 4 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>Files.readAllLines()</code> è¿”å›ä¸€ä¸ª <code>List&lt;String&gt;</code> å¯¹è±¡ï¼Œè¿™æ„å‘³ç€å¯ä»¥ç”¨ <em>for-in</em> è¿›è¡Œéå†ã€‚è™½ç„¶å¯ä»¥åœ¨ <code>for</code> å¾ªç¯å†…éƒ¨åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>Matcher</code> å¯¹è±¡ï¼Œä½†æ˜¯ï¼Œåœ¨å¾ªç¯ä½“å¤–åˆ›å»ºä¸€ä¸ªç©ºçš„ <code>Matcher</code> å¯¹è±¡ï¼Œç„¶åç”¨ <code>reset()</code> æ–¹æ³•æ¯æ¬¡ä¸º <code>Matcher</code> åŠ è½½ä¸€è¡Œè¾“å…¥ï¼Œè¿™ç§å¤„ç†ä¼šæœ‰ä¸€å®šçš„æ€§èƒ½ä¼˜åŒ–ã€‚æœ€åç”¨ <code>find()</code> æœç´¢ç»“æœã€‚</p><p>è¿™é‡Œè¯»å…¥çš„æµ‹è¯•å‚æ•°æ˜¯ <code>JGrep.java</code> æ–‡ä»¶ï¼Œç„¶åæœç´¢ä»¥ <code>[Ssct]</code> å¼€å¤´çš„å•è¯ã€‚</p><p>å¦‚æœæƒ³è¦æ›´æ·±å…¥åœ°å­¦ä¹ æ­£åˆ™è¡¨è¾¾å¼ï¼Œä½ å¯ä»¥é˜…è¯» Jeffrey E. F. Friedl çš„ã€Šç²¾é€šæ­£åˆ™è¡¨è¾¾å¼ï¼ˆç¬¬2ç‰ˆï¼‰ã€‹ã€‚ç½‘ç»œä¸Šä¹Ÿæœ‰å¾ˆå¤šæ­£åˆ™è¡¨è¾¾å¼çš„ä»‹ç»ï¼Œä½ è¿˜å¯ä»¥ä» Perl å’Œ Python ç­‰å…¶ä»–è¯­è¨€çš„æ–‡æ¡£ä¸­æ‰¾åˆ°æœ‰ç”¨çš„ä¿¡æ¯ã€‚</p><!-- Scanning Input --><h2 id="æ‰«æè¾“å…¥" tabindex="-1"><a class="header-anchor" href="#æ‰«æè¾“å…¥" aria-hidden="true">#</a> æ‰«æè¾“å…¥</h2><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œä»æ–‡ä»¶æˆ–æ ‡å‡†è¾“å…¥è¯»å–æ•°æ®è¿˜æ˜¯ä¸€ä»¶ç›¸å½“ç—›è‹¦çš„äº‹æƒ…ã€‚ä¸€èˆ¬çš„è§£å†³åŠæ³•å°±æ˜¯è¯»å…¥ä¸€è¡Œæ–‡æœ¬ï¼Œå¯¹å…¶è¿›è¡Œåˆ†è¯ï¼Œç„¶åä½¿ç”¨ <code>Integer</code>ã€<code>Double</code> ç­‰ç±»çš„å„ç§è§£ææ–¹æ³•æ¥è§£ææ•°æ®ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/SimpleRead.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SimpleRead</span> <span class="token punctuation">{</span>  
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">BufferedReader</span> input <span class="token operator">=</span>    
      <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StringReader</span><span class="token punctuation">(</span>    
        <span class="token string">&quot;Sir Robin of Camelot\n22 1.61803&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>    
        <span class="token keyword">try</span> <span class="token punctuation">{</span>      
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;What is your name?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">String</span> name <span class="token operator">=</span> input<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;How old are you? &quot;</span> <span class="token operator">+</span>        
              <span class="token string">&quot;What is your favorite double?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;(input: &lt;age&gt; &lt;double&gt;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">String</span> numbers <span class="token operator">=</span> input<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>numbers<span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> numArray <span class="token operator">=</span> numbers<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token keyword">int</span> age <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>numArray<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token keyword">double</span> favorite <span class="token operator">=</span> <span class="token class-name">Double</span><span class="token punctuation">.</span><span class="token function">parseDouble</span><span class="token punctuation">(</span>numArray<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Hi %s.%n&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;In 5 years you will be %d.%n&quot;</span><span class="token punctuation">,</span> age <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;My favorite double is %f.&quot;</span><span class="token punctuation">,</span> favorite <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
        <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>      
            <span class="token class-name">System</span><span class="token punctuation">.</span>err<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;I/O exception&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
        <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
<span class="token comment">/* Output: 
What is your name? 
Sir Robin of Camelot 
How old are you? What is your favorite double? 
(input: &lt;age&gt; &lt;double&gt;) 
22 1.61803
Hi Sir Robin of Camelot. 
In 5 years you will be 27. 
My favorite double is 0.809015. 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>input</code> å­—æ®µä½¿ç”¨çš„ç±»æ¥è‡ª <code>java.io</code>ï¼Œ<a href="/OnJava8/book/Appendix-IO-Streams.html" class="">é™„å½•:æµå¼ I/O</a> è¯¦ç»†ä»‹ç»äº†ç›¸å…³å†…å®¹ã€‚<code>StringReader</code> å°† <code>String</code> è½¬åŒ–ä¸ºå¯è¯»çš„æµå¯¹è±¡ï¼Œç„¶åç”¨è¿™ä¸ªå¯¹è±¡æ¥æ„é€  <code>BufferedReader</code> å¯¹è±¡ï¼Œå› ä¸ºæˆ‘ä»¬è¦ä½¿ç”¨ <code>BufferedReader</code> çš„ <code>readLine()</code> æ–¹æ³•ã€‚æœ€ç»ˆï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>input</code> å¯¹è±¡ä¸€æ¬¡è¯»å–ä¸€è¡Œæ–‡æœ¬ï¼Œå°±åƒä»æ§åˆ¶å°è¯»å…¥æ ‡å‡†è¾“å…¥ä¸€æ ·ã€‚</p><p><code>readLine()</code> æ–¹æ³•å°†ä¸€è¡Œè¾“å…¥è½¬ä¸º <code>String</code> å¯¹è±¡ã€‚å¦‚æœæ¯ä¸€è¡Œæ•°æ®æ­£å¥½å¯¹åº”ä¸€ä¸ªè¾“å…¥å€¼ï¼Œé‚£è¿™ä¸ªæ–¹æ³•ä¹Ÿè¿˜å¯è¡Œã€‚ä½†æ˜¯ï¼Œå¦‚æœä¸¤ä¸ªè¾“å…¥å€¼åœ¨åŒä¸€è¡Œä¸­ï¼Œäº‹æƒ…å°±ä¸å¥½åŠäº†ï¼Œæˆ‘ä»¬å¿…é¡»åˆ†è§£è¿™ä¸ªè¡Œï¼Œæ‰èƒ½åˆ†åˆ«è§£ææ‰€éœ€çš„è¾“å…¥å€¼ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œåˆ†è§£çš„æ“ä½œå‘ç”Ÿåœ¨åˆ›å»º <code>numArray</code>æ—¶ã€‚</p><p>ç»ˆäºï¼ŒJava SE5 æ–°å¢äº† <code>Scanner</code> ç±»ï¼Œå®ƒå¯ä»¥å¤§å¤§å‡è½»æ‰«æè¾“å…¥çš„å·¥ä½œè´Ÿæ‹…ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/BetterRead.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BetterRead</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Scanner</span> stdin <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">SimpleRead</span><span class="token punctuation">.</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;What is your name?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> name <span class="token operator">=</span> stdin<span class="token punctuation">.</span><span class="token function">nextLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;How old are you? What is your favorite double?&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;(input: &lt;age&gt; &lt;double&gt;)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> age <span class="token operator">=</span> stdin<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">double</span> favorite <span class="token operator">=</span> stdin<span class="token punctuation">.</span><span class="token function">nextDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>favorite<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;Hi %s.%n&quot;</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;In 5 years you will be %d.%n&quot;</span><span class="token punctuation">,</span>
      age <span class="token operator">+</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;My favorite double is %f.&quot;</span><span class="token punctuation">,</span>
      favorite <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output: 
What is your name? 
Sir Robin of Camelot 
How old are you? What is your favorite double? 
(input: &lt;age&gt; &lt;double&gt;) 
22 
1.61803 
Hi Sir Robin of Camelot. 
In 5 years you will be 27. 
My favorite double is 0.809015. 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>Scanner</code> çš„æ„é€ å™¨å¯ä»¥æ¥æ”¶ä»»æ„ç±»å‹çš„è¾“å…¥å¯¹è±¡ï¼ŒåŒ…æ‹¬ <code>File</code>ã€<code>InputStream</code>ã€<code>String</code> æˆ–è€…åƒæ­¤ä¾‹ä¸­çš„<code>Readable</code> å®ç°ç±»ã€‚<code>Readable</code> æ˜¯ Java SE5 ä¸­æ–°åŠ å…¥çš„ä¸€ä¸ªæ¥å£ï¼Œè¡¨ç¤ºâ€œå…·æœ‰ <code>read()</code> æ–¹æ³•çš„æŸç§ä¸œè¥¿â€ã€‚ä¸Šä¸€ä¸ªä¾‹å­ä¸­çš„ <code>BufferedReader</code> ä¹Ÿå½’äºè¿™ä¸€ç±»ã€‚</p><p>æœ‰äº† <code>Scanner</code>ï¼Œæ‰€æœ‰çš„è¾“å…¥ã€åˆ†è¯ã€ä»¥åŠè§£æçš„æ“ä½œéƒ½éšè—åœ¨ä¸åŒç±»å‹çš„ <code>next</code> æ–¹æ³•ä¸­ã€‚æ™®é€šçš„ <code>next()</code> æ–¹æ³•è¿”å›ä¸‹ä¸€ä¸ª <code>String</code>ã€‚æ‰€æœ‰çš„åŸºæœ¬ç±»å‹ï¼ˆé™¤ <code>char</code> ä¹‹å¤–ï¼‰éƒ½æœ‰å¯¹åº”çš„ <code>next</code> æ–¹æ³•ï¼ŒåŒ…æ‹¬ <code>BigDecimal</code> å’Œ <code>BigInteger</code>ã€‚æ‰€æœ‰çš„ next æ–¹æ³•ï¼Œåªæœ‰åœ¨æ‰¾åˆ°ä¸€ä¸ªå®Œæ•´çš„åˆ†è¯ä¹‹åæ‰ä¼šè¿”å›ã€‚<code>Scanner</code> è¿˜æœ‰ç›¸åº”çš„ <code>hasNext</code> æ–¹æ³•ï¼Œç”¨ä»¥åˆ¤æ–­ä¸‹ä¸€ä¸ªè¾“å…¥åˆ†è¯æ˜¯å¦æ˜¯æ‰€éœ€çš„ç±»å‹ï¼Œå¦‚æœæ˜¯åˆ™è¿”å› <code>true</code>ã€‚</p><p>åœ¨ <code>BetterRead.java</code> ä¸­æ²¡æœ‰ç”¨ <code>try</code> åŒºå—æ•è·<code>IOException</code>ã€‚å› ä¸ºï¼Œ<code>Scanner</code> æœ‰ä¸€ä¸ªå‡è®¾ï¼Œåœ¨è¾“å…¥ç»“æŸæ—¶ä¼šæŠ›å‡º <code>IOException</code>ï¼Œæ‰€ä»¥ <code>Scanner</code> ä¼šæŠŠ <code>IOException</code> åæ‰ã€‚ä¸è¿‡ï¼Œé€šè¿‡ <code>ioException()</code> æ–¹æ³•ï¼Œä½ å¯ä»¥æ‰¾åˆ°æœ€è¿‘å‘ç”Ÿçš„å¼‚å¸¸ï¼Œå› æ­¤ï¼Œä½ å¯ä»¥åœ¨å¿…è¦æ—¶æ£€æŸ¥å®ƒã€‚</p><h3 id="scanner-åˆ†éš”ç¬¦" tabindex="-1"><a class="header-anchor" href="#scanner-åˆ†éš”ç¬¦" aria-hidden="true">#</a> <code>Scanner</code> åˆ†éš”ç¬¦</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>Scanner</code> æ ¹æ®ç©ºç™½å­—ç¬¦å¯¹è¾“å…¥è¿›è¡Œåˆ†è¯ï¼Œä½†æ˜¯ä½ å¯ä»¥ç”¨æ­£åˆ™è¡¨è¾¾å¼æŒ‡å®šè‡ªå·±æ‰€éœ€çš„åˆ†éš”ç¬¦ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/ScannerDelimiter.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ScannerDelimiter</span> <span class="token punctuation">{</span>  
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>    
        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token string">&quot;12, 42, 78, 99, 42&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
        scanner<span class="token punctuation">.</span><span class="token function">useDelimiter</span><span class="token punctuation">(</span><span class="token string">&quot;\\s*,\\s*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
        <span class="token keyword">while</span><span class="token punctuation">(</span>scanner<span class="token punctuation">.</span><span class="token function">hasNextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>scanner<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span>
<span class="token comment">/* Output: 
12 
42 
78 
99 
42 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªä¾‹å­ä½¿ç”¨é€—å·ï¼ˆåŒ…æ‹¬é€—å·å‰åä»»æ„çš„ç©ºç™½å­—ç¬¦ï¼‰ä½œä¸ºåˆ†éš”ç¬¦ï¼ŒåŒæ ·çš„æŠ€æœ¯ä¹Ÿå¯ä»¥ç”¨æ¥è¯»å–é€—å·åˆ†éš”çš„æ–‡ä»¶ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ <code>useDelimiter()</code> æ¥è®¾ç½®åˆ†éš”ç¬¦ï¼ŒåŒæ—¶ï¼Œè¿˜æœ‰ä¸€ä¸ª <code>delimiter()</code> æ–¹æ³•ï¼Œç”¨æ¥è¿”å›å½“å‰æ­£åœ¨ä½œä¸ºåˆ†éš”ç¬¦ä½¿ç”¨çš„ <code>Pattern</code> å¯¹è±¡ã€‚</p><h3 id="ç”¨æ­£åˆ™è¡¨è¾¾å¼æ‰«æ" tabindex="-1"><a class="header-anchor" href="#ç”¨æ­£åˆ™è¡¨è¾¾å¼æ‰«æ" aria-hidden="true">#</a> ç”¨æ­£åˆ™è¡¨è¾¾å¼æ‰«æ</h3><p>é™¤äº†èƒ½å¤Ÿæ‰«æåŸºæœ¬ç±»å‹ä¹‹å¤–ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œæ‰«æï¼Œè¿™åœ¨æ‰«æå¤æ‚æ•°æ®æ—¶éå¸¸æœ‰ç”¨ã€‚ä¸‹é¢çš„ä¾‹å­å°†æ‰«æä¸€ä¸ªé˜²ç«å¢™æ—¥å¿—æ–‡ä»¶ä¸­çš„å¨èƒæ•°æ®ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/ThreatAnalyzer.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>regex<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreatAnalyzer</span> <span class="token punctuation">{</span> 
    <span class="token keyword">static</span> <span class="token class-name">String</span> threatData <span class="token operator">=</span>    
      <span class="token string">&quot;58.27.82.161@08/10/2015\n&quot;</span> <span class="token operator">+</span>   
      <span class="token string">&quot;204.45.234.40@08/11/2015\n&quot;</span> <span class="token operator">+</span>    
      <span class="token string">&quot;58.27.82.161@08/11/2015\n&quot;</span> <span class="token operator">+</span>    
      <span class="token string">&quot;58.27.82.161@08/12/2015\n&quot;</span> <span class="token operator">+</span>    
      <span class="token string">&quot;58.27.82.161@08/12/2015\n&quot;</span> <span class="token operator">+</span>
      <span class="token string">&quot;[Next log section with different data format]&quot;</span><span class="token punctuation">;</span>  
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span> 
        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span>threatData<span class="token punctuation">)</span><span class="token punctuation">;</span>    
        <span class="token class-name">String</span> pattern <span class="token operator">=</span> <span class="token string">&quot;(\\d+[.]\\d+[.]\\d+[.]\\d+)@&quot;</span> <span class="token operator">+</span>      
            <span class="token string">&quot;(\\d{2}/\\d{2}/\\d{4})&quot;</span><span class="token punctuation">;</span>    
        <span class="token keyword">while</span><span class="token punctuation">(</span>scanner<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>      
            scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">MatchResult</span> match <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">String</span> ip <span class="token operator">=</span> match<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">String</span> date <span class="token operator">=</span> match<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>        
                <span class="token string">&quot;Threat on %s from %s%n&quot;</span><span class="token punctuation">,</span> date<span class="token punctuation">,</span>ip<span class="token punctuation">)</span><span class="token punctuation">;</span>    
        <span class="token punctuation">}</span>  
    <span class="token punctuation">}</span> 
<span class="token punctuation">}</span> 
<span class="token comment">/* Output: 
Threat on 08/10/2015 from 58.27.82.161 
Threat on 08/11/2015 from 204.45.234.40 
Threat on 08/11/2015 from 58.27.82.161 
Threat on 08/12/2015 from 58.27.82.161 
Threat on 08/12/2015 from 58.27.82.161 
*/</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å½“ <code>next()</code> æ–¹æ³•é…åˆæŒ‡å®šçš„æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨æ—¶ï¼Œå°†æ‰¾åˆ°ä¸‹ä¸€ä¸ªåŒ¹é…è¯¥æ¨¡å¼çš„è¾“å…¥éƒ¨åˆ†ï¼Œè°ƒç”¨ <code>match()</code> æ–¹æ³•å°±å¯ä»¥è·å¾—åŒ¹é…çš„ç»“æœã€‚å¦‚ä¸Šæ‰€ç¤ºï¼Œå®ƒçš„å·¥ä½œæ–¹å¼ä¸ä¹‹å‰çœ‹åˆ°çš„æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç›¸ä¼¼ã€‚</p><p>åœ¨é…åˆæ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨æ‰«ææ—¶ï¼Œæœ‰ä¸€ç‚¹éœ€è¦æ³¨æ„ï¼šå®ƒä»…ä»…é’ˆå¯¹ä¸‹ä¸€ä¸ªè¾“å…¥åˆ†è¯è¿›è¡ŒåŒ¹é…ï¼Œå¦‚æœä½ çš„æ­£åˆ™è¡¨è¾¾å¼ä¸­å«æœ‰åˆ†éš”ç¬¦ï¼Œé‚£æ°¸è¿œä¸å¯èƒ½åŒ¹é…æˆåŠŸã€‚</p><!-- StringTokenizer --><h2 id="stringtokenizerç±»" tabindex="-1"><a class="header-anchor" href="#stringtokenizerç±»" aria-hidden="true">#</a> StringTokenizerç±»</h2><p>åœ¨ Java å¼•å…¥æ­£åˆ™è¡¨è¾¾å¼ï¼ˆJ2SE1.4ï¼‰å’Œ <code>Scanner</code> ç±»ï¼ˆJava SE5ï¼‰ä¹‹å‰ï¼Œåˆ†å‰²å­—ç¬¦ä¸²çš„å”¯ä¸€æ–¹æ³•æ˜¯ä½¿ç”¨ <code>StringTokenizer</code> æ¥åˆ†è¯ã€‚ä¸è¿‡ï¼Œç°åœ¨æœ‰äº†æ­£åˆ™è¡¨è¾¾å¼å’Œ <code>Scanner</code>ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ›´åŠ ç®€å•ã€æ›´åŠ ç®€æ´çš„æ–¹å¼æ¥å®ŒæˆåŒæ ·çš„å·¥ä½œäº†ã€‚ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å°† <code>StringTokenizer</code> ä¸å¦å¤–ä¸¤ç§æŠ€æœ¯ç®€å•åœ°åšäº†ä¸€ä¸ªæ¯”è¾ƒï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// strings/ReplacingStringTokenizer.java </span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span> 

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ReplacingStringTokenizer</span> <span class="token punctuation">{</span>   
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
        <span class="token class-name">String</span> input <span class="token operator">=</span>       
          <span class="token string">&quot;But I&#39;m not dead yet! I feel happy!&quot;</span><span class="token punctuation">;</span>     
        <span class="token class-name">StringTokenizer</span> stoke <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringTokenizer</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">while</span><span class="token punctuation">(</span>stoke<span class="token punctuation">.</span><span class="token function">hasMoreElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>       
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>stoke<span class="token punctuation">.</span><span class="token function">nextToken</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>input<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span>input<span class="token punctuation">)</span><span class="token punctuation">;</span>     
        <span class="token keyword">while</span><span class="token punctuation">(</span>scanner<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>       
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span> 
<span class="token comment">/* Output: 
But I&#39;m not dead yet! I feel happy! 
[But, I&#39;m, not, dead, yet!, I, feel, happy!] 
But I&#39;m not dead yet! I feel happy! 
*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æˆ– <code>Scanner</code> å¯¹è±¡ï¼Œæˆ‘ä»¬èƒ½å¤Ÿä»¥æ›´åŠ å¤æ‚çš„æ¨¡å¼æ¥åˆ†å‰²ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œè¿™å¯¹äº <code>StringTokenizer</code> æ¥è¯´å°±å¾ˆå›°éš¾äº†ã€‚åŸºæœ¬ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥æ”¾å¿ƒåœ°è¯´ï¼Œ<code>StringTokenizer</code> å·²ç»å¯ä»¥åºŸå¼ƒä¸ç”¨äº†ã€‚</p><!-- Summary --><h2 id="æœ¬ç« å°ç»“" tabindex="-1"><a class="header-anchor" href="#æœ¬ç« å°ç»“" aria-hidden="true">#</a> æœ¬ç« å°ç»“</h2><p>è¿‡å»ï¼ŒJava å¯¹äºå­—ç¬¦ä¸²æ“ä½œçš„æŠ€æœ¯ç›¸å½“ä¸å®Œå–„ã€‚ä¸è¿‡éšç€è¿‘å‡ ä¸ªç‰ˆæœ¬çš„å‡çº§ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼ŒJava å·²ç»ä»å…¶ä»–è¯­è¨€ä¸­å¸å–äº†è®¸å¤šæˆç†Ÿçš„ç»éªŒã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå®ƒå¯¹å­—ç¬¦ä¸²æ“ä½œçš„æ”¯æŒå·²ç»å¾ˆå®Œå–„äº†ã€‚ä¸è¿‡ï¼Œæœ‰æ—¶ä½ è¿˜è¦åœ¨ç»†èŠ‚ä¸Šæ³¨æ„æ•ˆç‡é—®é¢˜ï¼Œä¾‹å¦‚æ°å½“åœ°ä½¿ç”¨ <code>StringBuilder</code> ç­‰ã€‚</p><p>[^1]: C++å…è®¸ç¼–ç¨‹äººå‘˜ä»»æ„é‡è½½æ“ä½œç¬¦ã€‚è¿™é€šå¸¸æ˜¯å¾ˆå¤æ‚çš„è¿‡ç¨‹ï¼ˆå‚è§Prentice Halläº2000å¹´ç¼–å†™çš„ã€ŠThinking in C++ï¼ˆç¬¬2ç‰ˆï¼‰ã€‹ç¬¬10ç« ï¼‰ï¼Œå› æ­¤Javaè®¾è®¡è€…è®¤ä¸ºè¿™æ˜¯å¾ˆç³Ÿç³•çš„åŠŸèƒ½ï¼Œä¸åº”è¯¥çº³å…¥åˆ°Javaä¸­ã€‚èµ·å§‹é‡è½½æ“ä½œç¬¦å¹¶æ²¡æœ‰ç³Ÿç³•åˆ°åªèƒ½è‡ªå·±å»é‡è½½çš„åœ°æ­¥ï¼Œä½†å…·æœ‰è®½åˆºæ„å‘³çš„æ˜¯ï¼Œä¸C++ç›¸æ¯”ï¼Œåœ¨Javaä¸­ä½¿ç”¨æ“ä½œç¬¦é‡è½½è¦å®¹æ˜“å¾—å¤šã€‚è¿™ä¸€ç‚¹å¯ä»¥åœ¨Python(å‚è§<a href="http://www.python.org" target="_blank" rel="noopener noreferrer">www.Python.org<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>)å’ŒC#ä¸­çœ‹åˆ°ï¼Œå®ƒä»¬éƒ½æœ‰åƒåœ¾å›æ”¶æœºåˆ¶ï¼Œæ“ä½œç¬¦é‡è½½ä¹Ÿç®€å•æ˜“æ‡‚ã€‚</p><p>[^4]: inputæ¥è‡ªäº<a href="https://en.wikipedia.org/wiki/Galaxy_Quest" target="_blank" rel="noopener noreferrer">Galaxy Quest<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>ä¸­Taggartå¸ä»¤çš„ä¸€ç¯‡æ¼”è®²ã€‚</p><!-- åˆ†é¡µ --><div style="page-break-after:always;"></div></div><!----><footer class="page-meta"><div class="meta-item edit-link"><a href="https://github.com/xszhu522/OnJava8/edit/main/docs/book/18-Strings.md" rel="noopener noreferrer" target="_blank" aria-label="åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ" class="nav-link label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" class="icon edit-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="edit icon"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></svg><!--]-->åœ¨ GitHub ä¸Šç¼–è¾‘æ­¤é¡µ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!----></a></div><div class="meta-item git-info"><div class="update-time"><span class="label">ä¸Šæ¬¡ç¼–è¾‘äº: </span><!----></div><div class="contributors"><span class="label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="contributor" title="email: lyna318@163.com">Jason315</span>,<!--]--><!--[--><span class="contributor" title="email: mengdc00@sina.com">AlanMeng</span>,<!--]--><!--[--><span class="contributor" title="email: zhanglintc623@gmail.com">Lane</span>,<!--]--><!--[--><span class="contributor" title="email: xiangflight@foxmail.com">xiangflight</span>,<!--]--><!--[--><span class="contributor" title="email: hongkuan.wang@aalto.fi">Hongkuan Wang</span>,<!--]--><!--[--><span class="contributor" title="email: lingcoder@gmail.com">LingCoder</span>,<!--]--><!--[--><span class="contributor" title="email: RexHuang_dev@163.com">RexHuang</span>,<!--]--><!--[--><span class="contributor" title="email: 44352537+gaodi16366@users.noreply.github.com">gaodi16366</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a aria-label="ç¬¬åä¸ƒç«  æ–‡ä»¶" class="vp-link nav-link prev nav-link prev" href="/OnJava8/book/17-Files.html"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->ç¬¬åä¸ƒç«  æ–‡ä»¶</div></a><a aria-label="ç¬¬åä¹ç«  ç±»å‹ä¿¡æ¯" class="vp-link nav-link next nav-link next" href="/OnJava8/book/19-Type-Information.html"><div class="hint">ä¸‹ä¸€é¡µ<span class="arrow end"></span></div><div class="link">ç¬¬åä¹ç«  ç±»å‹ä¿¡æ¯<!----></div></a></nav><div id="comment" class="giscus-wrapper input-top" style="display:block;"><div class="loading-icon-wrapper" style="display:flex;align-items:center;justify-content:center;height:96px"><svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" preserveAspectRatio="xMidYMid" viewBox="25 25 50 50"><animateTransform attributeName="transform" type="rotate" dur="2s" keyTimes="0;1" repeatCount="indefinite" values="0;360"></animateTransform><circle cx="50" cy="50" r="20" fill="none" stroke="currentColor" stroke-width="4" stroke-linecap="round"><animate attributeName="stroke-dasharray" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="1,200;90,200;1,200"></animate><animate attributeName="stroke-dashoffset" dur="1.5s" keyTimes="0;0.5;1" repeatCount="indefinite" values="0;-35px;-125px"></animate></circle></svg></div></div><!----><!--]--></main><!--]--><footer class="vp-footer-wrapper"><!----><div class="vp-copyright">Copyright Â© 2023 xszhu522</div></footer></div><!--]--><!--]--><!----><!----><!--]--></div>
    <script type="module" src="/OnJava8/assets/app-f910849f.js" defer></script>
  </body>
</html>
